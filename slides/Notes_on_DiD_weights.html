<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="By Hans H. Sievertsen (h.h.sievertsen@bristol.ac.uk)" />
  <title>A few notes about decomposing the two way fixed effects estimator</title>
  <style type="text/css">
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
              </style>
  <script src="data:application/javascript;base64,Ly8gUGFuZG9jIDIuOSBhZGRzIGF0dHJpYnV0ZXMgb24gYm90aCBoZWFkZXIgYW5kIGRpdi4gV2UgcmVtb3ZlIHRoZSBmb3JtZXIgKHRvCi8vIGJlIGNvbXBhdGlibGUgd2l0aCB0aGUgYmVoYXZpb3Igb2YgUGFuZG9jIDwgMi44KS4KZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKGUpIHsKICB2YXIgaHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJkaXYuc2VjdGlvbltjbGFzcyo9J2xldmVsJ10gPiA6Zmlyc3QtY2hpbGQiKTsKICB2YXIgaSwgaCwgYTsKICBmb3IgKGkgPSAwOyBpIDwgaHMubGVuZ3RoOyBpKyspIHsKICAgIGggPSBoc1tpXTsKICAgIGlmICghL15oWzEtNl0kL2kudGVzdChoLnRhZ05hbWUpKSBjb250aW51ZTsgIC8vIGl0IHNob3VsZCBiZSBhIGhlYWRlciBoMS1oNgogICAgYSA9IGguYXR0cmlidXRlczsKICAgIHdoaWxlIChhLmxlbmd0aCA+IDApIGgucmVtb3ZlQXR0cmlidXRlKGFbMF0ubmFtZSk7CiAgfQp9KTsK"></script>
  <link href="data:text/css,%0Abody%0A%7B%0Amargin%3A%200%200%200%200%3B%0Apadding%3A%200%200%200%200%3B%0Awidth%3A%20100%25%3B%0Aheight%3A%20100%25%3B%0Acolor%3A%20black%3B%0Abackground%2Dcolor%3A%20white%3B%0Afont%2Dfamily%3A%20%22Gill%20Sans%20MT%22%2C%20%22Gill%20Sans%22%2C%20GillSans%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014pt%3B%0A%7D%0Adiv%2Etoolbar%20%7B%0Aposition%3A%20fixed%3B%20z%2Dindex%3A%20200%3B%0Atop%3A%20auto%3B%20bottom%3A%200%3B%20left%3A%200%3B%20right%3A%200%3B%0Aheight%3A%201%2E2em%3B%20text%2Dalign%3A%20right%3B%0Apadding%2Dleft%3A%201em%3B%0Apadding%2Dright%3A%201em%3B%20font%2Dsize%3A%2060%25%3B%0Acolor%3A%20DimGray%3B%0Abackground%2Dcolor%3A%20rgb%28240%2C240%2C240%29%3B%0Aborder%2Dtop%3A%20solid%201px%20rgb%28180%2C180%2C180%29%3B%0A%7D%0Adiv%2Etoolbar%20span%2Ecopyright%20%7B%0Acolor%3A%20DimGray%3B%0Amargin%2Dleft%3A%200%2E5em%3B%0A%7D%0Adiv%2Einitial%5Fprompt%20%7B%0Aposition%3A%20absolute%3B%0Az%2Dindex%3A%201000%3B%0Abottom%3A%201%2E2em%3B%0Awidth%3A%20100%25%3B%0Abackground%2Dcolor%3A%20rgb%28200%2C200%2C200%29%3B%0Aopacity%3A%200%2E35%3B%0Abackground%2Dcolor%3A%20rgb%28200%2C200%2C200%2C%200%2E35%29%3B%0Acursor%3A%20pointer%3B%0A%7D%0Adiv%2Einitial%5Fprompt%20p%2Ehelp%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Adiv%2Einitial%5Fprompt%20p%2Eclose%20%7B%0Atext%2Dalign%3A%20right%3B%0Afont%2Dstyle%3A%20italic%3B%0A%7D%0Adiv%2Eslidy%5Ftoc%20%7B%0Aposition%3A%20absolute%3B%0Az%2Dindex%3A%20300%3B%0Awidth%3A%2060%25%3B%0Amax%2Dwidth%3A%2030em%3B%0Aheight%3A%2030em%3B%0Aoverflow%3A%20auto%3B%0Atop%3A%20auto%3B%0Aright%3A%20auto%3B%0Aleft%3A%204em%3B%0Abottom%3A%204em%3B%0Apadding%3A%201em%3B%0Abackground%3A%20rgb%28240%2C240%2C240%29%3B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%2Dwidth%3A%202px%3B%0Afont%2Dsize%3A%2060%25%3B%0A%7D%0Adiv%2Eslidy%5Ftoc%20%2Etoc%5Fheading%20%7B%0Atext%2Dalign%3A%20center%3B%0Awidth%3A%20100%25%3B%0Amargin%3A%200%3B%0Amargin%2Dbottom%3A%201em%3B%0Aborder%2Dbottom%2Dstyle%3A%20solid%3B%0Aborder%2Dbottom%2Dcolor%3A%20rgb%28180%2C180%2C180%29%3B%0Aborder%2Dbottom%2Dwidth%3A%201px%3B%0A%7D%0Adiv%2Eslide%20%7B%0Az%2Dindex%3A%2020%3B%0Amargin%3A%200%200%200%200%3B%0Apadding%2Dtop%3A%200%3B%0Apadding%2Dbottom%3A%200%3B%0Apadding%2Dleft%3A%2020px%3B%0Apadding%2Dright%3A%2020px%3B%0Aborder%2Dwidth%3A%200%3B%0Aclear%3A%20both%3B%0Atop%3A%200%3B%0Abottom%3A%200%3B%0Aleft%3A%200%3B%0Aright%3A%200%3B%0Aline%2Dheight%3A%20120%25%3B%0Abackground%2Dcolor%3A%20transparent%3B%0A%7D%0Adiv%2Ebackground%20%7B%0Adisplay%3A%20none%3B%0A%7D%0Adiv%2Ehandout%20%7B%0Amargin%2Dleft%3A%2020px%3B%0Amargin%2Dright%3A%2020px%3B%0A%7D%0Adiv%2Eslide%2Etitlepage%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Adiv%2Eslide%2Etitlepage%20h1%20%7B%0Apadding%2Dtop%3A%2010%25%3B%0Amargin%2Dright%3A%200%3B%0A%7D%0Adiv%2Eslide%20h1%20%7B%0Apadding%2Dleft%3A%200%3B%0Apadding%2Dright%3A%2020pt%3B%0Apadding%2Dtop%3A%204pt%3B%0Apadding%2Dbottom%3A%204pt%3B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dleft%3A%200%3B%0Amargin%2Dright%3A%2060pt%3B%0Amargin%2Dbottom%3A%200%2E5em%3B%0Adisplay%3A%20block%3B%20font%2Dsize%3A%20160%25%3B%0Aline%2Dheight%3A%201%2E2em%3B%0Abackground%3A%20transparent%3B%0A%7D%0A%40media%20screen%20and%20%28max%2Ddevice%2Dwidth%3A%201024px%29%0A%7B%0Adiv%2Eslide%20%7B%20font%2Dsize%3A%20100%25%3B%20%7D%0A%7D%0A%40media%20screen%20and%20%28max%2Ddevice%2Dwidth%3A%20800px%29%0A%7B%0Adiv%2Eslide%20%7B%20font%2Dsize%3A%20200%25%3B%20%7D%0Adiv%2Eslidy%5Ftoc%20%7B%0Atop%3A%201em%3B%0Aleft%3A%201em%3B%0Aright%3A%20auto%3B%0Awidth%3A%2080%25%3B%0Afont%2Dsize%3A%20180%25%3B%0A%7D%0A%7D%0Adiv%2Etoc%2Dheading%20%7B%0Awidth%3A%20100%25%3B%0Aborder%2Dbottom%3A%20solid%201px%20rgb%28180%2C180%2C180%29%3B%0Amargin%2Dbottom%3A%201em%3B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Aimage%2Drendering%3A%20optimize%2Dquality%3B%0A%7D%0Apre%20%7B%0Afont%2Dsize%3A%2080%25%3B%0Afont%2Dweight%3A%20bold%3B%0Aline%2Dheight%3A%20120%25%3B%0Apadding%2Dtop%3A%200%2E2em%3B%0Apadding%2Dbottom%3A%200%2E2em%3B%0Apadding%2Dleft%3A%201em%3B%0Apadding%2Dright%3A%201em%3B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%2Dleft%2Dwidth%3A%201em%3B%0Aborder%2Dtop%2Dwidth%3A%20thin%3B%0Aborder%2Dright%2Dwidth%3A%20thin%3B%0Aborder%2Dbottom%2Dwidth%3A%20thin%3B%0Aborder%2Dcolor%3A%20%2395ABD0%3B%0Acolor%3A%20%2300428C%3B%0Abackground%2Dcolor%3A%20%23E4E5E7%3B%0A%7D%0Ali%20pre%20%7B%20margin%2Dleft%3A%200%3B%20%7D%0Ablockquote%20%7B%20font%2Dstyle%3A%20italic%20%7D%0Aimg%20%7B%20background%2Dcolor%3A%20transparent%20%7D%0Ap%2Ecopyright%20%7B%20font%2Dsize%3A%20smaller%20%7D%0A%2Ecenter%20%7B%20text%2Dalign%3A%20center%20%7D%0A%2Efootnote%20%7B%20font%2Dsize%3A%20smaller%3B%20margin%2Dleft%3A%202em%3B%20%7D%0Aa%20img%20%7B%20border%2Dwidth%3A%200%3B%20border%2Dstyle%3A%20none%20%7D%0Aa%3Avisited%20%7B%20color%3A%20navy%20%7D%0Aa%3Alink%20%7B%20color%3A%20navy%20%7D%0Aa%3Ahover%20%7B%20color%3A%20red%3B%20text%2Ddecoration%3A%20underline%20%7D%0Aa%3Aactive%20%7B%20color%3A%20red%3B%20text%2Ddecoration%3A%20underline%20%7D%0Aa%20%7Btext%2Ddecoration%3A%20none%7D%0A%2Etoolbar%20a%3Alink%20%7Bcolor%3A%20blue%7D%0A%2Etoolbar%20a%3Avisited%20%7Bcolor%3A%20blue%7D%0A%2Etoolbar%20a%3Aactive%20%7Bcolor%3A%20red%7D%0A%2Etoolbar%20a%3Ahover%20%7Bcolor%3A%20red%7D%0Aul%20%7B%20list%2Dstyle%2Dtype%3A%20square%3B%20%7D%0Aul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20disc%3B%20%7D%0Aul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20circle%3B%20%7D%0Aul%20ul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20disc%3B%20%7D%0Ali%20%7B%20margin%2Dleft%3A%200%2E5em%3B%20margin%2Dtop%3A%200%2E5em%3B%20%7D%0Ali%20li%20%7B%20font%2Dsize%3A%2085%25%3B%20font%2Dstyle%3A%20italic%20%7D%0Ali%20li%20li%20%7B%20font%2Dsize%3A%2085%25%3B%20font%2Dstyle%3A%20normal%20%7D%0Adiv%20dt%0A%7B%0Amargin%2Dleft%3A%200%3B%0Amargin%2Dtop%3A%201em%3B%0Amargin%2Dbottom%3A%200%2E5em%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Adiv%20dd%0A%7B%0Amargin%2Dleft%3A%202em%3B%0Amargin%2Dbottom%3A%200%2E5em%3B%0A%7D%0Ap%2Cpre%2Cul%2Col%2Cblockquote%2Ch2%2Ch3%2Ch4%2Ch5%2Ch6%2Cdl%2Ctable%20%7B%0Amargin%2Dleft%3A%201em%3B%0Amargin%2Dright%3A%201em%3B%0A%7D%0Ap%2Esubhead%20%7B%20font%2Dweight%3A%20bold%3B%20margin%2Dtop%3A%202em%3B%20%7D%0A%2Esmaller%20%7B%20font%2Dsize%3A%20smaller%20%7D%0A%2Ebigger%20%7B%20font%2Dsize%3A%20130%25%20%7D%0Atd%2Cth%20%7B%20padding%3A%200%2E2em%20%7D%0Aul%20%7B%0Amargin%3A%200%2E5em%201%2E5em%200%2E5em%201%2E5em%3B%0Apadding%3A%200%3B%0A%7D%0Aol%20%7B%0Amargin%3A%200%2E5em%201%2E5em%200%2E5em%201%2E5em%3B%0Apadding%3A%200%3B%0A%7D%0Aul%20%7B%20list%2Dstyle%2Dtype%3A%20square%3B%20%7D%0Aul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20disc%3B%20%7D%0Aul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20circle%3B%20%7D%0Aul%20ul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20disc%3B%20%7D%0Aul%20li%20%7B%20list%2Dstyle%3A%20square%3B%0Amargin%3A%200%2E1em%200em%200%2E6em%200%3B%0Apadding%3A%200%200%200%200%3B%0Aline%2Dheight%3A%20140%25%3B%0A%7D%0Aol%20li%20%7B%20margin%3A%200%2E1em%200em%200%2E6em%201%2E5em%3B%0Apadding%3A%200%200%200%200px%3B%0Aline%2Dheight%3A%20140%25%3B%0Alist%2Dstyle%2Dtype%3A%20decimal%3B%0A%7D%0Ali%20ul%20li%20%7B%20font%2Dsize%3A%2085%25%3B%20font%2Dstyle%3A%20italic%3B%0Alist%2Dstyle%2Dtype%3A%20disc%3B%0Abackground%3A%20transparent%3B%0Apadding%3A%200%200%200%200%3B%0A%7D%0Ali%20li%20ul%20li%20%7B%20font%2Dsize%3A%2085%25%3B%20font%2Dstyle%3A%20normal%3B%0Alist%2Dstyle%2Dtype%3A%20circle%3B%0Abackground%3A%20transparent%3B%0Apadding%3A%200%200%200%200%3B%0A%7D%0Ali%20li%20li%20ul%20li%20%7B%0Alist%2Dstyle%2Dtype%3A%20disc%3B%0Abackground%3A%20transparent%3B%0Apadding%3A%200%200%200%200%3B%0A%7D%0Ali%20ol%20li%20%7B%0Alist%2Dstyle%2Dtype%3A%20decimal%3B%0A%7D%0Ali%20li%20ol%20li%20%7B%0Alist%2Dstyle%2Dtype%3A%20decimal%3B%0A%7D%0A%0Aol%2Eoutline%20li%3Ahover%20%7B%20cursor%3A%20pointer%20%7D%0Aol%2Eoutline%20li%2Enofold%3Ahover%20%7B%20cursor%3A%20default%20%7D%0Aul%2Eoutline%20li%3Ahover%20%7B%20cursor%3A%20pointer%20%7D%0Aul%2Eoutline%20li%2Enofold%3Ahover%20%7B%20cursor%3A%20default%20%7D%0Aol%2Eoutline%20%7B%20list%2Dstyle%3Adecimal%3B%20%7D%0Aol%2Eoutline%20ol%20%7B%20list%2Dstyle%2Dtype%3Alower%2Dalpha%20%7D%0Aol%2Eoutline%20li%2Enofold%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAIACAMzMzOvr%2FywAAAAACQAJAAACD4SPoRvG614Dctb4MEMcFAA7%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aol%2Eoutline%20li%2Eunfolded%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAMPD%2F8zMzOvr%2F%2F%2F%2F%2FywAAAAACQAJAAACEYyPoivG614LAlg7ZZbxoR8UADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aol%2Eoutline%20li%2Efolded%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAMPD%2F8zMzOvr%2F%2F%2F%2F%2FywAAAAACQAJAAACFIyPoiu2sJyCyoF7W3hxz850CFIAADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aol%2Eoutline%20li%2Eunfolded%3Ahover%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAAAAAAAA%2F8PD%2F%2F%2F%2F%2FywAAAAACQAJAAACEYSPoivG614DIlg7ZZbxoQ8UADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aol%2Eoutline%20li%2Efolded%3Ahover%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAAAAAAAA%2F8PD%2F%2F%2F%2F%2FywAAAAACQAJAAACFISPoiu2sZyCyoV7G3hxz850CFIAADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aul%2Eoutline%20li%2Enofold%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAIACAMzMzOvr%2FywAAAAACQAJAAACD4SPoRvG614Dctb4MEMcFAA7%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aul%2Eoutline%20li%2Eunfolded%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAMPD%2F8zMzOvr%2F%2F%2F%2F%2FywAAAAACQAJAAACEYyPoivG614LAlg7ZZbxoR8UADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aul%2Eoutline%20li%2Efolded%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAMPD%2F8zMzOvr%2F%2F%2F%2F%2FywAAAAACQAJAAACFIyPoiu2sJyCyoF7W3hxz850CFIAADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aul%2Eoutline%20li%2Eunfolded%3Ahover%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAAAAAAAA%2F8PD%2F%2F%2F%2F%2FywAAAAACQAJAAACEYSPoivG614DIlg7ZZbxoQ8UADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aul%2Eoutline%20li%2Efolded%3Ahover%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAAAAAAAA%2F8PD%2F%2F%2F%2F%2FywAAAAACQAJAAACFISPoiu2sZyCyoV7G3hxz850CFIAADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0A%0Aa%2Etitleslide%20%7B%20font%2Dweight%3A%20bold%3B%20font%2Dstyle%3A%20italic%20%7D%0A%0Aimg%2Ehidden%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0Adiv%2Einitial%5Fprompt%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0Adiv%2Eslide%20%7B%0Avisibility%3A%20visible%3B%0Aposition%3A%20inherit%3B%0A%7D%0Adiv%2Ehandout%20%7B%0Aborder%2Dtop%2Dstyle%3A%20solid%3B%0Aborder%2Dtop%2Dwidth%3A%20thin%3B%0Aborder%2Dtop%2Dcolor%3A%20black%3B%0A%7D%0A%40media%20screen%20%7B%0A%2Ehidden%20%7B%20display%3A%20none%3B%20visibility%3A%20visible%20%7D%0Adiv%2Eslide%2Ehidden%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0Adiv%2Ehandout%2Ehidden%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0Adiv%2Ebackground%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0Abody%2Esingle%5Fslide%20div%2Einitial%5Fprompt%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0Abody%2Esingle%5Fslide%20div%2Ebackground%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0Abody%2Esingle%5Fslide%20div%2Ebackground%2Ehidden%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0Abody%2Esingle%5Fslide%20%2Einvisible%20%7B%20visibility%3A%20hidden%20%7D%0Abody%2Esingle%5Fslide%20%2Ehidden%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0Abody%2Esingle%5Fslide%20div%2Eslide%20%7B%20position%3A%20absolute%20%7D%0Abody%2Esingle%5Fslide%20div%2Ehandout%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0A%7D%0A%40media%20print%20%7B%0A%2Ehidden%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0Adiv%2Eslide%20pre%20%7B%20font%2Dsize%3A%2060%25%3B%20padding%2Dleft%3A%200%2E5em%3B%20%7D%0Adiv%2Etoolbar%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%3B%20%7D%0Adiv%2Eslidy%5Ftoc%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%3B%20%7D%0Adiv%2Ebackground%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%3B%20%7D%0Adiv%2Eslide%20%7B%20page%2Dbreak%2Dbefore%3A%20always%20%7D%0A%0Adiv%2Eslide%2Efirst%2Dslide%20%7B%20page%2Dbreak%2Dbefore%3A%20avoid%20%7D%0A%7D%0A%0A%0A%2Ejslider%20table%20%7B%0Amargin%2Dleft%3A%200em%3B%0Amargin%2Dright%3A%200em%3B%0A%7D%0A%0Atable%2EdataTable%2C%20%2Eshiny%2Ddatatable%2Doutput%20div%20%7B%0Afont%2Dsize%3A%2014pt%3B%0A%7D%0A%0A%2EdataTables%5Finfo%2C%20%2EdataTables%5Fpaginate%20%7B%0Afont%2Dsize%3A%2019px%3B%0A%7D%0A%0Apre%2EsourceCode%2C%20code%2EsourceCode%20%7B%0Afont%2Dsize%3A%2080%25%3B%0A%7D%0A%0Alabel%2C%20button%2C%20input%2C%20select%2C%20textarea%20%7B%0Afont%2Dsize%3A%2014pt%3B%0A%7D%0A%0Aul%2Enav%2C%20ul%2Enav%20li%20%7B%0Alist%2Dstyle%2Dtype%3A%20none%3B%0A%7D%0A" rel="stylesheet" />
  <script src="data:application/javascript;base64,Lyogc2xpZHkuanMKCiAgIENvcHlyaWdodCAoYykgMjAwNS0yMDEzIFczQyAoTUlULCBFUkNJTSwgS2VpbyksIEFsbCBSaWdodHMgUmVzZXJ2ZWQuCiAgIFczQyBsaWFiaWxpdHksIHRyYWRlbWFyaywgZG9jdW1lbnQgdXNlIGFuZCBzb2Z0d2FyZSBsaWNlbnNpbmcKICAgcnVsZXMgYXBwbHksIHNlZToKCiAgIGh0dHA6Ly93d3cudzMub3JnL0NvbnNvcnRpdW0vTGVnYWwvY29weXJpZ2h0LWRvY3VtZW50cwogICBodHRwOi8vd3d3LnczLm9yZy9Db25zb3J0aXVtL0xlZ2FsL2NvcHlyaWdodC1zb2Z0d2FyZQoKICAgRGVmaW5lcyBzaW5nbGUgbmFtZSAidzNjX3NsaWR5IiBpbiBnbG9iYWwgbmFtZXNwYWNlCiAgIEFkZHMgZXZlbnQgaGFuZGxlcnMgd2l0aG91dCB0cmFtcGxpbmcgb24gYW55IG90aGVycwoqLwoKLy8gdGhlIHNsaWR5IG9iamVjdCBpbXBsZW1lbnRhdGlvbgp2YXIgdzNjX3NsaWR5ID0gewogIC8vIGNsYXNzaWZ5IHdoaWNoIGtpbmQgb2YgYnJvd3NlciB3ZSdyZSBydW5uaW5nIHVuZGVyCiAgbnNfcG9zOiAodHlwZW9mIHdpbmRvdy5wYWdlWU9mZnNldCE9J3VuZGVmaW5lZCcpLAogIGtodG1sOiAoKG5hdmlnYXRvci51c2VyQWdlbnQpLmluZGV4T2YoIktIVE1MIikgPj0gMCA/IHRydWUgOiBmYWxzZSksCiAgb3BlcmE6ICgobmF2aWdhdG9yLnVzZXJBZ2VudCkuaW5kZXhPZigiT3BlcmEiKSA+PSAwID8gdHJ1ZSA6IGZhbHNlKSwKICBpcGFkOiAoKG5hdmlnYXRvci51c2VyQWdlbnQpLmluZGV4T2YoImlQYWQiKSA+PSAwID8gdHJ1ZSA6IGZhbHNlKSwKICBpcGhvbmU6ICgobmF2aWdhdG9yLnVzZXJBZ2VudCkuaW5kZXhPZigiaVBob25lIikgPj0gMCA/IHRydWUgOiBmYWxzZSksCiAgYW5kcm9pZDogKChuYXZpZ2F0b3IudXNlckFnZW50KS5pbmRleE9mKCJBbmRyb2lkIikgPj0gMCA/IHRydWUgOiBmYWxzZSksCiAgaWU6ICh0eXBlb2YgZG9jdW1lbnQuYWxsICE9ICJ1bmRlZmluZWQiICYmICF0aGlzLm9wZXJhKSwKICBpZTY6ICghdGhpcy5uc19wb3MgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIDYiKSAhPSAtMSksCiAgaWU3OiAoIXRoaXMubnNfcG9zICYmIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTVNJRSA3IikgIT0gLTEpLAogIGllODogKCF0aGlzLm5zX3BvcyAmJiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk1TSUUgOCIpICE9IC0xKSwKICBpZTk6ICghdGhpcy5uc19wb3MgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIDkiKSAhPSAtMSksCgogIC8vIGRhdGEgZm9yIHN3aXBlIGFuZCBkb3VibGUgdGFwIGRldGVjdGlvbiBvbiB0b3VjaCBzY3JlZW5zCiAgbGFzdF90YXA6IDAsCiAgcHJldl90YXA6IDAsCiAgc3RhcnRfeDogMCwKICBzdGFydF95OiAwLAogIGRlbHRhX3g6IDAsCiAgZGVsdGFfeTogMCwKCiAgLy8gYXJlIHdlIHJ1bm5pbmcgYXMgWEhUTUw/IChkb2Vzbid0IHdvcmsgb24gT3BlcmEpCiAgaXNfeGh0bWw6IC94bWwvLnRlc3QoZG9jdW1lbnQuY29udGVudFR5cGUpLAoKICBzbGlkZV9udW1iZXI6IDAsIC8vIGludGVnZXIgc2xpZGUgY291bnQ6IDAsIDEsIDIsIC4uLgogIHNsaWRlX251bWJlcl9lbGVtZW50OiBudWxsLCAvLyBlbGVtZW50IGNvbnRhaW5pbmcgc2xpZGUgbnVtYmVyCiAgc2xpZGVzOiBbXSwgLy8gc2V0IHRvIGFycmF5IG9mIHNsaWRlIGRpdidzCiAgbm90ZXM6IFtdLCAvLyBzZXQgdG8gYXJyYXkgb2YgaGFuZG91dCBkaXYncwogIGJhY2tncm91bmRzOiBbXSwgLy8gc2V0IHRvIGFycmF5IG9mIGJhY2tncm91bmQgZGl2J3MKICBvYnNlcnZlcnM6IFtdLCAvLyBsaXN0IG9mIG9ic2VydmVyIGZ1bmN0aW9ucwogIHRvb2xiYXI6IG51bGwsIC8vIGVsZW1lbnQgY29udGFpbmluZyB0b29sYmFyCiAgdGl0bGU6IG51bGwsIC8vIGRvY3VtZW50IHRpdGxlCiAgbGFzdF9zaG93bjogbnVsbCwgLy8gbGFzdCBpbmNyZW1lbnRhbGx5IHNob3duIGl0ZW0KICBlb3M6IG51bGwsICAvLyBzcGFuIGVsZW1lbnQgZm9yIGVuZCBvZiBzbGlkZSBpbmRpY2F0b3IKICB0b2M6IG51bGwsIC8vIHRhYmxlIG9mIGNvbnRlbnRzCiAgb3V0bGluZTogbnVsbCwgLy8gb3V0bGluZSBlbGVtZW50IHdpdGggdGhlIGZvY3VzCiAgc2VsZWN0ZWRfdGV4dF9sZW46IDAsIC8vIGxlbmd0aCBvZiBkcmFnIHNlbGVjdGlvbiBvbiBkb2N1bWVudAogIHZpZXdfYWxsOiAwLCAgLy8gMSB0byB2aWV3IGFsbCBzbGlkZXMgKyBoYW5kb3V0cwogIHdhbnRfdG9vbGJhcjogdHJ1ZSwgIC8vIHVzZXIgcHJlZmVyZW5jZSB0byBzaG93L2hpZGUgdG9vbGJhcgogIG1vdXNlX2NsaWNrX2VuYWJsZWQ6IHRydWUsIC8vIGVuYWJsZXMgbGVmdCBjbGljayBmb3IgbmV4dCBzbGlkZQogIHNjcm9sbF9oYWNrOiAwLCAvLyBJRSB3b3JrIGFyb3VuZCBmb3IgcG9zaXRpb246IGZpeGVkCiAgZGlzYWJsZV9zbGlkZV9jbGljazogZmFsc2UsICAvLyB1c2VkIGJ5IGNsaWNrZWQgYW5jaG9ycwoKICBsYW5nOiAiZW4iLCAvLyB1cGRhdGVkIHRvIGxhbmd1YWdlIHNwZWNpZmllZCBieSBodG1sIGZpbGUKCiAgaGVscF9hbmNob3I6IG51bGwsIC8vIHVzZWQgZm9yIGtleWJvYXJkIGZvY3VzIGhhY2sgaW4gc2hvd1Rvb2xiYXIoKQogIGhlbHBfcGFnZTogImh0dHA6Ly93d3cudzMub3JnL1RhbGtzL1Rvb2xzL1NsaWR5Mi9oZWxwL2hlbHAuaHRtbCIsCiAgaGVscF90ZXh0OiAiTmF2aWdhdGUgd2l0aCBtb3VzZSBjbGljaywgc3BhY2UgYmFyLCBDdXJzb3IgTGVmdC9SaWdodCwgIiArCiAgICAgICAgICAgICAib3IgUGcgVXAgYW5kIFBnIERuLiBVc2UgUyBhbmQgQiB0byBjaGFuZ2UgZm9udCBzaXplLiIsCgogIHNpemVfaW5kZXg6IDAsCiAgc2l6ZV9hZGp1c3RtZW50OiAwLAogIHNpemVzOiAgbmV3IEFycmF5KCIxMHB0IiwgIjEycHQiLCAiMTRwdCIsICIxNnB0IiwgIjE4cHQiLCAiMjBwdCIsCiAgICAgICAgICAgICAgICAgICAgIjIycHQiLCAiMjRwdCIsICIyNnB0IiwgIjI4cHQiLCAiMzBwdCIsICIzMnB0IiksCgogIC8vIG5lZWRlZCBmb3IgZWZmaWNpZW50IHJlc2l6aW5nCiAgbGFzdF93aWR0aDogMCwKICBsYXN0X2hlaWdodDogMCwKCgogIC8vIE5lZWRlZCBmb3IgY3Jvc3MgYnJvd3NlciBzdXBwb3J0IGZvciByZWxhdGl2ZSB3aWR0aC9oZWlnaHQgb24KICAvLyBvYmplY3QgZWxlbWVudHMuIFRoZSB3b3JrIGFyb3VuZCBpcyB0byBzYXZlIHdpZHRoL2hlaWdodCBhdHRyaWJ1dGVzCiAgLy8gYW5kIHRoZW4gdG8gcmVjb21wdXRlIGFic29sdXRlIHdpZHRoL2hlaWdodCBkaW1lbnNpb25zIG9uIHJlc2l6aW5nCiAgIG9iamVjdHM6IFtdLAoKICAvLyBhdHRhY2ggaW5pdGlhbGlhdGlvbiBldmVudCBoYW5kbGVycwogIHNldF91cDogZnVuY3Rpb24gKCkgewogICAgdmFyIGluaXQgPSBmdW5jdGlvbigpIHsgdzNjX3NsaWR5LmluaXQoKTsgfTsKICAgIGlmICh0eXBlb2Ygd2luZG93LmFkZEV2ZW50TGlzdGVuZXIgIT0gInVuZGVmaW5lZCIpCiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgaW5pdCwgZmFsc2UpOwogICAgZWxzZQogICAgICB3aW5kb3cuYXR0YWNoRXZlbnQoIm9ubG9hZCIsIGluaXQpOwogIH0sCgogIGhpZGVfc2xpZGVzOiBmdW5jdGlvbiAoKSB7CiAgICBpZiAoZG9jdW1lbnQuYm9keSAmJiAhdzNjX3NsaWR5LmluaXRpYWxpemVkKQogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnZpc2liaWxpdHkgPSAiaGlkZGVuIjsKICAgIGVsc2UKICAgICAgc2V0VGltZW91dCh3M2Nfc2xpZHkuaGlkZV9zbGlkZXMsIDUwKTsKICB9LAoKICAvLyBoYWNrIHRvIHBlcnN1YWRlIElFIHRvIGNvbXB1dGUgY29ycmVjdCBkb2N1bWVudCBoZWlnaHQKICAvLyBhcyBuZWVkZWQgZm9yIHNpbXVsYXRpbmcgZml4ZWQgcG9zaXRpb25pbmcgb2YgdG9vbGJhcgogIGllX2hhY2s6IGZ1bmN0aW9uICgpIHsKICAgIHdpbmRvdy5yZXNpemVCeSgwLC0xKTsKICAgIHdpbmRvdy5yZXNpemVCeSgwLCAxKTsKICB9LAoKICBpbml0OiBmdW5jdGlvbiAoKSB7CiAgICAvL2FsZXJ0KCJzbGlkeSBzdGFydGluZyB0ZXN0IDEwIik7CiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnZpc2liaWxpdHkgPSAidmlzaWJsZSI7CiAgICB0aGlzLmluaXRfbG9jYWxpemF0aW9uKCk7CiAgICB0aGlzLmFkZF90b29sYmFyKCk7CiAgICB0aGlzLndyYXBfaW1wbGljaXRfc2xpZGVzKCk7CiAgICB0aGlzLmNvbGxlY3Rfc2xpZGVzKCk7CiAgICB0aGlzLmNvbGxlY3Rfbm90ZXMoKTsKICAgIHRoaXMuY29sbGVjdF9iYWNrZ3JvdW5kcygpOwogICAgdGhpcy5vYmplY3RzID0gZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5VGFnTmFtZSgib2JqZWN0Iik7CiAgICB0aGlzLnBhdGNoX2FuY2hvcnMoKTsKICAgIHRoaXMuc2xpZGVfbnVtYmVyID0gdGhpcy5maW5kX3NsaWRlX251bWJlcihsb2NhdGlvbi5ocmVmKTsKICAgIHdpbmRvdy5vZmZzY3JlZW5idWZmZXJpbmcgPSB0cnVlOwogICAgdGhpcy5zaXplX2FkanVzdG1lbnQgPSB0aGlzLmZpbmRfc2l6ZV9hZGp1c3QoKTsKICAgIHRoaXMudGltZV9sZWZ0ID0gdGhpcy5maW5kX2R1cmF0aW9uKCk7CiAgICB0aGlzLmhpZGVfaW1hZ2VfdG9vbGJhcigpOyAgLy8gc3VwcHJlc3MgSUUgaW1hZ2UgdG9vbGJhciBwb3B1cAogICAgdGhpcy5pbml0X291dGxpbmVyKCk7ICAvLyBhY3RpdmF0ZSBmb2xkL3VuZm9sZCBzdXBwb3J0CiAgICB0aGlzLnRpdGxlID0gZG9jdW1lbnQudGl0bGU7CiAgICB0aGlzLmtleWJvYXJkbGVzcyA9ICh0aGlzLmlwYWR8fHRoaXMuaXBob25lfHx0aGlzLmFuZHJvaWQpOwoKICAgIGlmICh0aGlzLmtleWJvYXJkbGVzcykKICAgIHsKICAgICAgdzNjX3NsaWR5LnJlbW92ZV9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpCiAgICAgIHRoaXMud2FudF90b29sYmFyID0gMDsKICAgIH0KCiAgICAvLyB3b3JrIGFyb3VuZCBmb3Igb3BlcmEgYnVnCiAgICB0aGlzLmlzX3hodG1sID0gKGRvY3VtZW50LmJvZHkudGFnTmFtZSA9PSAiQk9EWSIgPyBmYWxzZSA6IHRydWUpOwoKICAgIGlmICh0aGlzLnNsaWRlcy5sZW5ndGggPiAwKQogICAgewogICAgICB2YXIgc2xpZGUgPSB0aGlzLnNsaWRlc1t0aGlzLnNsaWRlX251bWJlcl07CiAgIAogICAgICBpZiAodGhpcy5zbGlkZV9udW1iZXIgPiAwKQogICAgICB7CiAgICAgICAgdGhpcy5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoInZpc2libGUiKTsKICAgICAgICB0aGlzLmxhc3Rfc2hvd24gPSB0aGlzLnByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW0obnVsbCk7CiAgICAgICAgdGhpcy5zZXRfZW9zX3N0YXR1cyh0cnVlKTsKICAgICAgfQogICAgICBlbHNlCiAgICAgIHsKICAgICAgICB0aGlzLmxhc3Rfc2hvd24gPSBudWxsOwogICAgICAgIHRoaXMuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJoaWRkZW4iKTsKICAgICAgICB0aGlzLnNldF9lb3Nfc3RhdHVzKCF0aGlzLm5leHRfaW5jcmVtZW50YWxfaXRlbSh0aGlzLmxhc3Rfc2hvd24pKTsKICAgICAgfQoKICAgICAgdGhpcy5zZXRfbG9jYXRpb24oKTsKICAgICAgdGhpcy5hZGRfY2xhc3ModGhpcy5zbGlkZXNbMF0sICJmaXJzdC1zbGlkZSIpOwogICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZShzbGlkZSk7CiAgICB9CgogICAgdGhpcy50b2MgPSB0aGlzLnRhYmxlX29mX2NvbnRlbnRzKCk7CgogICAgdGhpcy5hZGRfaW5pdGlhbF9wcm9tcHQoKTsKCiAgICAvLyBiaW5kIGV2ZW50IGhhbmRsZXJzIHdpdGhvdXQgaW50ZXJmZXJpbmcgd2l0aCBjdXN0b20gcGFnZSBzY3JpcHRzCiAgICAvLyBUYXAgZXZlbnRzIGJlaGF2ZSB0b28gd2VpcmRseSB0byBzdXBwb3J0IGNsaWNrcyByZWxpYWJseSBvbgogICAgLy8gaVBob25lIGFuZCBpUGFkLCBzbyBleGNsdWRlIHRoZXNlIGZyb20gY2xpY2sgaGFuZGxlcgoKICAgIGlmICghdGhpcy5rZXlib2FyZGxlc3MpCiAgICB7CiAgICAgIHRoaXMuYWRkX2xpc3RlbmVyKGRvY3VtZW50LmJvZHksICJjbGljayIsIHRoaXMubW91c2VfYnV0dG9uX2NsaWNrKTsKICAgICAgdGhpcy5hZGRfbGlzdGVuZXIoZG9jdW1lbnQuYm9keSwgIm1vdXNlZG93biIsIHRoaXMubW91c2VfYnV0dG9uX2Rvd24pOwogICAgfQoKICAgIHRoaXMuYWRkX2xpc3RlbmVyKGRvY3VtZW50LCAia2V5ZG93biIsIHRoaXMua2V5X2Rvd24pOwogICAgdGhpcy5hZGRfbGlzdGVuZXIoZG9jdW1lbnQsICJrZXlwcmVzcyIsIHRoaXMua2V5X3ByZXNzKTsKICAgIHRoaXMuYWRkX2xpc3RlbmVyKHdpbmRvdywgInJlc2l6ZSIsIHRoaXMucmVzaXplZCk7CiAgICB0aGlzLmFkZF9saXN0ZW5lcih3aW5kb3csICJzY3JvbGwiLCB0aGlzLnNjcm9sbGVkKTsKICAgIHRoaXMuYWRkX2xpc3RlbmVyKHdpbmRvdywgInVubG9hZCIsIHRoaXMudW5sb2FkZWQpOwoKICAgIHRoaXMuYWRkX2xpc3RlbmVyKGRvY3VtZW50LCAiZ2VzdHVyZWNoYW5nZSIsIGZ1bmN0aW9uICgpCiAgICB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0pOwoKICAgIHRoaXMuYXR0YWNoX3RvdWNoX2hhbmRlcnModGhpcy5zbGlkZXMpOwoKICAgIC8vIHRoaXMgc2VlbXMgdG8gYmUgYSBkZWJ1Z2dpbmcgaGFjawogICAgLy9pZiAoIWRvY3VtZW50LmJvZHkub25jbGljaykKICAgIC8vICBkb2N1bWVudC5ib2R5Lm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7IH07CgogICAgdGhpcy5zaW5nbGVfc2xpZGVfdmlldygpOwoKICAgIC8vdGhpcy5zZXRfbG9jYXRpb24oKTsKCiAgICB0aGlzLnJlc2l6ZWQoKTsKCiAgICBpZiAodGhpcy5pZTcpCiAgICAgIHNldFRpbWVvdXQodzNjX3NsaWR5LmllX2hhY2ssIDEwMCk7CgogICAgdGhpcy5zaG93X3Rvb2xiYXIoKTsKCiAgICAvLyBmb3IgYmFjayBidXR0b24gZGV0ZWN0aW9uCiAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7IHczY19zbGlkeS5jaGVja19sb2NhdGlvbigpOyB9LCAyMDApOwogICAgdzNjX3NsaWR5LmluaXRpYWxpemVkID0gdHJ1ZTsKICB9LAoKICAvLyBjcmVhdGUgZGl2IGVsZW1lbnQgd2l0aCBsaW5rcyB0byBlYWNoIHNsaWRlCiAgdGFibGVfb2ZfY29udGVudHM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciB0b2MgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJkaXYiKTsKICAgIHRoaXMuYWRkX2NsYXNzKHRvYywgInNsaWR5X3RvYyBoaWRkZW4iKTsKICAgIC8vdG9jLnNldEF0dHJpYnV0ZSgidGFiaW5kZXgiLCAiMCIpOwoKICAgIHZhciBoZWFkaW5nID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiZGl2Iik7CiAgICB0aGlzLmFkZF9jbGFzcyhoZWFkaW5nLCAidG9jLWhlYWRpbmciKTsKICAgIGhlYWRpbmcuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgiVGFibGUgb2YgQ29udGVudHMiKTsKCiAgICB0b2MuYXBwZW5kQ2hpbGQoaGVhZGluZyk7CiAgICB2YXIgcHJldmlvdXMgPSBudWxsOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zbGlkZXMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIHZhciB0aXRsZSA9IHRoaXMuaGFzX2NsYXNzKHRoaXMuc2xpZGVzW2ldLCAidGl0bGUiKTsKICAgICAgdmFyIG51bSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKChpICsgMSkgKyAiLiAiKTsKCiAgICAgIHRvYy5hcHBlbmRDaGlsZChudW0pOwoKICAgICAgdmFyIGEgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJhIik7CiAgICAgIGEuc2V0QXR0cmlidXRlKCJocmVmIiwgIiMoIiArIChpKzEpICsgIikiKTsKCiAgICAgIGlmICh0aXRsZSkKICAgICAgICB0aGlzLmFkZF9jbGFzcyhhLCAidGl0bGVzbGlkZSIpOwoKICAgICAgdmFyIG5hbWUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLnNsaWRlX25hbWUoaSkpOwogICAgICBhLmFwcGVuZENoaWxkKG5hbWUpOwogICAgICBhLm9uY2xpY2sgPSB3M2Nfc2xpZHkudG9jX2NsaWNrOwogICAgICBhLm9ua2V5ZG93biA9IHczY19zbGlkeS50b2Nfa2V5X2Rvd247CiAgICAgIGEucHJldmlvdXMgPSBwcmV2aW91czsKCiAgICAgIGlmIChwcmV2aW91cykKICAgICAgICBwcmV2aW91cy5uZXh0ID0gYTsKCiAgICAgIHRvYy5hcHBlbmRDaGlsZChhKTsKCiAgICAgIGlmIChpID09IDApCiAgICAgICAgdG9jLmZpcnN0ID0gYTsKCiAgICAgIGlmIChpIDwgdGhpcy5zbGlkZXMubGVuZ3RoIC0gMSkKICAgICAgewogICAgICAgIHZhciBiciA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImJyIik7CiAgICAgICAgdG9jLmFwcGVuZENoaWxkKGJyKTsKICAgICAgfQoKICAgICAgcHJldmlvdXMgPSBhOwogICAgfQoKICAgIHRvYy5mb2N1cyA9IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHRoaXMuZmlyc3QpCiAgICAgICAgdGhpcy5maXJzdC5mb2N1cygpOwogICAgfQoKICAgIHRvYy5vbm1vdXNldXAgPSB3M2Nfc2xpZHkubW91c2VfYnV0dG9uX3VwOwoKICAgIHRvYy5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHsKICAgICAgZXx8KGU9d2luZG93LmV2ZW50KTsKCiAgICAgIGlmICh3M2Nfc2xpZHkuc2VsZWN0ZWRfdGV4dF9sZW4gPD0gMCkKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfdGFibGVfb2ZfY29udGVudHModHJ1ZSk7CgogICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihlKTsKICAgIAogICAgICBpZiAoZS5jYW5jZWwgIT0gdW5kZWZpbmVkKQogICAgICAgIGUuY2FuY2VsID0gdHJ1ZTsKICAgICAgCiAgICAgIGlmIChlLnJldHVyblZhbHVlICE9IHVuZGVmaW5lZCkKICAgICAgICBlLnJldHVyblZhbHVlID0gZmFsc2U7CiAgICAgIAogICAgICByZXR1cm4gZmFsc2U7CiAgICB9OwoKICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKHRvYywgZG9jdW1lbnQuYm9keS5maXJzdENoaWxkKTsKICAgIHJldHVybiB0b2M7CiAgfSwKCiAgaXNfc2hvd25fdG9jOiBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gIXczY19zbGlkeS5oYXNfY2xhc3ModzNjX3NsaWR5LnRvYywgImhpZGRlbiIpOwogIH0sCgogIHNob3dfdGFibGVfb2ZfY29udGVudHM6IGZ1bmN0aW9uICgpIHsKICAgIHczY19zbGlkeS5yZW1vdmVfY2xhc3ModzNjX3NsaWR5LnRvYywgImhpZGRlbiIpOwogICAgdmFyIHRvYyA9IHczY19zbGlkeS50b2M7CiAgICB0b2MuZm9jdXMoKTsKCiAgICBpZiAodzNjX3NsaWR5LmllNyAmJiB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID09IDApCiAgICAgIHNldFRpbWVvdXQodzNjX3NsaWR5LmllX2hhY2ssIDEwMCk7CiAgfSwKCiAgaGlkZV90YWJsZV9vZl9jb250ZW50czogZnVuY3Rpb24gKGZvY3VzKSB7CiAgICB3M2Nfc2xpZHkuYWRkX2NsYXNzKHczY19zbGlkeS50b2MsICJoaWRkZW4iKTsKCiAgICBpZiAoZm9jdXMgJiYgIXczY19zbGlkeS5vcGVyYSAmJgogICAgICAgICF3M2Nfc2xpZHkuaGFzX2NsYXNzKHczY19zbGlkeS50b2MsICJoaWRkZW4iKSkKICAgICAgdzNjX3NsaWR5LnNldF9mb2N1cygpOwogIH0sCgogIHRvZ2dsZV90YWJsZV9vZl9jb250ZW50czogZnVuY3Rpb24gKCkgewogICAgaWYgKHczY19zbGlkeS5pc19zaG93bl90b2MoKSkKICAgICAgdzNjX3NsaWR5LmhpZGVfdGFibGVfb2ZfY29udGVudHModHJ1ZSk7CiAgICBlbHNlCiAgICAgIHczY19zbGlkeS5zaG93X3RhYmxlX29mX2NvbnRlbnRzKCk7CiAgfSwKCiAgLy8gY2FsbGVkIG9uIGNsaWNraW5nIHRvYyBlbnRyeQogIHRvY19jbGljazogZnVuY3Rpb24gKGUpIHsKICAgIGlmICghZSkKICAgICAgZSA9IHdpbmRvdy5ldmVudDsKCiAgICB2YXIgdGFyZ2V0ID0gdzNjX3NsaWR5LmdldF90YXJnZXQoZSk7CgogICAgaWYgKHRhcmdldCAmJiB0YXJnZXQubm9kZVR5cGUgPT0gMSkKICAgIHsKICAgICAgdmFyIHVyaSA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoImhyZWYiKTsKCiAgICAgIGlmICh1cmkpCiAgICAgIHsKICAgICAgICAvL2FsZXJ0KCJnb2luZyB0byAiICsgdXJpKTsKICAgICAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgIHczY19zbGlkeS5oaWRlX3NsaWRlKHNsaWRlKTsKICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID0gdzNjX3NsaWR5LmZpbmRfc2xpZGVfbnVtYmVyKHVyaSk7CiAgICAgICAgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgIHczY19zbGlkeS5sYXN0X3Nob3duID0gbnVsbDsKICAgICAgICB3M2Nfc2xpZHkuc2V0X2xvY2F0aW9uKCk7CiAgICAgICAgdzNjX3NsaWR5LnNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbCgiaGlkZGVuIik7CiAgICAgICAgdzNjX3NsaWR5LnNldF9lb3Nfc3RhdHVzKCF3M2Nfc2xpZHkubmV4dF9pbmNyZW1lbnRhbF9pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKSk7CiAgICAgICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgICAgIC8vdGFyZ2V0LmZvY3VzKCk7CgogICAgICAgIHRyeQogICAgICAgIHsKICAgICAgICAgIGlmICghdzNjX3NsaWR5Lm9wZXJhKQogICAgICAgICAgICB3M2Nfc2xpZHkuc2V0X2ZvY3VzKCk7CiAgICAgICAgfQogICAgICAgIGNhdGNoIChlKQogICAgICAgIHsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICB3M2Nfc2xpZHkuaGlkZV90YWJsZV9vZl9jb250ZW50cyh0cnVlKTsKICAgIGlmICh3M2Nfc2xpZHkuaWU3KSB3M2Nfc2xpZHkuaWVfaGFjaygpOwogICAgdzNjX3NsaWR5LnN0b3BfcHJvcGFnYXRpb24oZSk7CiAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChlKTsKICB9LAoKICAvLyBjYWxsZWQgb25rZXlkb3duIGZvciB0b2MgZW50cnkKICB0b2Nfa2V5X2Rvd246IGZ1bmN0aW9uIChldmVudCkgewogICAgdmFyIGtleTsKCiAgICBpZiAoIWV2ZW50KQogICAgICB2YXIgZXZlbnQgPSB3aW5kb3cuZXZlbnQ7CgogICAgLy8ga2x1ZGdlIGFyb3VuZCBOUy9JRSBkaWZmZXJlbmNlcyAKICAgIGlmICh3aW5kb3cuZXZlbnQpCiAgICAgIGtleSA9IHdpbmRvdy5ldmVudC5rZXlDb2RlOwogICAgZWxzZSBpZiAoZXZlbnQud2hpY2gpCiAgICAgIGtleSA9IGV2ZW50LndoaWNoOwogICAgZWxzZQogICAgICByZXR1cm4gdHJ1ZTsgLy8gWWlrZXMhIHVua25vd24gYnJvd3NlcgoKICAgIC8vIGlnbm9yZSBldmVudCBpZiBrZXkgdmFsdWUgaXMgemVybwogICAgLy8gYXMgZm9yIGFsdCBvbiBPcGVyYSBhbmQgS29ucXVlcm9yCiAgICBpZiAoIWtleSkKICAgICAgcmV0dXJuIHRydWU7CgogICAgLy8gY2hlY2sgZm9yIGNvbmN1cnJlbnQgY29udHJvbC9jb21tYW5kL2FsdCBrZXkKICAgIC8vIGJ1dCBhcmUgdGhlc2Ugb25seSBwcmVzZW50IG9uIG1vdXNlIGV2ZW50cz8KCiAgICBpZiAoZXZlbnQuY3RybEtleSB8fCBldmVudC5hbHRLZXkpCiAgICAgIHJldHVybiB0cnVlOwoKICAgIGlmIChrZXkgPT0gMTMpCiAgICB7CiAgICAgIHZhciB1cmkgPSB0aGlzLmdldEF0dHJpYnV0ZSgiaHJlZiIpOwoKICAgICAgaWYgKHVyaSkKICAgICAgewogICAgICAgIC8vYWxlcnQoImdvaW5nIHRvICIgKyB1cmkpOwogICAgICAgdmFyIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICB3M2Nfc2xpZHkuaGlkZV9zbGlkZShzbGlkZSk7CiAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IHczY19zbGlkeS5maW5kX3NsaWRlX251bWJlcih1cmkpOwogICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IG51bGw7CiAgICAgICAgdzNjX3NsaWR5LnNldF9sb2NhdGlvbigpOwogICAgICAgIHczY19zbGlkeS5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoImhpZGRlbiIpOwogICAgICAgIHczY19zbGlkeS5zZXRfZW9zX3N0YXR1cyghdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbSh3M2Nfc2xpZHkubGFzdF9zaG93bikpOwogICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgICAvL3RhcmdldC5mb2N1cygpOwoKICAgICAgICB0cnkKICAgICAgICB7CiAgICAgICAgICBpZiAoIXczY19zbGlkeS5vcGVyYSkKICAgICAgICAgICAgdzNjX3NsaWR5LnNldF9mb2N1cygpOwogICAgICAgIH0KICAgICAgICBjYXRjaCAoZSkKICAgICAgICB7CiAgICAgICAgfQogICAgICB9CgogICAgICB3M2Nfc2xpZHkuaGlkZV90YWJsZV9vZl9jb250ZW50cyh0cnVlKTsKCiAgICAgIGlmIChzZWxmLmllNykKICAgICAgIHczY19zbGlkeS5pZV9oYWNrKCk7CgogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CgogICAgaWYgKGtleSA9PSA0MCAmJiB0aGlzLm5leHQpCiAgICB7CiAgICAgIHRoaXMubmV4dC5mb2N1cygpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CgogICAgaWYgKGtleSA9PSAzOCAmJiB0aGlzLnByZXZpb3VzKQogICAgewogICAgICB0aGlzLnByZXZpb3VzLmZvY3VzKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9LAoKICB0b3VjaHN0YXJ0OiBmdW5jdGlvbiAoZSkKICB7CiAgICAvLyBhIGRvdWJsZSB0b3VjaCBvZnRlbiBzdGFydHMgd2l0aCBhCiAgICAvLyBzaW5nbGUgdG91Y2ggZHVlIHRvIGZpbmdlcnMgdG91Y2hpbmcKICAgIC8vIGRvd24gYXQgc2xpZ2h0bHkgZGlmZmVyZW50IHRpbWVzCiAgICAvLyB0aHVzIGF2b2lkIGNhbGxpbmcgcHJldmVudERlZmF1bHQgaGVyZQogICAgdGhpcy5wcmV2X3RhcCA9IHRoaXMubGFzdF90YXA7CiAgICB0aGlzLmxhc3RfdGFwID0gKG5ldyBEYXRlKS5nZXRUaW1lKCk7CgogICAgdmFyIHRhcF9kZWxheSA9IHRoaXMubGFzdF90YXAgLSB0aGlzLnByZXZfdGFwOwoKICAgIGlmICh0YXBfZGVsYXkgPD0gMjAwKQogICAgewogICAgICAvLyBkb3VibGUgdGFwCiAgICB9CgogICAgdmFyIHRvdWNoID0gZS50b3VjaGVzWzBdOwoKICAgIHRoaXMucGFnZVggPSB0b3VjaC5wYWdlWDsKICAgIHRoaXMucGFnZVkgPSB0b3VjaC5wYWdlWTsKICAgIHRoaXMuc2NyZWVuWCA9IHRvdWNoLnNjcmVlblg7CiAgICB0aGlzLnNjcmVlblkgPSB0b3VjaC5zY3JlZW5ZOwogICAgdGhpcy5jbGllbnRYID0gdG91Y2guY2xpZW50WDsKICAgIHRoaXMuY2xpZW50WSA9IHRvdWNoLmNsaWVudFk7CgogICAgdGhpcy5kZWx0YV94ID0gdGhpcy5kZWx0YV95ID0gMDsKICB9LAoKICB0b3VjaG1vdmU6IGZ1bmN0aW9uIChlKQogIHsKICAgIC8vIG92ZXJyaWRlIG5hdGl2ZSBnZXN0dXJlcyBmb3Igc2luZ2xlIHRvdWNoCiAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA+IDEpCiAgICAgIHJldHVybjsKCiAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICB2YXIgdG91Y2ggPSBlLnRvdWNoZXNbMF07CiAgICB0aGlzLmRlbHRhX3ggPSB0b3VjaC5wYWdlWCAtIHRoaXMucGFnZVg7CiAgICB0aGlzLmRlbHRhX3kgPSB0b3VjaC5wYWdlWSAtIHRoaXMucGFnZVk7CiAgfSwKCiAgdG91Y2hlbmQ6IGZ1bmN0aW9uIChlKQogIHsKICAgIC8vIGRlZmF1bHQgYmVoYXZpb3IgZm9yIG11bHRpLXRvdWNoCiAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA+IDEpCiAgICAgIHJldHVybjsKCiAgICB2YXIgZGVsYXkgPSAobmV3IERhdGUpLmdldFRpbWUoKSAtIHRoaXMubGFzdF90YXA7CiAgICB2YXIgZHggPSB0aGlzLmRlbHRhX3g7CiAgICB2YXIgZHkgPSB0aGlzLmRlbHRhX3k7CiAgICB2YXIgYWJzX2R4ID0gTWF0aC5hYnMoZHgpOwogICAgdmFyIGFic19keSA9IE1hdGguYWJzKGR5KTsKCiAgICBpZiAoZGVsYXkgPCA1MDAgJiYgKGFic19keCA+IDEwMCB8fCBhYnNfZHkgPiAxMDApKQogICAgewogICAgICBpZiAoYWJzX2R4ID4gMC41ICogYWJzX2R5KQogICAgICB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgICBpZiAoZHggPCAwKQogICAgICAgICAgdzNjX3NsaWR5Lm5leHRfc2xpZGUodHJ1ZSk7CiAgICAgICAgZWxzZQogICAgICAgICAgdzNjX3NsaWR5LnByZXZpb3VzX3NsaWRlKHRydWUpOwogICAgICB9CiAgICAgIGVsc2UgaWYgKGFic19keSA+IDIgKiBhYnNfZHgpCiAgICAgIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgdzNjX3NsaWR5LnRvZ2dsZV90YWJsZV9vZl9jb250ZW50cygpOwogICAgICB9CiAgICB9CiAgfSwKCiAgLy8gIyMjIE9CU09MRVRFICMjIwogIGJlZm9yZV9wcmludDogZnVuY3Rpb24gKCkgewogICAgdGhpcy5zaG93X2FsbF9zbGlkZXMoKTsKICAgIHRoaXMuaGlkZV90b29sYmFyKCk7CiAgICBhbGVydCgiYmVmb3JlIHByaW50Iik7CiAgfSwKCiAgLy8gIyMjIE9CU09MRVRFICMjIwogIGFmdGVyX3ByaW50OiBmdW5jdGlvbiAoKSB7CiAgICBpZiAoIXRoaXMudmlld19hbGwpCiAgICB7CiAgICAgIHRoaXMuc2luZ2xlX3NsaWRlX3ZpZXcoKTsKICAgICAgdGhpcy5zaG93X3Rvb2xiYXIoKTsKICAgIH0KICAgIGFsZXJ0KCJhZnRlciBwcmludCIpOwogIH0sCgogIC8vICMjIyBPQlNPTEVURSAjIyMKICBwcmludF9zbGlkZXM6IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuYmVmb3JlX3ByaW50KCk7CiAgICB3aW5kb3cucHJpbnQoKTsKICAgIHRoaXMuYWZ0ZXJfcHJpbnQoKTsKICB9LAoKICAvLyAjIyMgT0JTT0xFVEUgPz8gIyMjCiAgdG9nZ2xlX3ZpZXc6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh0aGlzLnZpZXdfYWxsKQogICAgewogICAgICB0aGlzLnNpbmdsZV9zbGlkZV92aWV3KCk7CiAgICAgIHRoaXMuc2hvd190b29sYmFyKCk7CiAgICAgIHRoaXMudmlld19hbGwgPSAwOwogICAgfQogICAgZWxzZQogICAgewogICAgICB0aGlzLnNob3dfYWxsX3NsaWRlcygpOwogICAgICB0aGlzLmhpZGVfdG9vbGJhcigpOwogICAgICB0aGlzLnZpZXdfYWxsID0gMTsKICAgIH0KICB9LAoKICAvLyBwcmVwYXJlIGZvciBwcmludGluZyAgIyMjIE9CU09MRVRFICMjIwogIHNob3dfYWxsX3NsaWRlczogZnVuY3Rpb24gKCkgewogICAgdGhpcy5yZW1vdmVfY2xhc3MoZG9jdW1lbnQuYm9keSwgInNpbmdsZV9zbGlkZSIpOwogICAgdGhpcy5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoInZpc2libGUiKTsKICB9LAoKICAvLyByZXN0b3JlIGFmdGVyIHByaW50aW5nICAjIyMgT0JTT0xFVEUgIyMjCiAgc2luZ2xlX3NsaWRlX3ZpZXc6IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuYWRkX2NsYXNzKGRvY3VtZW50LmJvZHksICJzaW5nbGVfc2xpZGUiKTsKICAgIHRoaXMuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJ2aXNpYmxlIik7CiAgICB0aGlzLmxhc3Rfc2hvd24gPSB0aGlzLnByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW0obnVsbCk7CiAgfSwKCiAgLy8gc3VwcHJlc3MgSUUncyBpbWFnZSB0b29sYmFyIHBvcCB1cAogIGhpZGVfaW1hZ2VfdG9vbGJhcjogZnVuY3Rpb24gKCkgewogICAgaWYgKCF0aGlzLm5zX3BvcykKICAgIHsKICAgICAgdmFyIGltYWdlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJJTUciKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW1hZ2VzLmxlbmd0aDsgKytpKQogICAgICAgIGltYWdlc1tpXS5zZXRBdHRyaWJ1dGUoImdhbGxlcnlpbWciLCAibm8iKTsKICAgIH0KICB9LAoKICB1bmxvYWRlZDogZnVuY3Rpb24gKGUpIHsKICAgIC8vYWxlcnQoInVubG9hZGVkIik7CiAgfSwKCiAgLy8gU2FmYXJpIGFuZCBLb25xdWVyb3IgZG9uJ3QgeWV0IHN1cHBvcnQgZ2V0Q29tcHV0ZWRTdHlsZSgpCiAgLy8gYW5kIHRoZXkgYWx3YXlzIHJlbG9hZCBwYWdlIHdoZW4gbG9jYXRpb24uaHJlZiBpcyB1cGRhdGVkCiAgaXNfS0hUTUw6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBhZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7CiAgICByZXR1cm4gKGFnZW50LmluZGV4T2YoIktIVE1MIikgPj0gMCA/IHRydWUgOiBmYWxzZSk7CiAgfSwKCiAgLy8gZmluZCBzbGlkZSBuYW1lIGZyb20gZmlyc3QgaDEgZWxlbWVudAogIC8vIGRlZmF1bHQgdG8gZG9jdW1lbnQgdGl0bGUgKyBzbGlkZSBudW1iZXIKICBzbGlkZV9uYW1lOiBmdW5jdGlvbiAoaW5kZXgpIHsKICAgIHZhciBuYW1lID0gbnVsbDsKICAgIHZhciBzbGlkZSA9IHRoaXMuc2xpZGVzW2luZGV4XTsKCiAgICB2YXIgaGVhZGluZyA9IHRoaXMuZmluZF9oZWFkaW5nKHNsaWRlKTsKCiAgICBpZiAoaGVhZGluZykKICAgICAgbmFtZSA9IHRoaXMuZXh0cmFjdF90ZXh0KGhlYWRpbmcpOwoKICAgIGlmICghbmFtZSkKICAgICAgbmFtZSA9IHRoaXMudGl0bGUgKyAiKCIgKyAoaW5kZXggKyAxKSArICIpIjsKCiAgICBuYW1lLnJlcGxhY2UoL1wmL2csICImYW1wOyIpOwogICAgbmFtZS5yZXBsYWNlKC9cPC9nLCAiJmx0OyIpOwogICAgbmFtZS5yZXBsYWNlKC9cPi9nLCAiJmd0OyIpOwoKICAgIHJldHVybiBuYW1lOwogIH0sCgogIC8vIGZpbmQgZmlyc3QgaDEgZWxlbWVudCBpbiBET00gdHJlZQogIGZpbmRfaGVhZGluZzogZnVuY3Rpb24gKG5vZGUpIHsKICAgIGlmICghbm9kZSB8fCBub2RlLm5vZGVUeXBlICE9IDEpCiAgICAgIHJldHVybiBudWxsOwoKICAgIGlmIChub2RlLm5vZGVOYW1lID09ICJIMSIgfHwgbm9kZS5ub2RlTmFtZSA9PSAiaDEiKQogICAgICByZXR1cm4gbm9kZTsKCiAgICB2YXIgY2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7CgogICAgd2hpbGUgKGNoaWxkKQogICAgewogICAgICBub2RlID0gdGhpcy5maW5kX2hlYWRpbmcoY2hpbGQpOwoKICAgICAgaWYgKG5vZGUpCiAgICAgICAgcmV0dXJuIG5vZGU7CgogICAgICBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nOwogICAgfQoKICAgIHJldHVybiBudWxsOwogIH0sCgogIC8vIHJlY3Vyc2l2ZWx5IGV4dHJhY3QgdGV4dCBmcm9tIERPTSB0cmVlCiAgZXh0cmFjdF90ZXh0OiBmdW5jdGlvbiAobm9kZSkgewogICAgaWYgKCFub2RlKQogICAgICByZXR1cm4gIiI7CgogICAgLy8gdGV4dCBub2RlcwogICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMykKICAgICAgcmV0dXJuIG5vZGUubm9kZVZhbHVlOwoKICAgIC8vIGVsZW1lbnRzCiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKQogICAgewogICAgICBub2RlID0gbm9kZS5maXJzdENoaWxkOwogICAgICB2YXIgdGV4dCA9ICIiOwoKICAgICAgd2hpbGUgKG5vZGUpCiAgICAgIHsKICAgICAgICB0ZXh0ID0gdGV4dCArIHRoaXMuZXh0cmFjdF90ZXh0KG5vZGUpOwogICAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nOwogICAgICB9CgogICAgICByZXR1cm4gdGV4dDsKICAgIH0KCiAgICByZXR1cm4gIiI7CiAgfSwKCiAgLy8gZmluZCBjb3B5cmlnaHQgdGV4dCBmcm9tIG1ldGEgZWxlbWVudAogIGZpbmRfY29weXJpZ2h0OiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgbmFtZSwgY29udGVudDsKICAgIHZhciBtZXRhID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIm1ldGEiKTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1ldGEubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIG5hbWUgPSBtZXRhW2ldLmdldEF0dHJpYnV0ZSgibmFtZSIpOwogICAgICBjb250ZW50ID0gbWV0YVtpXS5nZXRBdHRyaWJ1dGUoImNvbnRlbnQiKTsKCiAgICAgIGlmIChuYW1lID09ICJjb3B5cmlnaHQiKQogICAgICAgIHJldHVybiBjb250ZW50OwogICAgfQoKICAgIHJldHVybiBudWxsOwogIH0sCgogIGZpbmRfc2l6ZV9hZGp1c3Q6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBuYW1lLCBjb250ZW50LCBvZmZzZXQ7CiAgICB2YXIgbWV0YSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJtZXRhIik7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXRhLmxlbmd0aDsgKytpKQogICAgewogICAgICBuYW1lID0gbWV0YVtpXS5nZXRBdHRyaWJ1dGUoIm5hbWUiKTsKICAgICAgY29udGVudCA9IG1ldGFbaV0uZ2V0QXR0cmlidXRlKCJjb250ZW50Iik7CgogICAgICBpZiAobmFtZSA9PSAiZm9udC1zaXplLWFkanVzdG1lbnQiKQogICAgICAgIHJldHVybiAxICogY29udGVudDsKICAgIH0KCiAgICByZXR1cm4gMTsKICB9LAoKICAvLyA8bWV0YSBuYW1lPSJkdXJhdGlvbiIgY29udGVudD0iMjAiIC8+ICBmb3IgMjAgbWludXRlcwogIGZpbmRfZHVyYXRpb246IGZ1bmN0aW9uICgpIHsKICAgIHZhciBuYW1lLCBjb250ZW50LCBvZmZzZXQ7CiAgICB2YXIgbWV0YSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJtZXRhIik7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXRhLmxlbmd0aDsgKytpKQogICAgewogICAgICBuYW1lID0gbWV0YVtpXS5nZXRBdHRyaWJ1dGUoIm5hbWUiKTsKICAgICAgY29udGVudCA9IG1ldGFbaV0uZ2V0QXR0cmlidXRlKCJjb250ZW50Iik7CgogICAgICBpZiAobmFtZSA9PSAiZHVyYXRpb24iKQogICAgICAgIHJldHVybiA2MDAwMCAqIGNvbnRlbnQ7CiAgICB9CgogICAgcmV0dXJuIG51bGw7CiAgfSwKCiAgcmVwbGFjZV9ieV9ub25fYnJlYWtpbmdfc3BhY2U6IGZ1bmN0aW9uIChzdHIpIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKQogICAgICBzdHJbaV0gPSAxNjA7CiAgfSwKCiAgLy8gIyMjIENIRUNLIE1FICMjIyBpcyB1c2Ugb2YgImxpIiBva2F5IGZvciB0ZXh0L2h0bWw/CiAgLy8gZm9yIFhIVE1MIGRvIHdlIGFsc28gbmVlZCB0byBzcGVjaWZ5IG5hbWVzcGFjZT8KICBpbml0X291dGxpbmVyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgaXRlbXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgibGkiKTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgKytpKQogICAgewogICAgICB2YXIgdGFyZ2V0ID0gaXRlbXNbaV07CgogICAgICBpZiAoIXRoaXMuaGFzX2NsYXNzKHRhcmdldC5wYXJlbnROb2RlLCAib3V0bGluZSIpKQogICAgICAgIGNvbnRpbnVlOwoKICAgICAgdGFyZ2V0Lm9uY2xpY2sgPSB0aGlzLm91dGxpbmVfY2xpY2s7Ci8qICMjIyBtb3JlIHdvcmsgbmVlZGVkIGZvciBJRTYKICAgICAgaWYgKCF0aGlzLm5zX3BvcykKICAgICAgewogICAgICAgIHRhcmdldC5vbm1vdXNlb3ZlciA9IHRoaXMuaG92ZXJfb3V0bGluZTsKICAgICAgICB0YXJnZXQub25tb3VzZW91dCA9IHRoaXMudW5ob3Zlcl9vdXRsaW5lOwogICAgICB9CiovCiAgICAgIGlmICh0aGlzLmZvbGRhYmxlKHRhcmdldCkpCiAgICAgIHsKICAgICAgICB0YXJnZXQuZm9sZGFibGUgPSB0cnVlOwogICAgICAgIHRhcmdldC5vbmZvY3VzID0gZnVuY3Rpb24gKCkge3czY19zbGlkeS5vdXRsaW5lID0gdGhpczt9OwogICAgICAgIHRhcmdldC5vbmJsdXIgPSBmdW5jdGlvbiAoKSB7dzNjX3NsaWR5Lm91dGxpbmUgPSBudWxsO307CgogICAgICAgIGlmICghdGFyZ2V0LmdldEF0dHJpYnV0ZSgidGFiaW5kZXgiKSkKICAgICAgICAgIHRhcmdldC5zZXRBdHRyaWJ1dGUoInRhYmluZGV4IiwgIjAiKTsKCiAgICAgICAgaWYgKHRoaXMuaGFzX2NsYXNzKHRhcmdldCwgImV4cGFuZCIpKQogICAgICAgICAgdGhpcy51bmZvbGQodGFyZ2V0KTsKICAgICAgICBlbHNlCiAgICAgICAgICB0aGlzLmZvbGQodGFyZ2V0KTsKICAgICAgfQogICAgICBlbHNlCiAgICAgIHsKICAgICAgICB0aGlzLmFkZF9jbGFzcyh0YXJnZXQsICJub2ZvbGQiKTsKICAgICAgICB0YXJnZXQudmlzaWJsZSA9IHRydWU7CiAgICAgICAgdGFyZ2V0LmZvbGRhYmxlID0gZmFsc2U7CiAgICAgIH0KICAgIH0KICB9LAoKICBmb2xkYWJsZTogZnVuY3Rpb24gKGl0ZW0pIHsKICAgIGlmICghaXRlbSB8fCBpdGVtLm5vZGVUeXBlICE9IDEpCiAgICAgIHJldHVybiBmYWxzZTsKCiAgICB2YXIgbm9kZSA9IGl0ZW0uZmlyc3RDaGlsZDsKCiAgICB3aGlsZSAobm9kZSkKICAgIHsKICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSAmJiB0aGlzLmlzX2Jsb2NrKG5vZGUpKQogICAgICAgIHJldHVybiB0cnVlOwoKICAgICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0sCgogIC8vICMjIyBDSEVDSyBNRSAjIyMgc3dpdGNoIHRvIGFkZC9yZW1vdmUgImhpZGRlbiIgY2xhc3MKICBmb2xkOiBmdW5jdGlvbiAoaXRlbSkgewogICAgaWYgKGl0ZW0pCiAgICB7CiAgICAgIHRoaXMucmVtb3ZlX2NsYXNzKGl0ZW0sICJ1bmZvbGRlZCIpOwogICAgICB0aGlzLmFkZF9jbGFzcyhpdGVtLCAiZm9sZGVkIik7CiAgICB9CgogICAgdmFyIG5vZGUgPSBpdGVtID8gaXRlbS5maXJzdENoaWxkIDogbnVsbDsKCiAgICB3aGlsZSAobm9kZSkKICAgIHsKICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSAmJiB0aGlzLmlzX2Jsb2NrKG5vZGUpKSAvLyBlbGVtZW50CiAgICAgIHsKICAgICAgICAgdzNjX3NsaWR5LmFkZF9jbGFzcyhub2RlLCAiaGlkZGVuIik7CiAgICAgIH0KCiAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nOwogICAgfQoKICAgIGl0ZW0udmlzaWJsZSA9IGZhbHNlOwogIH0sCgogIC8vICMjIyBDSEVDSyBNRSAjIyMgc3dpdGNoIHRvIGFkZC9yZW1vdmUgImhpZGRlbiIgY2xhc3MKICB1bmZvbGQ6IGZ1bmN0aW9uIChpdGVtKSB7CiAgICBpZiAoaXRlbSkKICAgIHsKICAgICAgdGhpcy5hZGRfY2xhc3MoaXRlbSwgInVuZm9sZGVkIik7CiAgICAgIHRoaXMucmVtb3ZlX2NsYXNzKGl0ZW0sICJmb2xkZWQiKTsKICAgIH0KCiAgICB2YXIgbm9kZSA9IGl0ZW0gPyBpdGVtLmZpcnN0Q2hpbGQgOiBudWxsOwoKICAgIHdoaWxlIChub2RlKQogICAgewogICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxICYmIHRoaXMuaXNfYmxvY2sobm9kZSkpIC8vIGVsZW1lbnQKICAgICAgewogICAgICAgIHczY19zbGlkeS5yZW1vdmVfY2xhc3Mobm9kZSwgImhpZGRlbiIpOwogICAgICB9CgogICAgICBub2RlID0gbm9kZS5uZXh0U2libGluZzsKICAgIH0KCiAgICBpdGVtLnZpc2libGUgPSB0cnVlOwogIH0sCgogIG91dGxpbmVfY2xpY2s6IGZ1bmN0aW9uIChlKSB7CiAgICBpZiAoIWUpCiAgICAgIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgdmFyIHJpZ2h0Y2xpY2sgPSBmYWxzZTsKICAgIHZhciB0YXJnZXQgPSB3M2Nfc2xpZHkuZ2V0X3RhcmdldChlKTsKCiAgICB3aGlsZSAodGFyZ2V0ICYmIHRhcmdldC52aXNpYmxlID09IHVuZGVmaW5lZCkKICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7CgogICAgaWYgKCF0YXJnZXQpCiAgICAgIHJldHVybiB0cnVlOwoKICAgIGlmIChlLndoaWNoKQogICAgICByaWdodGNsaWNrID0gKGUud2hpY2ggPT0gMyk7CiAgICBlbHNlIGlmIChlLmJ1dHRvbikKICAgICAgcmlnaHRjbGljayA9IChlLmJ1dHRvbiA9PSAyKTsKCiAgICBpZiAoIXJpZ2h0Y2xpY2sgJiYgdGFyZ2V0LnZpc2libGUgIT0gdW5kZWZpbmVkKQogICAgewogICAgICBpZiAodGFyZ2V0LmZvbGRhYmxlKQogICAgICB7CiAgICAgICAgaWYgKHRhcmdldC52aXNpYmxlKQogICAgICAgICAgdzNjX3NsaWR5LmZvbGQodGFyZ2V0KTsKICAgICAgICBlbHNlCiAgICAgICAgICB3M2Nfc2xpZHkudW5mb2xkKHRhcmdldCk7CiAgICAgIH0KCiAgICAgIHczY19zbGlkeS5zdG9wX3Byb3BhZ2F0aW9uKGUpOwogICAgICBlLmNhbmNlbCA9IHRydWU7CiAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTsKICAgIH0KCiAgICByZXR1cm4gZmFsc2U7CiAgfSwKCiAgYWRkX2luaXRpYWxfcHJvbXB0OiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgcHJvbXB0ID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiZGl2Iik7CiAgICBwcm9tcHQuc2V0QXR0cmlidXRlKCJjbGFzcyIsICJpbml0aWFsX3Byb21wdCIpOwoKICAgIHZhciBwMSA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoInAiKTsKICAgIHByb21wdC5hcHBlbmRDaGlsZChwMSk7CiAgICBwMS5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgImhlbHAiKTsKCiAgICBpZiAodGhpcy5rZXlib2FyZGxlc3MpCiAgICAgIHAxLmlubmVySFRNTCA9ICJzd2lwZSBsZWZ0IHRvIG1vdmUgdG8gbmV4dCBzbGlkZSI7CiAgICBlbHNlCiAgICAgIHAxLmlubmVySFRNTCA9ICJTcGFjZSwgUmlnaHQgQXJyb3cgb3Igc3dpcGUgbGVmdCB0byBtb3ZlIHRvICIgKwogICAgICAgICAgICAgICAgICAgICAibmV4dCBzbGlkZSwgY2xpY2sgaGVscCBiZWxvdyBmb3IgbW9yZSBkZXRhaWxzIjsKCiAgICB0aGlzLmFkZF9saXN0ZW5lcihwcm9tcHQsICJjbGljayIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQocHJvbXB0KTsKICAgICAgdzNjX3NsaWR5LnN0b3BfcHJvcGFnYXRpb24oZSk7CiAgICAKICAgICAgaWYgKGUuY2FuY2VsICE9IHVuZGVmaW5lZCkKICAgICAgICBlLmNhbmNlbCA9IHRydWU7CiAgICAgIAogICAgICBpZiAoZS5yZXR1cm5WYWx1ZSAhPSB1bmRlZmluZWQpCiAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlOwogICAgICAKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSk7CgogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChwcm9tcHQpOwogICAgdGhpcy5pbml0aWFsX3Byb21wdCA9IHByb21wdDsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChwcm9tcHQpO30sIDUwMDApOwogIH0sCgogIGFkZF90b29sYmFyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgY291bnRlciwgcGFnZTsKCiAgICAgdGhpcy50b29sYmFyID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiZGl2Iik7CiAgICAgdGhpcy50b29sYmFyLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCAidG9vbGJhciIpOwoKICAgICAvLyBhIHJlYXNvbmFibHkgYmVoYXZlZCBicm93c2VyCiAgICAgaWYgKHRoaXMubnNfcG9zIHx8ICF0aGlzLmllNikKICAgICB7CiAgICAgICB2YXIgcmlnaHQgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJkaXYiKTsKICAgICAgIHJpZ2h0LnNldEF0dHJpYnV0ZSgic3R5bGUiLCAiZmxvYXQ6IHJpZ2h0OyB0ZXh0LWFsaWduOiByaWdodCIpOwoKICAgICAgIGNvdW50ZXIgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIikKICAgICAgIGNvdW50ZXIuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgic2xpZGUiKSArICIgbi9tIjsKICAgICAgIHJpZ2h0LmFwcGVuZENoaWxkKGNvdW50ZXIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKHJpZ2h0KTsKCiAgICAgICB2YXIgbGVmdCA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImRpdiIpOwogICAgICAgbGVmdC5zZXRBdHRyaWJ1dGUoInN0eWxlIiwgInRleHQtYWxpZ246IGxlZnQiKTsKCiAgICAgICAvLyBnbG9iYWwgZW5kIG9mIHNsaWRlIGluZGljYXRvcgogICAgICAgdGhpcy5lb3MgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIik7CiAgICAgICB0aGlzLmVvcy5pbm5lckhUTUwgPSAiKiAiOwogICAgICAgbGVmdC5hcHBlbmRDaGlsZCh0aGlzLmVvcyk7CgogICAgICAgdmFyIGhlbHAgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJhIik7CiAgICAgICBoZWxwLnNldEF0dHJpYnV0ZSgiaHJlZiIsIHRoaXMuaGVscF9wYWdlKTsKICAgICAgIGhlbHAuc2V0QXR0cmlidXRlKCJ0aXRsZSIsIHRoaXMubG9jYWxpemUodGhpcy5oZWxwX3RleHQpKTsKICAgICAgIGhlbHAuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgiaGVscD8iKTsKICAgICAgIGxlZnQuYXBwZW5kQ2hpbGQoaGVscCk7CiAgICAgICBoZWxwLnN0eWxlLmRpc3BsYXk9Im5vbmUiOyAKICAgICAgIHRoaXMuaGVscF9hbmNob3IgPSBoZWxwOyAgLy8gc2F2ZSBmb3IgZm9jdXMgaGFjawoKICAgICAgIHZhciBnYXAxID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiAiKTsKICAgICAgIGxlZnQuYXBwZW5kQ2hpbGQoZ2FwMSk7CgogICAgICAgdmFyIGNvbnRlbnRzID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiYSIpOwogICAgICAgY29udGVudHMuc2V0QXR0cmlidXRlKCJocmVmIiwgImphdmFzY3JpcHQ6dzNjX3NsaWR5LnRvZ2dsZV90YWJsZV9vZl9jb250ZW50cygpIik7CiAgICAgICBjb250ZW50cy5zZXRBdHRyaWJ1dGUoInRpdGxlIiwgdGhpcy5sb2NhbGl6ZSgidGFibGUgb2YgY29udGVudHMiKSk7CiAgICAgICBjb250ZW50cy5pbm5lckhUTUwgPSB0aGlzLmxvY2FsaXplKCJDb250ZW50cyIpOwogICAgICAgbGVmdC5hcHBlbmRDaGlsZChjb250ZW50cyk7CgogICAgICAgdmFyIGdhcDIgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiICIpOwogICAgICAgbGVmdC5hcHBlbmRDaGlsZChnYXAyKTsKCiAgICAgICB2YXIgY29weXJpZ2h0ID0gdGhpcy5maW5kX2NvcHlyaWdodCgpOwoKICAgICAgIGlmIChjb3B5cmlnaHQpCiAgICAgICB7CiAgICAgICAgIHZhciBzcGFuID0gdGhpcy5jcmVhdGVfZWxlbWVudCgic3BhbiIpOwogICAgICAgICBzcGFuLmNsYXNzTmFtZSA9ICJjb3B5cmlnaHQiOwogICAgICAgICBzcGFuLmlubmVySFRNTCA9IGNvcHlyaWdodDsKICAgICAgICAgbGVmdC5hcHBlbmRDaGlsZChzcGFuKTsKICAgICAgIH0KCiAgICAgICB0aGlzLnRvb2xiYXIuc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsICIwIik7CiAgICAgICB0aGlzLnRvb2xiYXIuYXBwZW5kQ2hpbGQobGVmdCk7CiAgICAgfQogICAgIGVsc2UgLy8gSUU2IHNvIG5lZWQgdG8gd29yayBhcm91bmQgaXRzIHBvb3IgQ1NTIHN1cHBvcnQKICAgICB7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUucG9zaXRpb24gPSAodGhpcy5pZTcgPyAiZml4ZWQiIDogImFic29sdXRlIik7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUuekluZGV4ID0gIjIwMCI7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUud2lkdGggPSAiOTkuOSUiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLmhlaWdodCA9ICIxLjJlbSI7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUudG9wID0gImF1dG8iOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLmJvdHRvbSA9ICIwIjsKICAgICAgIHRoaXMudG9vbGJhci5zdHlsZS5sZWZ0ID0gIjAiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLnJpZ2h0ID0gIjAiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLnRleHRBbGlnbiA9ICJsZWZ0IjsKICAgICAgIHRoaXMudG9vbGJhci5zdHlsZS5mb250U2l6ZSA9ICI2MCUiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLmNvbG9yID0gInJlZCI7CiAgICAgICB0aGlzLnRvb2xiYXIuYm9yZGVyV2lkdGggPSAwOwogICAgICAgdGhpcy50b29sYmFyLmNsYXNzTmFtZSA9ICJ0b29sYmFyIjsKICAgICAgIHRoaXMudG9vbGJhci5zdHlsZS5iYWNrZ3JvdW5kID0gInJnYigyNDAsMjQwLDI0MCkiOwoKICAgICAgIC8vIHdvdWxkIGxpa2UgdG8gaGF2ZSBoZWxwIHRleHQgbGVmdCBhbGlnbmVkCiAgICAgICAvLyBhbmQgcGFnZSBjb3VudGVyIHJpZ2h0IGFsaWduZWQsIGZsb2F0aW5nCiAgICAgICAvLyBkaXYncyBkb24ndCB3b3JrLCBzbyBpbnN0ZWFkIHVzZSBuZXN0ZWQKICAgICAgIC8vIGFic29sdXRlbHkgcG9zaXRpb25lZCBkaXYncy4KCiAgICAgICB2YXIgc3AgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIik7CiAgICAgICBzcC5pbm5lckhUTUwgPSAiJm5ic3A7Jm5ic3A7KiZuYnNwOyI7CiAgICAgICB0aGlzLnRvb2xiYXIuYXBwZW5kQ2hpbGQoc3ApOwogICAgICAgdGhpcy5lb3MgPSBzcDsgIC8vIGVuZCBvZiBzbGlkZSBpbmRpY2F0b3IKCiAgICAgICB2YXIgaGVscCA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImEiKTsKICAgICAgIGhlbHAuc2V0QXR0cmlidXRlKCJocmVmIiwgdGhpcy5oZWxwX3BhZ2UpOwogICAgICAgaGVscC5zZXRBdHRyaWJ1dGUoInRpdGxlIiwgdGhpcy5sb2NhbGl6ZSh0aGlzLmhlbHBfdGV4dCkpOwogICAgICAgaGVscC5pbm5lckhUTUwgPSB0aGlzLmxvY2FsaXplKCJoZWxwPyIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKGhlbHApOwogICAgICAgdGhpcy5oZWxwX2FuY2hvciA9IGhlbHA7ICAvLyBzYXZlIGZvciBmb2N1cyBoYWNrCgogICAgICAgdmFyIGdhcDEgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiICIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKGdhcDEpOwoKICAgICAgIHZhciBjb250ZW50cyA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImEiKTsKICAgICAgIGNvbnRlbnRzLnNldEF0dHJpYnV0ZSgiaHJlZiIsICJqYXZhc2NyaXB0OnRvZ2dsZVRhYmxlT2ZDb250ZW50cygpIik7CiAgICAgICBjb250ZW50cy5zZXRBdHRyaWJ1dGUoInRpdGxlIiwgdGhpcy5sb2NhbGl6ZSgidGFibGUgb2YgY29udGVudHMiLmxvY2FsaXplKSk7CiAgICAgICBjb250ZW50cy5pbm5lckhUTUwgPSB0aGlzLmxvY2FsaXplKCJjb250ZW50cz8iKTsKICAgICAgIHRoaXMudG9vbGJhci5hcHBlbmRDaGlsZChjb250ZW50cyk7CgogICAgICAgdmFyIGdhcDIgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiICIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKGdhcDIpOwoKICAgICAgIHZhciBjb3B5cmlnaHQgPSB0aGlzLmZpbmRfY29weXJpZ2h0KCk7CgogICAgICAgaWYgKGNvcHlyaWdodCkKICAgICAgIHsKICAgICAgICAgdmFyIHNwYW4gPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIik7CiAgICAgICAgIHNwYW4uaW5uZXJIVE1MID0gY29weXJpZ2h0OwogICAgICAgICBzcGFuLnN0eWxlLmNvbG9yID0gImJsYWNrIjsKICAgICAgICAgc3Bhbi5zdHlsZS5tYXJnaW5MZWZ0ID0gIjAuNWVtIjsKICAgICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKHNwYW4pOwogICAgICAgfQoKICAgICAgIGNvdW50ZXIgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJkaXYiKQogICAgICAgY291bnRlci5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvbHV0ZSI7CiAgICAgICBjb3VudGVyLnN0eWxlLndpZHRoID0gImF1dG8iOyAvLyIyMCUiOwogICAgICAgY291bnRlci5zdHlsZS5oZWlnaHQgPSAiMS4yZW0iOwogICAgICAgY291bnRlci5zdHlsZS50b3AgPSAiYXV0byI7CiAgICAgICBjb3VudGVyLnN0eWxlLmJvdHRvbSA9IDA7CiAgICAgICBjb3VudGVyLnN0eWxlLnJpZ2h0ID0gIjAiOwogICAgICAgY291bnRlci5zdHlsZS50ZXh0QWxpZ24gPSAicmlnaHQiOwogICAgICAgY291bnRlci5zdHlsZS5jb2xvciA9ICJyZWQiOwogICAgICAgY291bnRlci5zdHlsZS5iYWNrZ3JvdW5kID0gInJnYigyNDAsMjQwLDI0MCkiOwoKICAgICAgIGNvdW50ZXIuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgic2xpZGUiKSArICIgbi9tIjsKICAgICAgIHRoaXMudG9vbGJhci5hcHBlbmRDaGlsZChjb3VudGVyKTsKICAgICB9CgogICAgIC8vIGVuc3VyZSB0aGF0IGNsaWNrIGlzbid0IHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwYWdlCiAgICAgdGhpcy50b29sYmFyLm9uY2xpY2sgPQogICAgICAgICBmdW5jdGlvbiAoZSkgewogICAgICAgICAgIGlmICghZSkKICAgICAgICAgICAgIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDsKCiAgICAgICAgICAgaWYgKCF0YXJnZXQgJiYgZS5zcmNFbGVtZW50KQogICAgICAgICAgICAgdGFyZ2V0ID0gZS5zcmNFbGVtZW50OwoKICAgICAgICAgICAvLyB3b3JrIGFyb3VuZCBTYWZhcmkgYnVnCiAgICAgICAgICAgaWYgKHRhcmdldCAmJiB0YXJnZXQubm9kZVR5cGUgPT0gMykKICAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlOwoKICAgICAgICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihlKTsKCiAgICAgICAgICAgaWYgKHRhcmdldCAmJiB0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPSAiYSIpCiAgICAgICAgICAgICB3M2Nfc2xpZHkubW91c2VfYnV0dG9uX2NsaWNrKGUpOwogICAgICAgICB9OwoKICAgICB0aGlzLnNsaWRlX251bWJlcl9lbGVtZW50ID0gY291bnRlcjsKICAgICB0aGlzLnNldF9lb3Nfc3RhdHVzKGZhbHNlKTsKICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMudG9vbGJhcik7CiAgfSwKCiAgLy8gd3lzaXd5ZyBlZGl0b3JzIG1ha2UgaXQgaGFyZCB0byB1c2UgZGl2IGVsZW1lbnRzCiAgLy8gZS5nLiBhbWF5YSBsb3NlcyB0aGUgZGl2IHdoZW4geW91IGNvcHkgYW5kIHBhc3RlCiAgLy8gdGhpcyBmdW5jdGlvbiB3cmFwcyBkaXYgZWxlbWVudHMgYXJvdW5kIGltcGxpY2l0CiAgLy8gc2xpZGVzIHdoaWNoIHN0YXJ0IHdpdGggYW4gaDEgZWxlbWVudCBhbmQgY29udGludWUKICAvLyB1cCB0byB0aGUgbmV4dCBoZWFkaW5nIG9yIGRpdiBlbGVtZW50CiAgd3JhcF9pbXBsaWNpdF9zbGlkZXM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBpLCBoZWFkaW5nLCBub2RlLCBuZXh0LCBkaXY7CiAgICB2YXIgaGVhZGluZ3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaDEiKTsKCiAgICBpZiAoIWhlYWRpbmdzKQogICAgICByZXR1cm47CgogICAgZm9yIChpID0gMDsgaSA8IGhlYWRpbmdzLmxlbmd0aDsgKytpKQogICAgewogICAgICBoZWFkaW5nID0gaGVhZGluZ3NbaV07CgogICAgICBpZiAoaGVhZGluZy5wYXJlbnROb2RlICE9IGRvY3VtZW50LmJvZHkpCiAgICAgICAgY29udGludWU7CgogICAgICBub2RlID0gaGVhZGluZy5uZXh0U2libGluZzsKCiAgICAgIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICB0aGlzLmFkZF9jbGFzcyhkaXYsICJzbGlkZSIpOwogICAgICBkb2N1bWVudC5ib2R5LnJlcGxhY2VDaGlsZChkaXYsIGhlYWRpbmcpOwogICAgICBkaXYuYXBwZW5kQ2hpbGQoaGVhZGluZyk7CgogICAgICB3aGlsZSAobm9kZSkKICAgICAgewogICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEpIC8vIGFuIGVsZW1lbnQKICAgICAgICB7CiAgICAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gIkgxIiB8fCBub2RlLm5vZGVOYW1lID09ICJoMSIpCiAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gIkRJViIgfHwgbm9kZS5ub2RlTmFtZSA9PSAiZGl2IikKICAgICAgICAgICB7CiAgICAgICAgICAgICBpZiAodGhpcy5oYXNfY2xhc3Mobm9kZSwgInNsaWRlIikpCiAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgIGlmICh0aGlzLmhhc19jbGFzcyhub2RlLCAiaGFuZG91dCIpKQogICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBuZXh0ID0gbm9kZS5uZXh0U2libGluZzsKICAgICAgICBub2RlID0gZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChub2RlKTsKICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobm9kZSk7CiAgICAgICAgbm9kZSA9IG5leHQ7CiAgICAgIH0gCiAgICB9CiAgfSwKCiAgYXR0YWNoX3RvdWNoX2hhbmRlcnM6IGZ1bmN0aW9uKHNsaWRlcykKICB7CiAgICB2YXIgaSwgc2xpZGU7CgogICAgZm9yIChpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgc2xpZGUgPSBzbGlkZXNbaV07CiAgICAgIHRoaXMuYWRkX2xpc3RlbmVyKHNsaWRlLCAidG91Y2hzdGFydCIsIHRoaXMudG91Y2hzdGFydCk7CiAgICAgIHRoaXMuYWRkX2xpc3RlbmVyKHNsaWRlLCAidG91Y2htb3ZlIiwgdGhpcy50b3VjaG1vdmUpOwogICAgICB0aGlzLmFkZF9saXN0ZW5lcihzbGlkZSwgInRvdWNoZW5kIiwgdGhpcy50b3VjaGVuZCk7CiAgICB9CiAgfSwKCi8vIHJldHVybiBuZXcgYXJyYXkgb2YgYWxsIHNsaWRlcwogIGNvbGxlY3Rfc2xpZGVzOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgc2xpZGVzID0gbmV3IEFycmF5KCk7CiAgICB2YXIgZGl2cyA9IGRvY3VtZW50LmJvZHkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGl2cy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgZGl2ID0gZGl2cy5pdGVtKGkpOwoKICAgICAgaWYgKHRoaXMuaGFzX2NsYXNzKGRpdiwgInNsaWRlIikpCiAgICAgIHsKICAgICAgICAvLyBhZGQgc2xpZGUgdG8gY29sbGVjdGlvbgogICAgICAgIHNsaWRlc1tzbGlkZXMubGVuZ3RoXSA9IGRpdjsKCiAgICAgICAgLy8gaGlkZSBlYWNoIHNsaWRlIGFzIGl0IGlzIGZvdW5kCiAgICAgICAgdGhpcy5hZGRfY2xhc3MoZGl2LCAiaGlkZGVuIik7CgogICAgICAgIC8vIGFkZCBkdW1teSA8YnIvPiBhdCBlbmQgZm9yIHNjcm9sbGluZyBoYWNrCiAgICAgICAgdmFyIG5vZGUxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnIiKTsKICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobm9kZTEpOwogICAgICAgIHZhciBub2RlMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJyIik7CiAgICAgICAgZGl2LmFwcGVuZENoaWxkKG5vZGUyKTsKICAgICAgfQogICAgICBlbHNlIGlmICh0aGlzLmhhc19jbGFzcyhkaXYsICJiYWNrZ3JvdW5kIikpCiAgICAgIHsgIC8vIHdvcmsgYXJvdW5kIGZvciBGaXJlZm94IFNWRyByZWxvYWQgYnVnCiAgICAgICAgLy8gd2hpY2ggb3RoZXJ3aXNlIHJlcGxhY2VzIDFzdCBTVkcgZ3JhcGhpYyB3aXRoIDJuZAogICAgICAgIGRpdi5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgfQogICAgfQoKICAgIHRoaXMuc2xpZGVzID0gc2xpZGVzOwogIH0sCgogIC8vIHJldHVybiBuZXcgYXJyYXkgb2YgYWxsIDxkaXYgY2xhc3M9ImhhbmRvdXQiPgogIGNvbGxlY3Rfbm90ZXM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBub3RlcyA9IG5ldyBBcnJheSgpOwogICAgdmFyIGRpdnMgPSBkb2N1bWVudC5ib2R5LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpdnMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIGRpdiA9IGRpdnMuaXRlbShpKTsKCiAgICAgIGlmICh0aGlzLmhhc19jbGFzcyhkaXYsICJoYW5kb3V0IikpCiAgICAgIHsKICAgICAgICAvLyBhZGQgbm90ZSB0byBjb2xsZWN0aW9uCiAgICAgICAgbm90ZXNbbm90ZXMubGVuZ3RoXSA9IGRpdjsKCiAgICAgICAgLy8gYW5kIGhpZGUgaXQKICAgICAgICB0aGlzLmFkZF9jbGFzcyhkaXYsICJoaWRkZW4iKTsKICAgICAgfQogICAgfQoKICAgIHRoaXMubm90ZXMgPSBub3RlczsKICB9LAoKICAvLyByZXR1cm4gbmV3IGFycmF5IG9mIGFsbCA8ZGl2IGNsYXNzPSJiYWNrZ3JvdW5kIj4KICAvLyBpbmNsdWRpbmcgbmFtZWQgYmFja2dyb3VuZHMgZS5nLiBjbGFzcz0iYmFja2dyb3VuZCB0aXRsZXBhZ2UiCiAgY29sbGVjdF9iYWNrZ3JvdW5kczogZnVuY3Rpb24gKCkgewogICAgdmFyIGJhY2tncm91bmRzID0gbmV3IEFycmF5KCk7CiAgICB2YXIgZGl2cyA9IGRvY3VtZW50LmJvZHkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGl2cy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgZGl2ID0gZGl2cy5pdGVtKGkpOwoKICAgICAgaWYgKHRoaXMuaGFzX2NsYXNzKGRpdiwgImJhY2tncm91bmQiKSkKICAgICAgewogICAgICAgIC8vIGFkZCBiYWNrZ3JvdW5kIHRvIGNvbGxlY3Rpb24KICAgICAgICBiYWNrZ3JvdW5kc1tiYWNrZ3JvdW5kcy5sZW5ndGhdID0gZGl2OwoKICAgICAgICAvLyBhbmQgaGlkZSBpdAogICAgICAgIHRoaXMuYWRkX2NsYXNzKGRpdiwgImhpZGRlbiIpOwogICAgICB9CiAgICB9CgogICAgdGhpcy5iYWNrZ3JvdW5kcyA9IGJhY2tncm91bmRzOwogIH0sCgogIC8vIHNldCBjbGljayBoYW5kbGVycyBvbiBhbGwgYW5jaG9ycwogIHBhdGNoX2FuY2hvcnM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBzZWxmID0gdzNjX3NsaWR5OwogICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgLy8gY29tcGFyZSB0aGlzLmhyZWYgd2l0aCBsb2NhdGlvbi5ocmVmCiAgICAgIC8vIGZvciBsaW5rIHRvIGFub3RoZXIgc2xpZGUgaW4gdGhpcyBkb2MKCiAgICAgIGlmIChzZWxmLnBhZ2VfYWRkcmVzcyh0aGlzLmhyZWYpID09IHNlbGYucGFnZV9hZGRyZXNzKGxvY2F0aW9uLmhyZWYpKQogICAgICB7CiAgICAgICAgLy8geWVzLCBzbyBmaW5kIG5ldyBzbGlkZSBudW1iZXIKICAgICAgICB2YXIgbmV3c2xpZGVudW0gPSBzZWxmLmZpbmRfc2xpZGVfbnVtYmVyKHRoaXMuaHJlZik7CgogICAgICAgIGlmIChuZXdzbGlkZW51bSAhPSBzZWxmLnNsaWRlX251bWJlcikKICAgICAgICB7CiAgICAgICAgICB2YXIgc2xpZGUgPSBzZWxmLnNsaWRlc1tzZWxmLnNsaWRlX251bWJlcl07CiAgICAgICAgICBzZWxmLmhpZGVfc2xpZGUoc2xpZGUpOwogICAgICAgICAgc2VsZi5zbGlkZV9udW1iZXIgPSBuZXdzbGlkZW51bTsKICAgICAgICAgIHNsaWRlID0gc2VsZi5zbGlkZXNbc2VsZi5zbGlkZV9udW1iZXJdOwogICAgICAgICAgc2VsZi5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgICAgIHNlbGYuc2V0X2xvY2F0aW9uKCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGVsc2UKICAgICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihldmVudCk7CgovLyAgICAgIGVsc2UgaWYgKHRoaXMudGFyZ2V0ID09IG51bGwpCi8vICAgICAgICBsb2NhdGlvbi5ocmVmID0gdGhpcy5ocmVmOwoKICAgICAgdGhpcy5ibHVyKCk7CiAgICAgIHNlbGYuZGlzYWJsZV9zbGlkZV9jbGljayA9IHRydWU7CiAgICB9OwoKICAgIHZhciBhbmNob3JzID0gZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYSIpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5jaG9ycy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgaWYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKQogICAgICAgIGFuY2hvcnNbaV0uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBoYW5kbGVyLCBmYWxzZSk7CiAgICAgIGVsc2UKICAgICAgICBhbmNob3JzW2ldLmF0dGFjaEV2ZW50KCJvbmNsaWNrIiwgaGFuZGxlcik7CiAgICB9CiAgfSwKCiAgLy8gIyMjIENIRUNLIE1FICMjIyBzZWUgd2hpY2ggZnVuY3Rpb25zIGFyZSBpbnZva2VkIHZpYSBzZXRUaW1lb3V0CiAgLy8gZWl0aGVyIGRpcmVjdGx5IG9yIGluZGlyZWN0bHkgZm9yIHVzZSBvZiB3M2Nfc2xpZHkgdnMgdGhpcwogIHNob3dfc2xpZGVfbnVtYmVyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdGltZXIgPSB3M2Nfc2xpZHkuZ2V0X3RpbWVyKCk7CiAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyX2VsZW1lbnQuaW5uZXJIVE1MID0gdGltZXIgKyB3M2Nfc2xpZHkubG9jYWxpemUoInNsaWRlIikgKyAiICIgKwogICAgICAgICAgICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyICsgMSkgKyAiLyIgKyB3M2Nfc2xpZHkuc2xpZGVzLmxlbmd0aDsKICB9LAoKICAvLyBldmVyeSAyMDBtUyBjaGVjayBpZiB0aGUgbG9jYXRpb24gaGFzIGJlZW4gY2hhbmdlZCBhcyBhCiAgLy8gcmVzdWx0IG9mIHRoZSB1c2VyIGFjdGl2YXRpbmcgdGhlIEJhY2sgYnV0dG9uL21lbnUgaXRlbQogIC8vIGRvZXNuJ3Qgd29yayBmb3IgT3BlcmEgPCA5LjUKICBjaGVja19sb2NhdGlvbjogZnVuY3Rpb24gKCkgewogICAgdmFyIGhhc2ggPSBsb2NhdGlvbi5oYXNoOwoKICAgIGlmICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID4gMCAmJiAoaGFzaCA9PSAiIiB8fCBoYXNoID09ICIjIikpCiAgICAgIHczY19zbGlkeS5nb3RvX3NsaWRlKDApOwogICAgZWxzZSBpZiAoaGFzaC5sZW5ndGggPiAyICYmIGhhc2ggIT0gIiMoIisodzNjX3NsaWR5LnNsaWRlX251bWJlcisxKSsiKSIpCiAgICB7CiAgICAgIHZhciBudW0gPSBwYXJzZUludChsb2NhdGlvbi5oYXNoLnN1YnN0cigyKSk7CgogICAgICBpZiAoIWlzTmFOKG51bSkpCiAgICAgICAgdzNjX3NsaWR5LmdvdG9fc2xpZGUobnVtLTEpOwogICAgfQoKICAgIGlmICh3M2Nfc2xpZHkudGltZV9sZWZ0ICYmIHczY19zbGlkeS5zbGlkZV9udW1iZXIgPiAwKQogICAgewogICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZV9udW1iZXIoKTsKCiAgICAgIGlmICh3M2Nfc2xpZHkudGltZV9sZWZ0ID4gMCkKICAgICAgICB3M2Nfc2xpZHkudGltZV9sZWZ0IC09IDIwMDsKICAgIH0gCiAgfSwKCiAgZ2V0X3RpbWVyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdGltZXIgPSAiIjsKICAgIGlmICh3M2Nfc2xpZHkudGltZV9sZWZ0KQogICAgewogICAgICB2YXIgbWlucywgc2VjczsKICAgICAgc2VjcyA9IE1hdGguZmxvb3IodzNjX3NsaWR5LnRpbWVfbGVmdC8xMDAwKTsKICAgICAgbWlucyA9IE1hdGguZmxvb3Ioc2VjcyAvIDYwKTsKICAgICAgc2VjcyA9IHNlY3MgJSA2MDsKICAgICAgdGltZXIgPSAobWlucyA/IG1pbnMrIm0iIDogIiIpICsgc2VjcyArICJzICI7CiAgICB9CgogICAgcmV0dXJuIHRpbWVyOwogIH0sCgogIC8vIHRoaXMgZG9lc24ndCBwdXNoIGxvY2F0aW9uIG9udG8gaGlzdG9yeSBzdGFjayBmb3IgSUUKICAvLyBmb3Igd2hpY2ggYSBoaWRkZW4gaWZyYW1lIGhhY2sgaXMgbmVlZGVkOiBsb2FkIHBhZ2UgaW50bwogIC8vIHRoZSBpZnJhbWUgd2l0aCBzY3JpcHQgdGhhdCBzZXQncyBwYXJlbnQncyBsb2NhdGlvbi5oYXNoCiAgLy8gYnV0IHRoYXQgd29uJ3Qgd29yayBmb3Igc3RhbmRhbG9uZSB1c2UgdW5sZXNzIHdlIGNhbgogIC8vIGNyZWF0ZSB0aGUgcGFnZSBkeW5hbWljYWxseSB2aWEgYSBqYXZhc2NyaXB0OiBVUkwKICAvLyAjIyMgdXNlIGhpc3RvcnkucHVzaFN0YXRlIGlmIGF2YWlsYWJsZQogIHNldF9sb2NhdGlvbjogZnVuY3Rpb24gKCkgewogICAgIHZhciB1cmkgPSB3M2Nfc2xpZHkucGFnZV9hZGRyZXNzKGxvY2F0aW9uLmhyZWYpOwogICAgIHZhciBoYXNoID0gIiMoIiArICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyKzEpICsgIikiOwoKICAgICBpZiAodzNjX3NsaWR5LnNsaWRlX251bWJlciA+PSAwKQogICAgICAgdXJpID0gdXJpICsgaGFzaDsKCiAgICAgaWYgKHR5cGVvZihoaXN0b3J5LnB1c2hTdGF0ZSkgIT0gInVuZGVmaW5lZCIgJiYgbG9jYXRpb24ucHJvdG9jb2wgIT09ICJmaWxlOiIpCiAgICAgewogICAgICAgZG9jdW1lbnQudGl0bGUgPSB3M2Nfc2xpZHkudGl0bGUgKyAiICgiICsgKHczY19zbGlkeS5zbGlkZV9udW1iZXIrMSkgKyAiKSI7CiAgICAgICBoaXN0b3J5LnB1c2hTdGF0ZSgwLCBkb2N1bWVudC50aXRsZSwgaGFzaCk7CiAgICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZV9udW1iZXIoKTsKICAgICAgIHczY19zbGlkeS5ub3RpZnlfb2JzZXJ2ZXJzKCk7CiAgICAgICByZXR1cm47CiAgICAgfQoKICAgICBpZiAodzNjX3NsaWR5LmllICYmICh3M2Nfc2xpZHkuaWU2IHx8IHczY19zbGlkeS5pZTcpKQogICAgICAgdzNjX3NsaWR5LnB1c2hfaGFzaChoYXNoKTsKCiAgICAgaWYgKHVyaSAhPSBsb2NhdGlvbi5ocmVmKSAvLyAmJiAha2h0bWwKICAgICAgICBsb2NhdGlvbi5ocmVmID0gdXJpOwoKICAgICBpZiAodGhpcy5raHRtbCkKICAgICAgICBoYXNoID0gIigiICsgKHczY19zbGlkeS5zbGlkZV9udW1iZXIrMSkgKyAiKSI7CgogICAgIGlmICghdGhpcy5pZSAmJiBsb2NhdGlvbi5oYXNoICE9IGhhc2ggJiYgbG9jYXRpb24uaGFzaCAhPSAiIikKICAgICAgIGxvY2F0aW9uLmhhc2ggPSBoYXNoOwoKICAgICBkb2N1bWVudC50aXRsZSA9IHczY19zbGlkeS50aXRsZSArICIgKCIgKyAodzNjX3NsaWR5LnNsaWRlX251bWJlcisxKSArICIpIjsKICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZV9udW1iZXIoKTsKICAgICB3M2Nfc2xpZHkubm90aWZ5X29ic2VydmVycygpOwogIH0sCgogIG5vdGlmeV9vYnNlcnZlcnM6IGZ1bmN0aW9uICgpCiAgewogICAgdmFyIHNsaWRlID0gdGhpcy5zbGlkZXNbdGhpcy5zbGlkZV9udW1iZXJdOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5vYnNlcnZlcnMubGVuZ3RoOyArK2kpCiAgICAgIHRoaXMub2JzZXJ2ZXJzW2ldKHRoaXMuc2xpZGVfbnVtYmVyKzEsIHRoaXMuZmluZF9oZWFkaW5nKHNsaWRlKS5pbm5lclRleHQsIGxvY2F0aW9uLmhyZWYpOwogIH0sCgogIGFkZF9vYnNlcnZlcjogZnVuY3Rpb24gKG9ic2VydmVyKQogIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5vYnNlcnZlcnMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIGlmIChvYnNlcnZlciA9PSB0aGlzLm9ic2VydmVyc1tpXSkKICAgICAgICByZXR1cm47CiAgICB9CgogICAgdGhpcy5vYnNlcnZlcnMucHVzaChvYnNlcnZlcik7CiAgfSwKCiAgcmVtb3ZlX29ic2VydmVyOiBmdW5jdGlvbiAobykKICB7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMub2JzZXJ2ZXJzLmxlbmd0aDsgKytpKQogICAgewogICAgICBpZiAob2JzZXJ2ZXIgPT0gdGhpcy5vYnNlcnZlcnNbaV0pCiAgICAgIHsKICAgICAgICB0aGlzLm9ic2VydmVycy5zcGxpY2UoaSwxKTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0sCgogIHBhZ2VfYWRkcmVzczogZnVuY3Rpb24gKHVyaSkgewogICAgdmFyIGkgPSB1cmkuaW5kZXhPZigiIyIpOwoKICAgIGlmIChpIDwgMCkKICAgICAgaSA9IHVyaS5pbmRleE9mKCIlMjMiKTsKCiAgICAvLyBjaGVjayBpZiBhbmNob3IgaXMgZW50aXJlIHBhZ2UKCiAgICBpZiAoaSA8IDApCiAgICAgIHJldHVybiB1cmk7ICAvLyB5ZXMKCiAgICByZXR1cm4gdXJpLnN1YnN0cigwLCBpKTsKICB9LAoKICAvLyBvbmx5IHVzZWQgZm9yIElFNiBhbmQgSUU3CiAgb25fZnJhbWVfbG9hZGVkOiBmdW5jdGlvbiAoaGFzaCkgewogICAgbG9jYXRpb24uaGFzaCA9IGhhc2g7CiAgICB2YXIgdXJpID0gdzNjX3NsaWR5LnBhZ2VfYWRkcmVzcyhsb2NhdGlvbi5ocmVmKTsKICAgIGxvY2F0aW9uLmhyZWYgPSB1cmkgKyBoYXNoOwogIH0sCgogIC8vIGhpc3RvcnkgaGFjayB3aXRoIHRoYW5rcyB0byBCZXJ0cmFuZCBMZSBSb3kKICBwdXNoX2hhc2g6IGZ1bmN0aW9uIChoYXNoKSB7CiAgICBpZiAoaGFzaCA9PSAiIikgaGFzaCA9ICIjKDEpIjsKICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBoYXNoOwoKICAgIHZhciBkb2MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaGlzdG9yeUZyYW1lIikuY29udGVudFdpbmRvdy5kb2N1bWVudDsKICAgIGRvYy5vcGVuKCJqYXZhc2NyaXB0Oic8aHRtbD48L2h0bWw+JyIpOwogICAgZG9jLndyaXRlKCI8aHRtbD48aGVhZD48c2NyaXB0IHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIj53aW5kb3cucGFyZW50LnczY19zbGlkeS5vbl9mcmFtZV9sb2FkZWQoJyIrCiAgICAgIChoYXNoKSArICInKTs8L3NjcmlwdD48L2hlYWQ+PGJvZHk+aGVsbG8gbXVtPC9ib2R5PjwvaHRtbD4iKTsKICAgICAgZG9jLmNsb3NlKCk7CiAgfSwKCiAgLy8gZmluZCBjdXJyZW50IHNsaWRlIGJhc2VkIHVwb24gbG9jYXRpb24KICAvLyBmaXJzdCBmaW5kIHRhcmdldCBhbmNob3IgYW5kIHRoZW4gbG9vawogIC8vIGZvciBhc3NvY2lhdGVkIGRpdiBlbGVtZW50IGVuY2xvc2luZyBpdAogIC8vIGZpbmFsbHkgbWFwIHRoYXQgdG8gc2xpZGUgbnVtYmVyCiAgZmluZF9zbGlkZV9udW1iZXI6IGZ1bmN0aW9uICh1cmkpIHsKICAgIC8vIGZpcnN0IGdldCBhbmNob3IgZnJvbSBwYWdlIGxvY2F0aW9uCgogICAgdmFyIGkgPSB1cmkuaW5kZXhPZigiIyIpOwoKICAgIC8vIGNoZWNrIGlmIGFuY2hvciBpcyBlbnRpcmUgcGFnZQogICAgaWYgKGkgPCAwKQogICAgICByZXR1cm4gMDsgIC8vIHllcwoKICAgIHZhciBhbmNob3IgPSB1bmVzY2FwZSh1cmkuc3Vic3RyKGkrMSkpOwoKICAgIC8vIG5vdyB1c2UgYW5jaG9yIGFzIFhNTCBJRCB0byBmaW5kIHRhcmdldAogICAgdmFyIHRhcmdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGFuY2hvcik7CgogICAgaWYgKCF0YXJnZXQpCiAgICB7CiAgICAgIC8vIGRvZXMgYW5jaG9yIGxvb2sgbGlrZSAiKDIpIiBmb3Igc2xpZGUgMiA/PwogICAgICAvLyB3aGVyZSBmaXJzdCBzbGlkZSBpcyAoMSkKICAgICAgdmFyIHJlID0gL1woKFxkKStcKS87CgogICAgICBpZiAoYW5jaG9yLm1hdGNoKHJlKSkKICAgICAgewogICAgICAgIHZhciBudW0gPSBwYXJzZUludChhbmNob3Iuc3Vic3RyaW5nKDEsIGFuY2hvci5sZW5ndGgtMSkpOwoKICAgICAgICBpZiAobnVtID4gdGhpcy5zbGlkZXMubGVuZ3RoKQogICAgICAgICAgbnVtID0gMTsKCiAgICAgICAgaWYgKC0tbnVtIDwgMCkKICAgICAgICAgIG51bSA9IDA7CgogICAgICAgIHJldHVybiBudW07CiAgICAgIH0KCiAgICAgIC8vIGFjY2VwdCBbMl0gZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5CiAgICAgIHJlID0gL1xbKFxkKStcXS87CgogICAgICBpZiAoYW5jaG9yLm1hdGNoKHJlKSkKICAgICAgewogICAgICAgICB2YXIgbnVtID0gcGFyc2VJbnQoYW5jaG9yLnN1YnN0cmluZygxLCBhbmNob3IubGVuZ3RoLTEpKTsKCiAgICAgICAgIGlmIChudW0gPiB0aGlzLnNsaWRlcy5sZW5ndGgpCiAgICAgICAgICAgIG51bSA9IDE7CgogICAgICAgICBpZiAoLS1udW0gPCAwKQogICAgICAgICAgICBudW0gPSAwOwoKICAgICAgICAgcmV0dXJuIG51bTsKICAgICAgfQoKICAgICAgLy8gb2ggZGVhciB1bmtub3duIGFuY2hvcgogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICAvLyBzZWFyY2ggZm9yIGVuY2xvc2luZyBzbGlkZQoKICAgIHdoaWxlICh0cnVlKQogICAgewogICAgICAvLyBicm93c2VyIGNvZXJjZXMgaHRtbCBlbGVtZW50cyB0byB1cHBlcmNhc2UhCiAgICAgIGlmICh0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PSAiZGl2IiAmJgogICAgICAgICAgICB0aGlzLmhhc19jbGFzcyh0YXJnZXQsICJzbGlkZSIpKQogICAgICB7CiAgICAgICAgLy8gZm91bmQgdGhlIHNsaWRlIGVsZW1lbnQKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgLy8gb3RoZXJ3aXNlIHRyeSBwYXJlbnQgZWxlbWVudCBpZiBhbnkKCiAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlOwoKICAgICAgaWYgKCF0YXJnZXQpCiAgICAgIHsKICAgICAgICByZXR1cm4gMDsgICAvLyBubyBsdWNrIQogICAgICB9CiAgICB9OwoKICAgIGZvciAoaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIGlmIChzbGlkZXNbaV0gPT0gdGFyZ2V0KQogICAgICAgIHJldHVybiBpOyAgLy8gc3VjY2VzcwogICAgfQoKICAgIC8vIG9oIGRlYXIgc3RpbGwgbm8gbHVjawogICAgcmV0dXJuIDA7CiAgfSwKCiAgcHJldmlvdXNfc2xpZGU6IGZ1bmN0aW9uIChpbmNyZW1lbnRhbCkgewogICAgaWYgKCF3M2Nfc2xpZHkudmlld19hbGwpCiAgICB7CiAgICAgIHZhciBzbGlkZTsKCiAgICAgIGlmICgoaW5jcmVtZW50YWwgfHwgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9PSAwKSAmJiB3M2Nfc2xpZHkubGFzdF9zaG93biAhPSBudWxsKQogICAgICB7CiAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSB3M2Nfc2xpZHkuaGlkZV9wcmV2aW91c19pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKTsKICAgICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXMoZmFsc2UpOwogICAgICB9CiAgICAgIGVsc2UgaWYgKHczY19zbGlkeS5zbGlkZV9udW1iZXIgPiAwKQogICAgICB7CiAgICAgICAgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgIHczY19zbGlkeS5oaWRlX3NsaWRlKHNsaWRlKTsKCiAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IHczY19zbGlkeS5zbGlkZV9udW1iZXIgLSAxOwogICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICB3M2Nfc2xpZHkuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJ2aXNpYmxlIik7CiAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSB3M2Nfc2xpZHkucHJldmlvdXNfaW5jcmVtZW50YWxfaXRlbShudWxsKTsKICAgICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXModHJ1ZSk7CiAgICAgICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgICB9CgogICAgICB3M2Nfc2xpZHkuc2V0X2xvY2F0aW9uKCk7CgogICAgICBpZiAoIXczY19zbGlkeS5uc19wb3MpCiAgICAgICAgdzNjX3NsaWR5LnJlZnJlc2hfdG9vbGJhcigyMDApOwogICAgfQogIH0sCgogIG5leHRfc2xpZGU6IGZ1bmN0aW9uIChpbmNyZW1lbnRhbCkgewogICAgaWYgKCF3M2Nfc2xpZHkudmlld19hbGwpCiAgICB7CiAgICAgIHZhciBzbGlkZSwgbGFzdCA9IHczY19zbGlkeS5sYXN0X3Nob3duOwoKICAgICAgaWYgKGluY3JlbWVudGFsIHx8IHczY19zbGlkeS5zbGlkZV9udW1iZXIgPT0gdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxKQogICAgICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IHczY19zbGlkeS5yZXZlYWxfbmV4dF9pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKTsKCiAgICAgIGlmICgoIWluY3JlbWVudGFsIHx8IHczY19zbGlkeS5sYXN0X3Nob3duID09IG51bGwpICYmCiAgICAgICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyIDwgdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxKQogICAgICB7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwoKICAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IHczY19zbGlkeS5zbGlkZV9udW1iZXIgKyAxOwogICAgICAgICBzbGlkZSA9IHczY19zbGlkeS5zbGlkZXNbdzNjX3NsaWR5LnNsaWRlX251bWJlcl07CiAgICAgICAgIHczY19zbGlkeS5sYXN0X3Nob3duID0gbnVsbDsKICAgICAgICAgdzNjX3NsaWR5LnNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbCgiaGlkZGVuIik7CiAgICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgfQogICAgICBlbHNlIGlmICghdzNjX3NsaWR5Lmxhc3Rfc2hvd24pCiAgICAgIHsKICAgICAgICAgaWYgKGxhc3QgJiYgaW5jcmVtZW50YWwpCiAgICAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSBsYXN0OwogICAgICB9CgogICAgICB3M2Nfc2xpZHkuc2V0X2xvY2F0aW9uKCk7CgogICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXMoIXczY19zbGlkeS5uZXh0X2luY3JlbWVudGFsX2l0ZW0odzNjX3NsaWR5Lmxhc3Rfc2hvd24pKTsKCiAgICAgIGlmICghdzNjX3NsaWR5Lm5zX3BvcykKICAgICAgICAgdzNjX3NsaWR5LnJlZnJlc2hfdG9vbGJhcigyMDApOwogICAgIH0KICB9LAoKICAvLyB0byBmaXJzdCBzbGlkZSB3aXRoIG5vdGhpbmcgcmV2ZWFsZWQKICAvLyBpLmUuIHN0YXRlIGF0IHN0YXJ0IG9mIHByZXNlbnRhdGlvbgogIGZpcnN0X3NsaWRlOiBmdW5jdGlvbiAoKSB7CiAgICAgaWYgKCF3M2Nfc2xpZHkudmlld19hbGwpCiAgICAgewogICAgICAgdmFyIHNsaWRlOwoKICAgICAgIGlmICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyICE9IDApCiAgICAgICB7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwoKICAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IDA7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSBudWxsOwogICAgICAgICB3M2Nfc2xpZHkuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJoaWRkZW4iKTsKICAgICAgICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgICAgfQoKICAgICAgIHczY19zbGlkeS5zZXRfZW9zX3N0YXR1cygKICAgICAgICAgIXczY19zbGlkeS5uZXh0X2luY3JlbWVudGFsX2l0ZW0odzNjX3NsaWR5Lmxhc3Rfc2hvd24pKTsKICAgICAgIHczY19zbGlkeS5zZXRfbG9jYXRpb24oKTsKICAgICB9CiAgfSwKCiAgLy8gZ290byBsYXN0IHNsaWRlIHdpdGggZXZlcnl0aGluZyByZXZlYWxlZAogIC8vIGkuZS4gc3RhdGUgYXQgZW5kIG9mIHByZXNlbnRhdGlvbgogIGxhc3Rfc2xpZGU6IGZ1bmN0aW9uICgpIHsKICAgIGlmICghdzNjX3NsaWR5LnZpZXdfYWxsKQogICAgewogICAgICB2YXIgc2xpZGU7CgogICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IG51bGw7IC8vcmV2ZWFsTmV4dEl0ZW0obGFzdFNob3duKTsKCiAgICAgIGlmICh3M2Nfc2xpZHkubGFzdF9zaG93biA9PSBudWxsICYmCiAgICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyIDwgdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxKQogICAgICB7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID0gdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxOwogICAgICAgICBzbGlkZSA9IHczY19zbGlkeS5zbGlkZXNbdzNjX3NsaWR5LnNsaWRlX251bWJlcl07CiAgICAgICAgIHczY19zbGlkeS5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoInZpc2libGUiKTsKICAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSB3M2Nfc2xpZHkucHJldmlvdXNfaW5jcmVtZW50YWxfaXRlbShudWxsKTsKCiAgICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgfQogICAgICBlbHNlCiAgICAgIHsKICAgICAgICAgdzNjX3NsaWR5LnNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbCgidmlzaWJsZSIpOwogICAgICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IHczY19zbGlkeS5wcmV2aW91c19pbmNyZW1lbnRhbF9pdGVtKG51bGwpOwogICAgICB9CgogICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXModHJ1ZSk7CiAgICAgIHczY19zbGlkeS5zZXRfbG9jYXRpb24oKTsKICAgIH0KICB9LAoKCiAgLy8gIyMjIGNoZWNrIHRoaXMgYW5kIGNvbnNpZGVyIGFkZC9yZW1vdmUgY2xhc3MKICBzZXRfZW9zX3N0YXR1czogZnVuY3Rpb24gKHN0YXRlKSB7CiAgICBpZiAodGhpcy5lb3MpCiAgICAgIHRoaXMuZW9zLnN0eWxlLmNvbG9yID0gKHN0YXRlID8gInJnYigyNDAsMjQwLDI0MCkiIDogInJlZCIpOwogIH0sCgogIC8vIGZpcnN0IHNsaWRlIGlzIDAKICBnb3RvX3NsaWRlOiBmdW5jdGlvbiAobnVtKSB7CiAgICAvL2FsZXJ0KCJnb2luZyB0byBzbGlkZSAiICsgKG51bSsxKSk7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IG51bTsKICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgIHczY19zbGlkeS5sYXN0X3Nob3duID0gbnVsbDsKICAgIHczY19zbGlkeS5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoImhpZGRlbiIpOwogICAgdzNjX3NsaWR5LnNldF9lb3Nfc3RhdHVzKCF3M2Nfc2xpZHkubmV4dF9pbmNyZW1lbnRhbF9pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKSk7CiAgICBkb2N1bWVudC50aXRsZSA9IHczY19zbGlkeS50aXRsZSArICIgKCIgKyAodzNjX3NsaWR5LnNsaWRlX251bWJlcisxKSArICIpIjsKICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgIHczY19zbGlkeS5zaG93X3NsaWRlX251bWJlcigpOwogIH0sCgoKICBzaG93X3NsaWRlOiBmdW5jdGlvbiAoc2xpZGUpIHsKICAgIHRoaXMuc3luY19iYWNrZ3JvdW5kKHNsaWRlKTsKICAgIHRoaXMucmVtb3ZlX2NsYXNzKHNsaWRlLCAiaGlkZGVuIik7CgogICAgLy8gd29yayBhcm91bmQgSUU5IG9iamVjdCByZW5kZXJpbmcgYnVnCiAgICBzZXRUaW1lb3V0KCJ3aW5kb3cuc2Nyb2xsVG8oMCwwKTsiLCAxKTsKICB9LAoKICBoaWRlX3NsaWRlOiBmdW5jdGlvbiAoc2xpZGUpIHsKICAgIHRoaXMuYWRkX2NsYXNzKHNsaWRlLCAiaGlkZGVuIik7CiAgfSwKCiAgc2V0X2ZvY3VzOiBmdW5jdGlvbiAoZWxlbWVudCkKICB7CiAgICBpZiAoZWxlbWVudCkKICAgICAgZWxlbWVudC5mb2N1cygpOwogICAgZWxzZQogICAgewogICAgICB3M2Nfc2xpZHkuaGVscF9hbmNob3IuZm9jdXMoKTsKCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgdzNjX3NsaWR5LmhlbHBfYW5jaG9yLmJsdXIoKTsKICAgICAgfSwgMSk7CiAgICB9CiAgfSwKCiAgLy8gc2hvdyBqdXN0IHRoZSBiYWNrZ3JvdW5kcyBwZXJ0aW5lbnQgdG8gdGhpcyBzbGlkZQogIC8vIHdoZW4gc2xpZGUgYmFja2dyb3VuZC1jb2xvciBpcyB0cmFuc3BhcmVudAogIC8vIHRoaXMgc2hvdWxkIG5vdyB3b3JrIHdpdGggcmdiYSBjb2xvciB2YWx1ZXMKICBzeW5jX2JhY2tncm91bmQ6IGZ1bmN0aW9uIChzbGlkZSkgewogICAgdmFyIGJhY2tncm91bmQ7CiAgICB2YXIgYmdDb2xvcjsKCiAgICBpZiAoc2xpZGUuY3VycmVudFN0eWxlKQogICAgICBiZ0NvbG9yID0gc2xpZGUuY3VycmVudFN0eWxlWyJiYWNrZ3JvdW5kQ29sb3IiXTsKICAgIGVsc2UgaWYgKGRvY3VtZW50LmRlZmF1bHRWaWV3KQogICAgewogICAgICB2YXIgc3R5bGVzID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShzbGlkZSxudWxsKTsKCiAgICAgIGlmIChzdHlsZXMpCiAgICAgICAgYmdDb2xvciA9IHN0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKCJiYWNrZ3JvdW5kLWNvbG9yIik7CiAgICAgIGVsc2UgLy8gYnJva2VuIGltcGxlbWVudGF0aW9uIHByb2JhYmx5IGR1ZSBTYWZhcmkgb3IgS29ucXVlcm9yCiAgICAgIHsKICAgICAgICAvL2FsZXJ0KCJkZWZlY3RpdmUgaW1wbGVtZW50YXRpb24gb2YgZ2V0Q29tcHV0ZWRTdHlsZSgpIik7CiAgICAgICAgYmdDb2xvciA9ICJ0cmFuc3BhcmVudCI7CiAgICAgIH0KICAgIH0KICAgIGVsc2UKICAgICAgYmdDb2xvciA9PSAidHJhbnNwYXJlbnQiOwoKICAgIGlmIChiZ0NvbG9yID09ICJ0cmFuc3BhcmVudCIgfHwKICAgICAgICBiZ0NvbG9yLmluZGV4T2YoInJnYmEiKSA+PSAwIHx8CiAgICAgICAgYmdDb2xvci5pbmRleE9mKCJvcGFjaXR5IikgPj0gMCkKICAgIHsKICAgICAgdmFyIHNsaWRlQ2xhc3MgPSB0aGlzLmdldF9jbGFzc19saXN0KHNsaWRlKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5iYWNrZ3JvdW5kcy5sZW5ndGg7IGkrKykKICAgICAgewogICAgICAgIGJhY2tncm91bmQgPSB0aGlzLmJhY2tncm91bmRzW2ldOwoKICAgICAgICB2YXIgYmdDbGFzcyA9IHRoaXMuZ2V0X2NsYXNzX2xpc3QoYmFja2dyb3VuZCk7CgogICAgICAgIGlmICh0aGlzLm1hdGNoaW5nX2JhY2tncm91bmQoc2xpZGVDbGFzcywgYmdDbGFzcykpCiAgICAgICAgICB0aGlzLnJlbW92ZV9jbGFzcyhiYWNrZ3JvdW5kLCAiaGlkZGVuIik7CiAgICAgICAgZWxzZQogICAgICAgICAgdGhpcy5hZGRfY2xhc3MoYmFja2dyb3VuZCwgImhpZGRlbiIpOwogICAgICB9CiAgICB9CiAgICBlbHNlIC8vIGZvcmNpYmx5IGhpZGUgYWxsIGJhY2tncm91bmRzCiAgICAgIHRoaXMuaGlkZV9iYWNrZ3JvdW5kcygpOwogIH0sCgogIGhpZGVfYmFja2dyb3VuZHM6IGZ1bmN0aW9uICgpIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5iYWNrZ3JvdW5kcy5sZW5ndGg7IGkrKykKICAgIHsKICAgICAgYmFja2dyb3VuZCA9IHRoaXMuYmFja2dyb3VuZHNbaV07CiAgICAgIHRoaXMuYWRkX2NsYXNzKGJhY2tncm91bmQsICJoaWRkZW4iKTsKICAgIH0KICB9LAoKICAvLyBjb21wYXJlIGNsYXNzZXMgZm9yIHNsaWRlIGFuZCBiYWNrZ3JvdW5kCiAgbWF0Y2hpbmdfYmFja2dyb3VuZDogZnVuY3Rpb24gKHNsaWRlQ2xhc3MsIGJnQ2xhc3MpIHsKICAgIHZhciBpLCBjb3VudCwgcGF0dGVybiwgcmVzdWx0OwoKICAgIC8vIGRlZmluZSBwYXR0ZXJuIGFzIHJlZ3VsYXIgZXhwcmVzc2lvbgogICAgcGF0dGVybiA9IC9cdysvZzsKCiAgICAvLyBjaGVjayBiYWNrZ3JvdW5kIGNsYXNzIG5hbWVzCiAgICByZXN1bHQgPSBiZ0NsYXNzLm1hdGNoKHBhdHRlcm4pOwoKICAgIGZvciAoaSA9IGNvdW50ID0gMDsgaSA8IHJlc3VsdC5sZW5ndGg7IGkrKykKICAgIHsKICAgICAgaWYgKHJlc3VsdFtpXSA9PSAiaGlkZGVuIikKICAgICAgICBjb250aW51ZTsKCiAgICAgIGlmIChyZXN1bHRbaV0gPT0gImJhY2tncm91bmQiKQoJY29udGludWU7CgogICAgICArK2NvdW50OwogICAgfQoKICAgIGlmIChjb3VudCA9PSAwKSAgLy8gZGVmYXVsdCBtYXRjaAogICAgICByZXR1cm4gdHJ1ZTsKCiAgICAvLyBjaGVjayBmb3IgbWF0Y2hlcyBhbmQgcGxhY2UgcmVzdWx0IGluIGFycmF5CiAgICByZXN1bHQgPSBzbGlkZUNsYXNzLm1hdGNoKHBhdHRlcm4pOwoKICAgIC8vIG5vdyBjaGVjayBpZiBkZXNpcmVkIG5hbWUgaXMgcHJlc2VudCBmb3IgYmFja2dyb3VuZAogICAgZm9yIChpID0gY291bnQgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSsrKQogICAgewogICAgICBpZiAocmVzdWx0W2ldID09ICJoaWRkZW4iKQogICAgICAgIGNvbnRpbnVlOwoKICAgICAgaWYgKHRoaXMuaGFzX3Rva2VuKGJnQ2xhc3MsIHJlc3VsdFtpXSkpCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0sCgogIHJlc2l6ZWQ6IGZ1bmN0aW9uICgpIHsKICAgICB2YXIgd2lkdGggPSAwOwoKICAgICBpZiAoIHR5cGVvZiggd2luZG93LmlubmVyV2lkdGggKSA9PSAnbnVtYmVyJyApCiAgICAgICB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoOyAgLy8gTm9uIElFIGJyb3dzZXIKICAgICBlbHNlIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKQogICAgICAgd2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7ICAvLyBJRTYKICAgICBlbHNlIGlmIChkb2N1bWVudC5ib2R5ICYmIGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgpCiAgICAgICB3aWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7IC8vIElFNAoKICAgICB2YXIgaGVpZ2h0ID0gMDsKCiAgICAgaWYgKCB0eXBlb2YoIHdpbmRvdy5pbm5lckhlaWdodCApID09ICdudW1iZXInICkKICAgICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDsgIC8vIE5vbiBJRSBicm93c2VyCiAgICAgZWxzZSBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpCiAgICAgICBoZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OyAgLy8gSUU2CiAgICAgZWxzZSBpZiAoZG9jdW1lbnQuYm9keSAmJiBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCkKICAgICAgIGhlaWdodCA9IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0OyAvLyBJRTQKCiAgICAgaWYgKGhlaWdodCAmJiAod2lkdGgvaGVpZ2h0ID4gMS4wNSoxMDI0Lzc2OCkpCiAgICAgewogICAgICAgd2lkdGggPSBoZWlnaHQgKiAxMDI0LjAvNzY4OwogICAgIH0KCiAgICAgLy8gSUUgZmlyZXMgb25yZXNpemUgZXZlbiB3aGVuIG9ubHkgZm9udCBzaXplIGlzIGNoYW5nZWQhCiAgICAgLy8gc28gd2UgZG8gYSBjaGVjayB0byBhdm9pZCBibG9ja2luZyA8IGFuZCA+IGFjdGlvbnMKICAgICBpZiAod2lkdGggIT0gdzNjX3NsaWR5Lmxhc3Rfd2lkdGggfHwgaGVpZ2h0ICE9IHczY19zbGlkeS5sYXN0X2hlaWdodCkKICAgICB7CiAgICAgICBpZiAod2lkdGggPj0gMTEwMCkKICAgICAgICAgdzNjX3NsaWR5LnNpemVfaW5kZXggPSA1OyAgICAvLyA0CiAgICAgICBlbHNlIGlmICh3aWR0aCA+PSAxMDAwKQogICAgICAgICB3M2Nfc2xpZHkuc2l6ZV9pbmRleCA9IDQ7ICAgIC8vIDMKICAgICAgIGVsc2UgaWYgKHdpZHRoID49IDgwMCkKICAgICAgICAgdzNjX3NsaWR5LnNpemVfaW5kZXggPSAzOyAgICAvLyAyCiAgICAgICBlbHNlIGlmICh3aWR0aCA+PSA2MDApCiAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ID0gMjsgICAgLy8gMQogICAgICAgZWxzZSBpZiAod2lkdGgpCiAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ID0gMDsKCiAgICAgICAvLyBhZGQgaW4gZm9udCBzaXplIGFkanVzdG1lbnQgZnJvbSBtZXRhIGVsZW1lbnQgZS5nLgogICAgICAgLy8gPG1ldGEgbmFtZT0iZm9udC1zaXplLWFkanVzdG1lbnQiIGNvbnRlbnQ9Ii0yIiAvPgogICAgICAgLy8gdXNlZnVsIHdoZW4gc2xpZGVzIGhhdmUgdG9vIG11Y2ggY29udGVudCA7LSkKCiAgICAgICBpZiAoMCA8PSB3M2Nfc2xpZHkuc2l6ZV9pbmRleCArIHczY19zbGlkeS5zaXplX2FkanVzdG1lbnQgJiYKICAgICAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ICsgdzNjX3NsaWR5LnNpemVfYWRqdXN0bWVudCA8IHczY19zbGlkeS5zaXplcy5sZW5ndGgpCiAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ID0gdzNjX3NsaWR5LnNpemVfaW5kZXggKyB3M2Nfc2xpZHkuc2l6ZV9hZGp1c3RtZW50OwoKICAgICAgIC8vIGVuYWJsZXMgY3Jvc3MgYnJvd3NlciB1c2Ugb2YgcmVsYXRpdmUgd2lkdGgvaGVpZ2h0CiAgICAgICAvLyBvbiBvYmplY3QgZWxlbWVudHMgZm9yIHVzZSB3aXRoIFNWRyBhbmQgRmxhc2ggbWVkaWEKICAgICAgIHczY19zbGlkeS5hZGp1c3Rfb2JqZWN0X2RpbWVuc2lvbnMod2lkdGgsIGhlaWdodCk7CgogICAgICAgaWYgKGRvY3VtZW50LmJvZHkuc3R5bGUuZm9udFNpemUgIT0gdzNjX3NsaWR5LnNpemVzW3czY19zbGlkeS5zaXplX2luZGV4XSkKICAgICAgIHsKICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5mb250U2l6ZSA9IHczY19zbGlkeS5zaXplc1t3M2Nfc2xpZHkuc2l6ZV9pbmRleF07CiAgICAgICB9CgogICAgICAgdzNjX3NsaWR5Lmxhc3Rfd2lkdGggPSB3aWR0aDsKICAgICAgIHczY19zbGlkeS5sYXN0X2hlaWdodCA9IGhlaWdodDsKCiAgICAgICAvLyBmb3JjZSByZWZsb3cgdG8gd29yayBhcm91bmQgTW96aWxsYSBidWcKICAgICAgIGlmICh3M2Nfc2xpZHkubnNfcG9zKQogICAgICAgewogICAgICAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgICB3M2Nfc2xpZHkuaGlkZV9zbGlkZShzbGlkZSk7CiAgICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgIH0KCiAgICAgICAvLyBmb3JjZSBjb3JyZWN0IHBvc2l0aW9uaW5nIG9mIHRvb2xiYXIKICAgICAgIHczY19zbGlkeS5yZWZyZXNoX3Rvb2xiYXIoMjAwKTsKICAgICB9CiAgfSwKCiAgc2Nyb2xsZWQ6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3M2Nfc2xpZHkudG9vbGJhciAmJiAhdzNjX3NsaWR5Lm5zX3BvcyAmJiAhdzNjX3NsaWR5LmllNykKICAgIHsKICAgICAgdzNjX3NsaWR5LmhhY2tfb2Zmc2V0ID0gdzNjX3NsaWR5LnNjcm9sbF94X29mZnNldCgpOwogICAgICAvLyBoaWRlIHRvb2xiYXIKICAgICAgdzNjX3NsaWR5LnRvb2xiYXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKCiAgICAgIC8vIG1ha2UgaXQgcmVhcHBlYXIgbGF0ZXIKICAgICAgaWYgKHczY19zbGlkeS5zY3JvbGxoYWNrID09IDAgJiYgIXczY19zbGlkeS52aWV3X2FsbCkKICAgICAgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge3czY19zbGlkeS5zaG93X3Rvb2xiYXIoKTsgfSwgMTAwMCk7CiAgICAgICAgdzNjX3NsaWR5LnNjcm9sbGhhY2sgPSAxOwogICAgICB9CiAgICB9CiAgfSwKCiAgaGlkZV90b29sYmFyOiBmdW5jdGlvbiAoKSB7CiAgICB3M2Nfc2xpZHkuYWRkX2NsYXNzKHczY19zbGlkeS50b29sYmFyLCAiaGlkZGVuIik7CiAgICB3aW5kb3cuZm9jdXMoKTsKICB9LAoKICAvLyB1c2VkIHRvIGVuc3VyZSBJRSByZWZyZXNoZXMgdG9vbGJhciBpbiBjb3JyZWN0IHBvc2l0aW9uCiAgcmVmcmVzaF90b29sYmFyOiBmdW5jdGlvbiAoaW50ZXJ2YWwpIHsKICAgIGlmICghdzNjX3NsaWR5Lm5zX3BvcyAmJiAhdzNjX3NsaWR5LmllNykKICAgIHsKICAgICAgdzNjX3NsaWR5LmhpZGVfdG9vbGJhcigpOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHt3M2Nfc2xpZHkuc2hvd190b29sYmFyKCk7fSwgaW50ZXJ2YWwpOwogICAgfQogIH0sCgogIC8vIHJlc3RvcmVzIHRvb2xiYXIgYWZ0ZXIgc2hvcnQgZGVsYXkKICBzaG93X3Rvb2xiYXI6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3M2Nfc2xpZHkud2FudF90b29sYmFyKQogICAgewogICAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKCiAgICAgIGlmICghdzNjX3NsaWR5Lm5zX3BvcykKICAgICAgewogICAgICAgIC8vIGFkanVzdCBwb3NpdGlvbiB0byBhbGxvdyBmb3Igc2Nyb2xsaW5nCiAgICAgICAgdmFyIHhvZmZzZXQgPSB3M2Nfc2xpZHkuc2Nyb2xsX3hfb2Zmc2V0KCk7CiAgICAgICAgdzNjX3NsaWR5LnRvb2xiYXIuc3R5bGUubGVmdCA9IHhvZmZzZXQ7CiAgICAgICAgdzNjX3NsaWR5LnRvb2xiYXIuc3R5bGUucmlnaHQgPSB4b2Zmc2V0OwoKICAgICAgICAvLyBkZXRlcm1pbmUgdmVydGljYWwgc2Nyb2xsIG9mZnNldAogICAgICAgIC8vdmFyIHlvZmZzZXQgPSBzY3JvbGxZT2Zmc2V0KCk7CgogICAgICAgIC8vIGJvdHRvbSBpcyBkb2MgaGVpZ2h0IC0gd2luZG93IGhlaWdodCAtIHNjcm9sbCBvZmZzZXQKICAgICAgICAvL3ZhciBib3R0b20gPSBkb2N1bWVudEhlaWdodCgpIC0gbGFzdEhlaWdodCAtIHlvZmZzZXQKCiAgICAgICAgLy9pZiAoeW9mZnNldCA+IDAgfHwgZG9jdW1lbnRIZWlnaHQoKSA+IGxhc3RIZWlnaHQpCiAgICAgICAgLy8gICBib3R0b20gKz0gMTY7ICAvLyBhbGxvdyBmb3IgaGVpZ2h0IG9mIHNjcm9sbGJhcgoKICAgICAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5ib3R0b20gPSAwOyAvL2JvdHRvbTsKICAgICAgfQoKICAgICAgdzNjX3NsaWR5LnJlbW92ZV9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpOwogICAgfQoKICAgIHczY19zbGlkeS5zY3JvbGxoYWNrID0gMDsKCgogICAgLy8gc2V0IHRoZSBrZXlib2FyZCBmb2N1cyB0byB0aGUgaGVscCBsaW5rIG9uIHRoZQogICAgLy8gdG9vbGJhciB0byBlbnN1cmUgdGhhdCBkb2N1bWVudCBoYXMgdGhlIGZvY3VzCiAgICAvLyBJRSBkb2Vzbid0IGFsd2F5cyB3b3JrIHdpdGggd2luZG93LmZvY3VzKCkKICAgIC8vIGFuZCB0aGlzIGhhY2sgaGFzIGJlbmVmaXQgb2YgRW50ZXIgZm9yIGhlbHAKCiAgICB0cnkKICAgIHsKICAgICAgaWYgKCF3M2Nfc2xpZHkub3BlcmEpCiAgICAgICAgdzNjX3NsaWR5LnNldF9mb2N1cygpOwogICAgfQogICAgY2F0Y2ggKGUpCiAgICB7CiAgICB9CiAgfSwKCi8vIGludm9rZWQgdmlhIEYga2V5CiAgdG9nZ2xlX3Rvb2xiYXI6IGZ1bmN0aW9uICgpIHsKICAgIGlmICghdzNjX3NsaWR5LnZpZXdfYWxsKQogICAgewogICAgICBpZiAodzNjX3NsaWR5Lmhhc19jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpKQogICAgICB7CiAgICAgICAgdzNjX3NsaWR5LnJlbW92ZV9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpCiAgICAgICAgdzNjX3NsaWR5LndhbnRfdG9vbGJhciA9IDE7CiAgICAgIH0KICAgICAgZWxzZQogICAgICB7CiAgICAgICAgdzNjX3NsaWR5LmFkZF9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpCiAgICAgICAgdzNjX3NsaWR5LndhbnRfdG9vbGJhciA9IDA7CiAgICAgIH0KICAgIH0KICB9LAoKICBzY3JvbGxfeF9vZmZzZXQ6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3aW5kb3cucGFnZVhPZmZzZXQpCiAgICAgIHJldHVybiBzZWxmLnBhZ2VYT2Zmc2V0OwoKICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgCiAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCkKICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0OwoKICAgIGlmIChkb2N1bWVudC5ib2R5KQogICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0OwoKICAgIHJldHVybiAwOwogIH0sCgogIHNjcm9sbF95X29mZnNldDogZnVuY3Rpb24gKCkgewogICAgaWYgKHdpbmRvdy5wYWdlWU9mZnNldCkKICAgICAgcmV0dXJuIHNlbGYucGFnZVlPZmZzZXQ7CgogICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiAKICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApCiAgICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wOwoKICAgIGlmIChkb2N1bWVudC5ib2R5KQogICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7CgogICAgcmV0dXJuIDA7CiAgfSwKCiAgLy8gbG9va2luZyBmb3IgYSB3YXkgdG8gZGV0ZXJtaW5lIGhlaWdodCBvZiBzbGlkZSBjb250ZW50CiAgLy8gdGhlIHNsaWRlIGl0c2VsZiBpcyBzZXQgdG8gdGhlIGhlaWdodCBvZiB0aGUgd2luZG93CiAgb3B0aW1pemVfZm9udF9zaXplOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwoKICAgIC8vdmFyIGRoID0gZG9jdW1lbnRIZWlnaHQoKTsgLy9nZXREb2NIZWlnaHQoZG9jdW1lbnQpOwogICAgdmFyIGRoID0gc2xpZGUuc2Nyb2xsSGVpZ2h0OwogICAgdmFyIHdoID0gZ2V0V2luZG93SGVpZ2h0KCk7CiAgICB2YXIgdSA9IDEwMCAqIGRoIC8gd2g7CgogICAgYWxlcnQoIndpbmRvdyB1dGlsaXphdGlvbiA9ICIgKyB1ICsgIiUgKGRvYyAiCiAgICAgICsgZGggKyAiIHdpbiAiICsgd2ggKyAiKSIpOwogIH0sCgogIC8vIGZyb20gZG9jdW1lbnQgb2JqZWN0CiAgZ2V0X2RvY19oZWlnaHQ6IGZ1bmN0aW9uIChkb2MpIHsKICAgIGlmICghZG9jKQogICAgICBkb2MgPSBkb2N1bWVudDsKCiAgICBpZiAoZG9jICYmIGRvYy5ib2R5ICYmIGRvYy5ib2R5Lm9mZnNldEhlaWdodCkKICAgICAgcmV0dXJuIGRvYy5ib2R5Lm9mZnNldEhlaWdodDsgIC8vIG5zL2dlY2tvIHN5bnRheAoKICAgIGlmIChkb2MgJiYgZG9jLmJvZHkgJiYgZG9jLmJvZHkuc2Nyb2xsSGVpZ2h0KQogICAgICByZXR1cm4gZG9jLmJvZHkuc2Nyb2xsSGVpZ2h0OwoKICAgIGFsZXJ0KCJjb3VsZG4ndCBkZXRlcm1pbmUgZG9jdW1lbnQgaGVpZ2h0Iik7CiAgfSwKCiAgZ2V0X3dpbmRvd19oZWlnaHQ6IGZ1bmN0aW9uICgpIHsKICAgIGlmICggdHlwZW9mKCB3aW5kb3cuaW5uZXJIZWlnaHQgKSA9PSAnbnVtYmVyJyApCiAgICAgIHJldHVybiB3aW5kb3cuaW5uZXJIZWlnaHQ7ICAvLyBOb24gSUUgYnJvd3NlcgoKICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCkKICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7ICAvLyBJRTYKCiAgICBpZiAoZG9jdW1lbnQuYm9keSAmJiBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCkKICAgICAgcmV0dXJuIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0OyAvLyBJRTQKICB9LAoKICBkb2N1bWVudF9oZWlnaHQ6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBzaCwgb2g7CgogICAgc2ggPSBkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodDsKICAgIG9oID0gZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQ7CgogICAgaWYgKHNoICYmIG9oKQogICAgewogICAgICByZXR1cm4gKHNoID4gb2ggPyBzaCA6IG9oKTsKICAgIH0KCiAgICAvLyBubyBpZGVhIQogICAgcmV0dXJuIDA7CiAgfSwKCiAgc21hbGxlcjogZnVuY3Rpb24gKCkgewogICAgaWYgKHczY19zbGlkeS5zaXplX2luZGV4ID4gMCkKICAgIHsKICAgICAgLS13M2Nfc2xpZHkuc2l6ZV9pbmRleDsKICAgIH0KCiAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5mb250U2l6ZSA9IHczY19zbGlkeS5zaXplc1t3M2Nfc2xpZHkuc2l6ZV9pbmRleF07CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7dzNjX3NsaWR5LnNob3dfdG9vbGJhcigpOyB9LCA1MCk7CiAgfSwKCiAgYmlnZ2VyOiBmdW5jdGlvbiAoKSB7CiAgICBpZiAodzNjX3NsaWR5LnNpemVfaW5kZXggPCB3M2Nfc2xpZHkuc2l6ZXMubGVuZ3RoIC0gMSkKICAgIHsKICAgICAgKyt3M2Nfc2xpZHkuc2l6ZV9pbmRleDsKICAgIH0KCiAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5mb250U2l6ZSA9IHczY19zbGlkeS5zaXplc1t3M2Nfc2xpZHkuc2l6ZV9pbmRleF07CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7dzNjX3NsaWR5LnNob3dfdG9vbGJhcigpOyB9LCA1MCk7CiAgfSwKCiAgLy8gZW5hYmxlcyBjcm9zcyBicm93c2VyIHVzZSBvZiByZWxhdGl2ZSB3aWR0aC9oZWlnaHQKICAvLyBvbiBvYmplY3QgZWxlbWVudHMgZm9yIHVzZSB3aXRoIFNWRyBhbmQgRmxhc2ggbWVkaWEKICAvLyB3aXRoIHRoYW5rcyB0byBJdmFuIEhlcm1hbiBmb3IgdGhlIHN1Z2dlc3Rpb24KICBhZGp1c3Rfb2JqZWN0X2RpbWVuc2lvbnM6IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7CiAgICBmb3IoIHZhciBpID0gMDsgaSA8IHczY19zbGlkeS5vYmplY3RzLmxlbmd0aDsgaSsrICkKICAgIHsKICAgICAgdmFyIG9iaiA9IHRoaXMub2JqZWN0c1tpXTsKICAgICAgdmFyIG1pbWVUeXBlID0gb2JqLmdldEF0dHJpYnV0ZSgidHlwZSIpOwoKICAgICAgaWYgKG1pbWVUeXBlID09ICJpbWFnZS9zdmcreG1sIiB8fCBtaW1lVHlwZSA9PSAiYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2giKQogICAgICB7CiAgICAgICAgaWYgKCAhb2JqLmluaXRpYWxXaWR0aCApIAogICAgICAgICAgb2JqLmluaXRpYWxXaWR0aCA9IG9iai5nZXRBdHRyaWJ1dGUoIndpZHRoIik7CgogICAgICAgIGlmICggIW9iai5pbml0aWFsSGVpZ2h0ICkgCiAgICAgICAgICBvYmouaW5pdGlhbEhlaWdodCA9IG9iai5nZXRBdHRyaWJ1dGUoImhlaWdodCIpOwoKICAgICAgICBpZiAoIG9iai5pbml0aWFsV2lkdGggJiYgb2JqLmluaXRpYWxXaWR0aC5jaGFyQXQob2JqLmluaXRpYWxXaWR0aC5sZW5ndGgtMSkgPT0gIiUiICkKICAgICAgICB7CiAgICAgICAgICB2YXIgdyA9IHBhcnNlSW50KG9iai5pbml0aWFsV2lkdGguc2xpY2UoMCwgb2JqLmluaXRpYWxXaWR0aC5sZW5ndGgtMSkpOwogICAgICAgICAgdmFyIG5ld1cgPSB3aWR0aCAqICh3LzEwMC4wKTsKICAgICAgICAgIG9iai5zZXRBdHRyaWJ1dGUoIndpZHRoIixuZXdXKTsKICAgICAgICB9CgogICAgICAgIGlmICggb2JqLmluaXRpYWxIZWlnaHQgJiYKICAgICAgICAgICAgIG9iai5pbml0aWFsSGVpZ2h0LmNoYXJBdChvYmouaW5pdGlhbEhlaWdodC5sZW5ndGgtMSkgPT0gIiUiICkKICAgICAgICB7CiAgICAgICAgICB2YXIgaCA9IHBhcnNlSW50KG9iai5pbml0aWFsSGVpZ2h0LnNsaWNlKDAsIG9iai5pbml0aWFsSGVpZ2h0Lmxlbmd0aC0xKSk7CiAgICAgICAgICB2YXIgbmV3SCA9IGhlaWdodCAqIChoLzEwMC4wKTsKICAgICAgICAgIG9iai5zZXRBdHRyaWJ1dGUoImhlaWdodCIsIG5ld0gpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCgogIC8vIG5lZWRlZCBmb3IgT3BlcmEgdG8gaW5oaWJpdCBkZWZhdWx0IGJlaGF2aW9yCiAgLy8gc2luY2UgT3BlcmEgZGVsaXZlcnMga2V5UHJlc3MgZXZlbiBpZiBrZXlEb3duCiAgLy8gd2FzIGNhbmNlbGxlZAogIGtleV9wcmVzczogZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoIWV2ZW50KQogICAgICBldmVudCA9IHdpbmRvdy5ldmVudDsKCiAgICBpZiAoIXczY19zbGlkeS5rZXlfd2FudGVkKQogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CgogICAgcmV0dXJuIHRydWU7CiAgfSwKCiAgLy8gIFNlZSBlLmcuIGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvanMvZXZlbnRzL2tleXMuaHRtbCBmb3Iga2V5Y29kZXMKICBrZXlfZG93bjogZnVuY3Rpb24gKGV2ZW50KSB7CiAgICB2YXIga2V5LCB0YXJnZXQsIHRhZzsKCiAgICB3M2Nfc2xpZHkua2V5X3dhbnRlZCA9IHRydWU7CgogICAgaWYgKCFldmVudCkKICAgICAgZXZlbnQgPSB3aW5kb3cuZXZlbnQ7CgogICAgLy8ga2x1ZGdlIGFyb3VuZCBOUy9JRSBkaWZmZXJlbmNlcyAKICAgIGlmICh3aW5kb3cuZXZlbnQpCiAgICB7CiAgICAgIGtleSA9IHdpbmRvdy5ldmVudC5rZXlDb2RlOwogICAgICB0YXJnZXQgPSB3aW5kb3cuZXZlbnQuc3JjRWxlbWVudDsKICAgIH0KICAgIGVsc2UgaWYgKGV2ZW50LndoaWNoKQogICAgewogICAgICBrZXkgPSBldmVudC53aGljaDsKICAgICAgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0OwogICAgfQogICAgZWxzZQogICAgICByZXR1cm4gdHJ1ZTsgLy8gWWlrZXMhIHVua25vd24gYnJvd3NlcgoKICAgIC8vIGlnbm9yZSBldmVudCBpZiBrZXkgdmFsdWUgaXMgemVybwogICAgLy8gYXMgZm9yIGFsdCBvbiBPcGVyYSBhbmQgS29ucXVlcm9yCiAgICBpZiAoIWtleSkKICAgICAgIHJldHVybiB0cnVlOwoKICAgIC8vIGF2b2lkIGludGVyZmVyaW5nIHdpdGgga2V5c3Ryb2tlCiAgICAvLyBiZWhhdmlvciBmb3Igbm9uLXNsaWR5IGNocm9tZSBlbGVtZW50cwogICAgaWYgKCF3M2Nfc2xpZHkuc2xpZHlfY2hyb21lKHRhcmdldCkgJiYKICAgICAgICB3M2Nfc2xpZHkuc3BlY2lhbF9lbGVtZW50KHRhcmdldCkpCiAgICAgIHJldHVybiB0cnVlOwoKICAgIC8vIGNoZWNrIGZvciBjb25jdXJyZW50IGNvbnRyb2wvY29tbWFuZC9hbHQga2V5CiAgICAvLyBidXQgYXJlIHRoZXNlIG9ubHkgcHJlc2VudCBvbiBtb3VzZSBldmVudHM/CgogICAgaWYgKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQuYWx0S2V5IHx8IGV2ZW50Lm1ldGFLZXkpCiAgICAgICByZXR1cm4gdHJ1ZTsKCiAgICAvLyBkaXNtaXNzIHRhYmxlIG9mIGNvbnRlbnRzIGlmIHZpc2libGUKICAgIGlmICh3M2Nfc2xpZHkuaXNfc2hvd25fdG9jKCkgJiYga2V5ICE9IDkgJiYga2V5ICE9IDE2ICYmIGtleSAhPSAzOCAmJiBrZXkgIT0gNDApCiAgICB7CiAgICAgIHczY19zbGlkeS5oaWRlX3RhYmxlX29mX2NvbnRlbnRzKHRydWUpOwoKICAgICAgaWYgKGtleSA9PSAyNyB8fCBrZXkgPT0gODQgfHwga2V5ID09IDY3KQogICAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KCiAgICBpZiAoa2V5ID09IDM0KSAvLyBQYWdlIERvd24KICAgIHsKICAgICAgaWYgKHczY19zbGlkeS52aWV3X2FsbCkKICAgICAgICByZXR1cm4gdHJ1ZTsKCiAgICAgIHczY19zbGlkeS5uZXh0X3NsaWRlKGZhbHNlKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDMzKSAvLyBQYWdlIFVwCiAgICB7CiAgICAgIGlmICh3M2Nfc2xpZHkudmlld19hbGwpCiAgICAgICAgcmV0dXJuIHRydWU7CgogICAgICB3M2Nfc2xpZHkucHJldmlvdXNfc2xpZGUoZmFsc2UpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMzIpIC8vIHNwYWNlIGJhcgogICAgewogICAgICB3M2Nfc2xpZHkubmV4dF9zbGlkZSh0cnVlKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDM3KSAvLyBMZWZ0IGFycm93CiAgICB7CiAgICAgIHczY19zbGlkeS5wcmV2aW91c19zbGlkZSghZXZlbnQuc2hpZnRLZXkpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMzYpIC8vIEhvbWUKICAgIHsKICAgICAgdzNjX3NsaWR5LmZpcnN0X3NsaWRlKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSAzNSkgLy8gRW5kCiAgICB7CiAgICAgIHczY19zbGlkeS5sYXN0X3NsaWRlKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSAzOSkgLy8gUmlnaHQgYXJyb3cKICAgIHsKICAgICAgdzNjX3NsaWR5Lm5leHRfc2xpZGUoIWV2ZW50LnNoaWZ0S2V5KTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDEzKSAvLyBFbnRlcgogICAgewogICAgICBpZiAodzNjX3NsaWR5Lm91dGxpbmUpCiAgICAgIHsKICAgICAgICBpZiAodzNjX3NsaWR5Lm91dGxpbmUudmlzaWJsZSkKICAgICAgICAgIHczY19zbGlkeS5mb2xkKHczY19zbGlkeS5vdXRsaW5lKTsKICAgICAgICBlbHNlCiAgICAgICAgICB3M2Nfc2xpZHkudW5mb2xkKHczY19zbGlkeS5vdXRsaW5lKTsKICAgICAgICAgIAogICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgICB9CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMTg4KSAgLy8gPCBmb3Igc21hbGxlciBmb250cwogICAgewogICAgICB3M2Nfc2xpZHkuc21hbGxlcigpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMTkwKSAgLy8gPiBmb3IgbGFyZ2VyIGZvbnRzCiAgICB7CiAgICAgIHczY19zbGlkeS5iaWdnZXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDE4OSB8fCBrZXkgPT0gMTA5KSAgLy8gLSBmb3Igc21hbGxlciBmb250cwogICAgewogICAgICB3M2Nfc2xpZHkuc21hbGxlcigpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMTg3IHx8IGtleSA9PSAxOTEgfHwga2V5ID09IDEwNykgIC8vID0gKyAgZm9yIGxhcmdlciBmb250cwogICAgewogICAgICB3M2Nfc2xpZHkuYmlnZ2VyKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA4MykgIC8vIFMgZm9yIHNtYWxsZXIgZm9udHMKICAgIHsKICAgICAgdzNjX3NsaWR5LnNtYWxsZXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDY2KSAgLy8gQiBmb3IgbGFyZ2VyIGZvbnRzCiAgICB7CiAgICAgIHczY19zbGlkeS5iaWdnZXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDkwKSAgLy8gWiBmb3IgbGFzdCBzbGlkZQogICAgewogICAgICB3M2Nfc2xpZHkubGFzdF9zbGlkZSgpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gNzApICAvLyBGIGZvciB0b2dnbGUgdG9vbGJhcgogICAgewogICAgICB3M2Nfc2xpZHkudG9nZ2xlX3Rvb2xiYXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDY1KSAgLy8gQSBmb3IgdG9nZ2xlIHZpZXcgc2luZ2xlL2FsbCBzbGlkZXMKICAgIHsKICAgICAgdzNjX3NsaWR5LnRvZ2dsZV92aWV3KCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA3NSkgIC8vIHRvZ2dsZSBhY3Rpb24gb2YgbGVmdCBjbGljayBmb3IgbmV4dCBwYWdlCiAgICB7CiAgICAgIHczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkID0gIXczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkOwogICAgICB2YXIgYWxlcnRfbXNnID0gKHczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkID8KICAgICAgICAgICAgICAgICJlbmFibGVkIiA6ICJkaXNhYmxlZCIpICsgICIgbW91c2UgY2xpY2sgYWR2YW5jZSI7CgogICAgICBhbGVydCh3M2Nfc2xpZHkubG9jYWxpemUoYWxlcnRfbXNnKSk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA4NCB8fCBrZXkgPT0gNjcpICAvLyBUIG9yIEMgZm9yIHRhYmxlIG9mIGNvbnRlbnRzCiAgICB7CiAgICAgIGlmICh3M2Nfc2xpZHkudG9jKQogICAgICAgIHczY19zbGlkeS50b2dnbGVfdGFibGVfb2ZfY29udGVudHMoKTsKCiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA3MikgLy8gSCBmb3IgaGVscAogICAgewogICAgICB3aW5kb3cubG9jYXRpb24gPSB3M2Nfc2xpZHkuaGVscF9wYWdlOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICAvL2Vsc2UgYWxlcnQoImtleSBjb2RlIGlzICIrIGtleSk7CgogICAgcmV0dXJuIHRydWU7CiAgfSwKCiAgLy8gc2FmZSBmb3IgYm90aCB0ZXh0L2h0bWwgYW5kIGFwcGxpY2F0aW9uL3hodG1sK3htbAogIGNyZWF0ZV9lbGVtZW50OiBmdW5jdGlvbiAobmFtZSkgewogICAgaWYgKHRoaXMueGh0bWwgJiYgKHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMgIT0gJ3VuZGVmaW5lZCcpKQogICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiwgbmFtZSkKCiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lKTsKICB9LAoKICBnZXRfZWxlbWVudF9zdHlsZTogZnVuY3Rpb24gKGVsZW0sIElFU3R5bGVQcm9wLCBDU1NTdHlsZVByb3ApIHsKICAgIGlmIChlbGVtLmN1cnJlbnRTdHlsZSkKICAgIHsKICAgICAgcmV0dXJuIGVsZW0uY3VycmVudFN0eWxlW0lFU3R5bGVQcm9wXTsKICAgIH0KICAgIGVsc2UgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKQogICAgewogICAgICB2YXIgY29tcFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbSwgIiIpOwogICAgICByZXR1cm4gY29tcFN0eWxlLmdldFByb3BlcnR5VmFsdWUoQ1NTU3R5bGVQcm9wKTsKICAgIH0KICAgIHJldHVybiAiIjsKICB9LAoKICAvLyB0aGUgc3RyaW5nIHN0ciBpcyBhIHdoaXRlc3BhY2Ugc2VwYXJhdGVkIGxpc3Qgb2YgdG9rZW5zCiAgLy8gdGVzdCBpZiBzdHIgY29udGFpbnMgYSBwYXJ0aWN1bGFyIHRva2VuLCBlLmcuICJzbGlkZSIKICBoYXNfdG9rZW46IGZ1bmN0aW9uIChzdHIsIHRva2VuKSB7CiAgICBpZiAoc3RyKQogICAgewogICAgICAvLyBkZWZpbmUgcGF0dGVybiBhcyByZWd1bGFyIGV4cHJlc3Npb24KICAgICAgdmFyIHBhdHRlcm4gPSAvXHcrL2c7CgogICAgICAvLyBjaGVjayBmb3IgbWF0Y2hlcwogICAgICAvLyBwbGFjZSByZXN1bHQgaW4gYXJyYXkKICAgICAgdmFyIHJlc3VsdCA9IHN0ci5tYXRjaChwYXR0ZXJuKTsKCiAgICAgIC8vIG5vdyBjaGVjayBpZiBkZXNpcmVkIHRva2VuIGlzIHByZXNlbnQKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspCiAgICAgIHsKICAgICAgICBpZiAocmVzdWx0W2ldID09IHRva2VuKQogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZmFsc2U7CiAgfSwKCiAgZ2V0X2NsYXNzX2xpc3Q6IGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICBpZiAodHlwZW9mIGVsZW1lbnQuY2xhc3NOYW1lICE9ICd1bmRlZmluZWQnKQogICAgICByZXR1cm4gZWxlbWVudC5jbGFzc05hbWU7CgogICAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCJjbGFzcyIpOwogIH0sCgogIGhhc19jbGFzczogZnVuY3Rpb24gKGVsZW1lbnQsIG5hbWUpIHsKICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlICE9IDEpCiAgICAgIHJldHVybiBmYWxzZTsKCiAgICB2YXIgcmVnZXhwID0gbmV3IFJlZ0V4cCgiKF58ICkiICsgbmFtZSArICJcVyoiKTsKCiAgICBpZiAodHlwZW9mIGVsZW1lbnQuY2xhc3NOYW1lICE9ICd1bmRlZmluZWQnKQogICAgICByZXR1cm4gcmVnZXhwLnRlc3QoZWxlbWVudC5jbGFzc05hbWUpOwoKICAgIHJldHVybiByZWdleHAudGVzdChlbGVtZW50LmdldEF0dHJpYnV0ZSgiY2xhc3MiKSk7CiAgfSwKCiAgcmVtb3ZlX2NsYXNzOiBmdW5jdGlvbiAoZWxlbWVudCwgbmFtZSkgewogICAgdmFyIHJlZ2V4cCA9IG5ldyBSZWdFeHAoIihefCApIiArIG5hbWUgKyAiXFcqIik7CiAgICB2YXIgY2xzdmFsID0gIiI7CgogICAgaWYgKHR5cGVvZiBlbGVtZW50LmNsYXNzTmFtZSAhPSAndW5kZWZpbmVkJykKICAgIHsKICAgICAgY2xzdmFsID0gZWxlbWVudC5jbGFzc05hbWU7CgogICAgICBpZiAoY2xzdmFsKQogICAgICB7CiAgICAgICAgY2xzdmFsID0gY2xzdmFsLnJlcGxhY2UocmVnZXhwLCAiIik7CiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBjbHN2YWw7CiAgICAgIH0KICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgY2xzdmFsID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoImNsYXNzIik7CgogICAgICBpZiAoY2xzdmFsKQogICAgICB7CiAgICAgICAgY2xzdmFsID0gY2xzdmFsLnJlcGxhY2UocmVnZXhwLCAiIik7CiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgY2xzdmFsKTsKICAgICAgfQogICAgfQogIH0sCgogIGFkZF9jbGFzczogZnVuY3Rpb24gKGVsZW1lbnQsIG5hbWUpIHsKICAgIGlmICghdGhpcy5oYXNfY2xhc3MoZWxlbWVudCwgbmFtZSkpCiAgICB7CiAgICAgIGlmICh0eXBlb2YgZWxlbWVudC5jbGFzc05hbWUgIT0gJ3VuZGVmaW5lZCcpCiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgKz0gIiAiICsgbmFtZTsKICAgICAgZWxzZQogICAgICB7CiAgICAgICAgdmFyIGNsc3ZhbCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCJjbGFzcyIpOwogICAgICAgIGNsc3ZhbCA9IGNsc3ZhbCA/IGNsc3ZhbCArICIgIiArIG5hbWUgOiBuYW1lOwogICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCJjbGFzcyIsIGNsc3ZhbCk7CiAgICAgIH0KICAgIH0KICB9LAoKICAvLyBIVE1MIGVsZW1lbnRzIHRoYXQgY2FuIGJlIHVzZWQgd2l0aCBjbGFzcz0iaW5jcmVtZW50YWwiCiAgLy8gbm90ZSB0aGF0IHlvdSBjYW4gYWxzbyBwdXQgdGhlIGNsYXNzIG9uIGNvbnRhaW5lcnMgbGlrZQogIC8vIHVwLCBvbCwgZGwsIGFuZCBkaXYgdG8gbWFrZSB0aGVpciBjb250ZW50cyBhcHBlYXIKICAvLyBpbmNyZW1lbnRhbGx5LiBVcHBlciBjYXNlIGlzIHVzZWQgc2luY2UgdGhpcyBpcyB3aGF0CiAgLy8gYnJvd3NlcnMgcmVwb3J0IGZvciBIVE1MIG5vZGUgbmFtZXMgKHRleHQvaHRtbCkuCiAgaW5jcmVtZW50YWxfZWxlbWVudHM6IG51bGwsCiAgb2theV9mb3JfaW5jcmVtZW50YWw6IGZ1bmN0aW9uIChuYW1lKSB7CiAgICBpZiAoIXRoaXMuaW5jcmVtZW50YWxfZWxlbWVudHMpCiAgICB7CiAgICAgIHZhciBpbmNsaXN0ID0gbmV3IEFycmF5KCk7CiAgICAgIGluY2xpc3RbInAiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbInByZSJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsibGkiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImJsb2NrcXVvdGUiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImR0Il0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJkZCJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsiaDIiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImgzIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJoNCJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsiaDUiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImg2Il0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJzcGFuIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJhZGRyZXNzIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJ0YWJsZSJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsidHIiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbInRoIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJ0ZCJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsiaW1nIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJvYmplY3QiXSA9IHRydWU7CiAgICAgIHRoaXMuaW5jcmVtZW50YWxfZWxlbWVudHMgPSBpbmNsaXN0OwogICAgfQogICAgcmV0dXJuIHRoaXMuaW5jcmVtZW50YWxfZWxlbWVudHNbbmFtZS50b0xvd2VyQ2FzZSgpXTsKICB9LAoKICBuZXh0X2luY3JlbWVudGFsX2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICB2YXIgYnIgPSB0aGlzLmlzX3hodG1sID8gImJyIiA6ICJCUiI7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwoKICAgIGZvciAoOzspCiAgICB7CiAgICAgIG5vZGUgPSB3M2Nfc2xpZHkubmV4dF9ub2RlKHNsaWRlLCBub2RlKTsKCiAgICAgIGlmIChub2RlID09IG51bGwgfHwgbm9kZS5wYXJlbnROb2RlID09IG51bGwpCiAgICAgICAgYnJlYWs7CgogICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSAgLy8gRUxFTUVOVAogICAgICB7CiAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gYnIpCiAgICAgICAgICBjb250aW51ZTsKCiAgICAgICAgaWYgKHczY19zbGlkeS5oYXNfY2xhc3Mobm9kZSwgImluY3JlbWVudGFsIikKICAgICAgICAgICAgICYmIHczY19zbGlkeS5va2F5X2Zvcl9pbmNyZW1lbnRhbChub2RlLm5vZGVOYW1lKSkKICAgICAgICAgIHJldHVybiBub2RlOwoKICAgICAgICBpZiAodzNjX3NsaWR5Lmhhc19jbGFzcyhub2RlLnBhcmVudE5vZGUsICJpbmNyZW1lbnRhbCIpCiAgICAgICAgICAgICAmJiAhdzNjX3NsaWR5Lmhhc19jbGFzcyhub2RlLCAibm9uLWluY3JlbWVudGFsIikpCiAgICAgICAgICByZXR1cm4gbm9kZTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBub2RlOwogIH0sCgogIHByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICB2YXIgYnIgPSB0aGlzLmlzX3hodG1sID8gImJyIiA6ICJCUiI7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwoKICAgIGZvciAoOzspCiAgICB7CiAgICAgIG5vZGUgPSB3M2Nfc2xpZHkucHJldmlvdXNfbm9kZShzbGlkZSwgbm9kZSk7CgogICAgICBpZiAobm9kZSA9PSBudWxsIHx8IG5vZGUucGFyZW50Tm9kZSA9PSBudWxsKQogICAgICAgIGJyZWFrOwoKICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSkKICAgICAgewogICAgICAgIGlmIChub2RlLm5vZGVOYW1lID09IGJyKQogICAgICAgICAgY29udGludWU7CgogICAgICAgIGlmICh3M2Nfc2xpZHkuaGFzX2NsYXNzKG5vZGUsICJpbmNyZW1lbnRhbCIpCiAgICAgICAgICAgICAmJiB3M2Nfc2xpZHkub2theV9mb3JfaW5jcmVtZW50YWwobm9kZS5ub2RlTmFtZSkpCiAgICAgICAgICByZXR1cm4gbm9kZTsKCiAgICAgICAgaWYgKHczY19zbGlkeS5oYXNfY2xhc3Mobm9kZS5wYXJlbnROb2RlLCAiaW5jcmVtZW50YWwiKQogICAgICAgICAgICAgJiYgIXczY19zbGlkeS5oYXNfY2xhc3Mobm9kZSwgIm5vbi1pbmNyZW1lbnRhbCIpKQogICAgICAgICAgcmV0dXJuIG5vZGU7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbm9kZTsKICB9LAoKICAvLyBzZXQgdmlzaWJpbGl0eSBmb3IgYWxsIGVsZW1lbnRzIG9uIGN1cnJlbnQgc2xpZGUgd2l0aAogIC8vIGEgcGFyZW50IGVsZW1lbnQgd2l0aCBhdHRyaWJ1dGUgY2xhc3M9ImluY3JlbWVudGFsIgogIHNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbDogZnVuY3Rpb24gKHZhbHVlKSB7CiAgICB2YXIgbm9kZSA9IHRoaXMubmV4dF9pbmNyZW1lbnRhbF9pdGVtKG51bGwpOwoKICAgIGlmICh2YWx1ZSA9PSAiaGlkZGVuIikKICAgIHsKICAgICAgd2hpbGUgKG5vZGUpCiAgICAgIHsKICAgICAgICB3M2Nfc2xpZHkuYWRkX2NsYXNzKG5vZGUsICJpbnZpc2libGUiKTsKICAgICAgICBub2RlID0gdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbShub2RlKTsKICAgICAgfQogICAgfQogICAgZWxzZSAvLyB2YWx1ZSA9PSAidmlzaWJsZSIKICAgIHsKICAgICAgd2hpbGUgKG5vZGUpCiAgICAgIHsKICAgICAgICB3M2Nfc2xpZHkucmVtb3ZlX2NsYXNzKG5vZGUsICJpbnZpc2libGUiKTsKICAgICAgICBub2RlID0gdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbShub2RlKTsKICAgICAgfQogICAgfQogIH0sCgogIC8vIHJldmVhbCB0aGUgbmV4dCBoaWRkZW4gaXRlbSBvbiB0aGUgc2xpZGUKICAvLyBub2RlIGlzIG51bGwgb3IgdGhlIG5vZGUgdGhhdCB3YXMgbGFzdCByZXZlYWxlZAogIHJldmVhbF9uZXh0X2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICBub2RlID0gdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbShub2RlKTsKCiAgICBpZiAobm9kZSAmJiBub2RlLm5vZGVUeXBlID09IDEpICAvLyBhbiBlbGVtZW50CiAgICAgIHczY19zbGlkeS5yZW1vdmVfY2xhc3Mobm9kZSwgImludmlzaWJsZSIpOwoKICAgIHJldHVybiBub2RlOwogIH0sCgogIC8vIGV4YWN0IGludmVyc2Ugb2YgcmV2ZWFsTmV4dEl0ZW0obm9kZSkKICBoaWRlX3ByZXZpb3VzX2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICBpZiAobm9kZSAmJiBub2RlLm5vZGVUeXBlID09IDEpICAvLyBhbiBlbGVtZW50CiAgICAgIHczY19zbGlkeS5hZGRfY2xhc3Mobm9kZSwgImludmlzaWJsZSIpOwoKICAgIHJldHVybiB0aGlzLnByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW0obm9kZSk7CiAgfSwKCiAgLy8gbGVmdCB0byByaWdodCB0cmF2ZXJzYWwgb2Ygcm9vdCdzIGNvbnRlbnQKICBuZXh0X25vZGU6IGZ1bmN0aW9uIChyb290LCBub2RlKSB7CiAgICBpZiAobm9kZSA9PSBudWxsKQogICAgICByZXR1cm4gcm9vdC5maXJzdENoaWxkOwoKICAgIGlmIChub2RlLmZpcnN0Q2hpbGQpCiAgICAgIHJldHVybiBub2RlLmZpcnN0Q2hpbGQ7CgogICAgaWYgKG5vZGUubmV4dFNpYmxpbmcpCiAgICAgIHJldHVybiBub2RlLm5leHRTaWJsaW5nOwoKICAgIGZvciAoOzspCiAgICB7CiAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7CgogICAgICBpZiAoIW5vZGUgfHwgbm9kZSA9PSByb290KQogICAgICAgIGJyZWFrOwoKICAgICAgaWYgKG5vZGUgJiYgbm9kZS5uZXh0U2libGluZykKICAgICAgICByZXR1cm4gbm9kZS5uZXh0U2libGluZzsKICAgIH0KCiAgICByZXR1cm4gbnVsbDsKICB9LAoKICAvLyByaWdodCB0byBsZWZ0IHRyYXZlcnNhbCBvZiByb290J3MgY29udGVudAogIHByZXZpb3VzX25vZGU6IGZ1bmN0aW9uIChyb290LCBub2RlKSB7CiAgICBpZiAobm9kZSA9PSBudWxsKQogICAgewogICAgICBub2RlID0gcm9vdC5sYXN0Q2hpbGQ7CgogICAgICBpZiAobm9kZSkKICAgICAgewogICAgICAgIHdoaWxlIChub2RlLmxhc3RDaGlsZCkKICAgICAgICAgIG5vZGUgPSBub2RlLmxhc3RDaGlsZDsKICAgICAgfQoKICAgICAgcmV0dXJuIG5vZGU7CiAgICB9CgogICAgaWYgKG5vZGUucHJldmlvdXNTaWJsaW5nKQogICAgewogICAgICBub2RlID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7CgogICAgICB3aGlsZSAobm9kZS5sYXN0Q2hpbGQpCiAgICAgICAgbm9kZSA9IG5vZGUubGFzdENoaWxkOwoKICAgICAgcmV0dXJuIG5vZGU7CiAgICB9CgogICAgaWYgKG5vZGUucGFyZW50Tm9kZSAhPSByb290KQogICAgICByZXR1cm4gbm9kZS5wYXJlbnROb2RlOwoKICAgIHJldHVybiBudWxsOwogIH0sCgogIHByZXZpb3VzX3NpYmxpbmdfZWxlbWVudDogZnVuY3Rpb24gKGVsKSB7CiAgICBlbCA9IGVsLnByZXZpb3VzU2libGluZzsKCiAgICB3aGlsZSAoZWwgJiYgZWwubm9kZVR5cGUgIT0gMSkKICAgICAgZWwgPSBlbC5wcmV2aW91c1NpYmxpbmc7CgogICAgcmV0dXJuIGVsOwogIH0sCgogIG5leHRfc2libGluZ19lbGVtZW50OiBmdW5jdGlvbiAoZWwpIHsKICAgIGVsID0gZWwubmV4dFNpYmxpbmc7CgogICAgd2hpbGUgKGVsICYmIGVsLm5vZGVUeXBlICE9IDEpCiAgICAgIGVsID0gZWwubmV4dFNpYmxpbmc7CgogICAgcmV0dXJuIGVsOwogIH0sCgogIGZpcnN0X2NoaWxkX2VsZW1lbnQ6IGZ1bmN0aW9uIChlbCkgewogICAgdmFyIG5vZGU7CgogICAgZm9yIChub2RlID0gZWwuZmlyc3RDaGlsZDsgbm9kZTsgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmcpCiAgICB7CiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEpCiAgICAgICAgYnJlYWs7CiAgICB9CgogICAgcmV0dXJuIG5vZGU7CiAgfSwKCiAgZmlyc3RfdGFnOiBmdW5jdGlvbiAoZWxlbWVudCwgdGFnKSB7CiAgICB2YXIgbm9kZTsKCiAgICBpZiAoIXRoaXMuaXNfeGh0bWwpCiAgICAgIHRhZyA9IHRhZy50b1VwcGVyQ2FzZSgpOwoKICAgIGZvciAobm9kZSA9IGVsZW1lbnQuZmlyc3RDaGlsZDsgbm9kZTsgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmcpCiAgICB7CiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEgJiYgbm9kZS5ub2RlTmFtZSA9PSB0YWcpCiAgICAgICAgYnJlYWs7CiAgICB9CgogICAgcmV0dXJuIG5vZGU7CiAgfSwKCiAgaGlkZV9zZWxlY3Rpb246IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSAvLyBGaXJlZm94LCBDaHJvbWl1bSwgU2FmYXJpLCBPcGVyYQogICAgewogICAgICB2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpOwoKICAgICAgaWYgKHNlbGVjdGlvbi5yYW5nZUNvdW50ID4gMCkKICAgICAgewogICAgICAgIHZhciByYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApOwogICAgICAgIHJhbmdlLmNvbGxhcHNlIChmYWxzZSk7CiAgICAgIH0KICAgIH0KICAgIGVsc2UgLy8gSW50ZXJuZXQgRXhwbG9yZXIKICAgIHsKICAgICAgdmFyIHRleHRSYW5nZSA9IGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSAoKTsKICAgICAgdGV4dFJhbmdlLmNvbGxhcHNlIChmYWxzZSk7CiAgICB9CiAgfSwKCiAgZ2V0X3NlbGVjdGVkX3RleHQ6IGZ1bmN0aW9uICgpIHsKICAgIHRyeQogICAgewogICAgICBpZiAod2luZG93LmdldFNlbGVjdGlvbikKICAgICAgICByZXR1cm4gd2luZG93LmdldFNlbGVjdGlvbigpLnRvU3RyaW5nKCk7CgogICAgICBpZiAoZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKQogICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRTZWxlY3Rpb24oKS50b1N0cmluZygpOwoKICAgICAgaWYgKGRvY3VtZW50LnNlbGVjdGlvbikKICAgICAgICByZXR1cm4gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkudGV4dDsKICAgIH0KICAgIGNhdGNoIChlKQogICAgewogICAgfQoKICAgIHJldHVybiAiIjsKICB9LAoKICAvLyBtYWtlIG5vdGUgb2YgbGVuZ3RoIG9mIHNlbGVjdGVkIHRleHQKICAvLyBhcyB0aGlzIGV2YWx1YXRlcyB0byB6ZXJvIGluIGNsaWNrIGV2ZW50CiAgbW91c2VfYnV0dG9uX3VwOiBmdW5jdGlvbiAoZSkgewogICAgdzNjX3NsaWR5LnNlbGVjdGVkX3RleHRfbGVuID0gdzNjX3NsaWR5LmdldF9zZWxlY3RlZF90ZXh0KCkubGVuZ3RoOwogIH0sCgogIG1vdXNlX2J1dHRvbl9kb3duOiBmdW5jdGlvbiAoZSkgewogICAgdzNjX3NsaWR5LnNlbGVjdGVkX3RleHRfbGVuID0gdzNjX3NsaWR5LmdldF9zZWxlY3RlZF90ZXh0KCkubGVuZ3RoOwogICAgdzNjX3NsaWR5Lm1vdXNlX3ggPSBlLmNsaWVudFg7CiAgICB3M2Nfc2xpZHkubW91c2VfeSA9IGUuY2xpZW50WTsKICB9LAoKICAvLyByaWdodCBtb3VzZSBidXR0b24gY2xpY2sgaXMgcmVzZXJ2ZWQgZm9yIGNvbnRleHQgbWVudXMKICAvLyBpdCBpcyBtb3JlIHJlbGlhYmxlIHRvIGRldGVjdCByaWdodGNsaWNrIHRoYW4gbGVmdGNsaWNrCiAgbW91c2VfYnV0dG9uX2NsaWNrOiBmdW5jdGlvbiAoZSkgewogICAgaWYgKCFlKQogICAgICB2YXIgZSA9IHdpbmRvdy5ldmVudDsKCiAgICBpZiAoTWF0aC5hYnMoZS5jbGllbnRYIC13M2Nfc2xpZHkubW91c2VfeCkgKwogICAgICAgIE1hdGguYWJzKGUuY2xpZW50WSAtdzNjX3NsaWR5Lm1vdXNlX3kpID4gMTApCiAgICAgIHJldHVybiB0cnVlOwoKICAgIGlmICh3M2Nfc2xpZHkuc2VsZWN0ZWRfdGV4dF9sZW4gPiAwKQogICAgICByZXR1cm4gdHJ1ZTsKCiAgICB2YXIgcmlnaHRjbGljayA9IGZhbHNlOwogICAgdmFyIGxlZnRjbGljayA9IGZhbHNlOwogICAgdmFyIG1pZGRsZWNsaWNrID0gZmFsc2U7CiAgICB2YXIgdGFyZ2V0OwoKICAgIGlmICghZSkKICAgICAgdmFyIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgaWYgKGUudGFyZ2V0KQogICAgICB0YXJnZXQgPSBlLnRhcmdldDsKICAgIGVsc2UgaWYgKGUuc3JjRWxlbWVudCkKICAgICAgdGFyZ2V0ID0gZS5zcmNFbGVtZW50OwoKICAgIC8vIHdvcmsgYXJvdW5kIFNhZmFyaSBidWcKICAgIGlmICh0YXJnZXQubm9kZVR5cGUgPT0gMykKICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7CgogICAgaWYgKGUud2hpY2gpIC8vIGFsbCBicm93c2VycyBleGNlcHQgSUUKICAgIHsKICAgICAgbGVmdGNsaWNrID0gKGUud2hpY2ggPT0gMSk7CiAgICAgIG1pZGRsZWNsaWNrID0gKGUud2hpY2ggPT0gMik7CiAgICAgIHJpZ2h0Y2xpY2sgPSAoZS53aGljaCA9PSAzKTsKICAgIH0KICAgIGVsc2UgaWYgKGUuYnV0dG9uKQogICAgewogICAgICAvLyBLb25xdWVyb3IgZ2l2ZXMgMSBmb3IgbGVmdCwgNCBmb3IgbWlkZGxlCiAgICAgIC8vIElFNiBnaXZlcyAwIGZvciBsZWZ0IGFuZCBub3QgMSBhcyBJIGV4cGVjdGVkCgogICAgICBpZiAoZS5idXR0b24gPT0gNCkKICAgICAgICBtaWRkbGVjbGljayA9IHRydWU7CgogICAgICAvLyBhbGwgYnJvd3NlcnMgYWdyZWUgb24gMiBmb3IgcmlnaHQgYnV0dG9uCiAgICAgIHJpZ2h0Y2xpY2sgPSAoZS5idXR0b24gPT0gMik7CiAgICB9CiAgICBlbHNlCiAgICAgIGxlZnRjbGljayA9IHRydWU7CgogICAgaWYgKHczY19zbGlkeS5zZWxlY3RlZF90ZXh0X2xlbiA+IDApCiAgICB7CiAgICAgIHczY19zbGlkeS5zdG9wX3Byb3BhZ2F0aW9uKGUpOwogICAgICBlLmNhbmNlbCA9IHRydWU7CiAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8vIGRpc21pc3MgdGFibGUgb2YgY29udGVudHMKICAgIHczY19zbGlkeS5oaWRlX3RhYmxlX29mX2NvbnRlbnRzKGZhbHNlKTsKCiAgICAvLyBjaGVjayBpZiB0YXJnZXQgaXMgc29tZXRoaW5nIHRoYXQgcHJvYmFibHkgd2FudCdzIGNsaWNrcwogICAgLy8gZS5nLiBhLCBlbWJlZCwgb2JqZWN0LCBpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCwgb3B0aW9uCiAgICB2YXIgdGFnID0gdGFyZ2V0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CgogICAgaWYgKHczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkICYmIGxlZnRjbGljayAmJgogICAgICAgICF3M2Nfc2xpZHkuc3BlY2lhbF9lbGVtZW50KHRhcmdldCkgJiYKICAgICAgICAhdGFyZ2V0Lm9uY2xpY2spCiAgICB7CiAgICAgIHczY19zbGlkeS5uZXh0X3NsaWRlKHRydWUpOwogICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihlKTsKICAgICAgZS5jYW5jZWwgPSB0cnVlOwogICAgICBlLnJldHVyblZhbHVlID0gZmFsc2U7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9LAoKICBzcGVjaWFsX2VsZW1lbnQ6IGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICBpZiAodGhpcy5oYXNfY2xhc3MoZWxlbWVudCwgIm5vbi1pbnRlcmFjdGl2ZSIpKQogICAgICByZXR1cm4gZmFsc2U7CgogICAgdmFyIHRhZyA9IGVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKCiAgICByZXR1cm4gZWxlbWVudC5vbmtleWRvd24gfHwKICAgICAgZWxlbWVudC5vbmNsaWNrIHx8CiAgICAgIHRhZyA9PSAiYSIgfHwKICAgICAgdGFnID09ICJlbWJlZCIgfHwKICAgICAgdGFnID09ICJvYmplY3QiIHx8CiAgICAgIHRhZyA9PSAidmlkZW8iIHx8CiAgICAgIHRhZyA9PSAiYXVkaW8iIHx8CiAgICAgIHRhZyA9PSAic3ZnIiB8fAogICAgICB0YWcgPT0gImNhbnZhcyIgfHwKICAgICAgdGFnID09ICJpbnB1dCIgfHwKICAgICAgdGFnID09ICJ0ZXh0YXJlYSIgfHwKICAgICAgdGFnID09ICJzZWxlY3QiIHx8CiAgICAgIHRhZyA9PSAib3B0aW9uIjsKICB9LAoKICBzbGlkeV9jaHJvbWU6IGZ1bmN0aW9uIChlbCkgewogICAgd2hpbGUgKGVsKQogICAgewogICAgICBpZiAoZWwgPT0gdzNjX3NsaWR5LnRvYyB8fAogICAgICAgICAgZWwgPT0gdzNjX3NsaWR5LnRvb2xiYXIgfHwKICAgICAgICAgIHczY19zbGlkeS5oYXNfY2xhc3MoZWwsICJvdXRsaW5lIikpCiAgICAgICAgcmV0dXJuIHRydWU7CgogICAgICBlbCA9IGVsLnBhcmVudE5vZGU7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0sCgogIGdldF9rZXk6IGZ1bmN0aW9uIChlKQogIHsKICAgIHZhciBrZXk7CgogICAgLy8ga2x1ZGdlIGFyb3VuZCBOUy9JRSBkaWZmZXJlbmNlcyAKICAgIGlmICh0eXBlb2Ygd2luZG93LmV2ZW50ICE9ICJ1bmRlZmluZWQiKQogICAgICBrZXkgPSB3aW5kb3cuZXZlbnQua2V5Q29kZTsKICAgIGVsc2UgaWYgKGUud2hpY2gpCiAgICAgIGtleSA9IGUud2hpY2g7CgogICAgcmV0dXJuIGtleTsKICB9LAoKICBnZXRfdGFyZ2V0OiBmdW5jdGlvbiAoZSkgewogICAgdmFyIHRhcmdldDsKCiAgICBpZiAoIWUpCiAgICAgIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgaWYgKGUudGFyZ2V0KQogICAgICB0YXJnZXQgPSBlLnRhcmdldDsKICAgIGVsc2UgaWYgKGUuc3JjRWxlbWVudCkKICAgICAgdGFyZ2V0ID0gZS5zcmNFbGVtZW50OwoKICAgIGlmICh0YXJnZXQubm9kZVR5cGUgIT0gMSkKICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7CgogICAgcmV0dXJuIHRhcmdldDsKICB9LAoKICAvLyBkb2VzIGRpc3BsYXkgcHJvcGVydHkgcHJvdmlkZSBjb3JyZWN0IGRlZmF1bHRzPwogIGlzX2Jsb2NrOiBmdW5jdGlvbiAoZWxlbSkgewogICAgdmFyIHRhZyA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKCiAgICByZXR1cm4gdGFnID09ICJvbCIgfHwgdGFnID09ICJ1bCIgfHwgdGFnID09ICJwIiB8fCB0YWcgPT0gImRsIiB8fAogICAgICAgICAgIHRhZyA9PSAibGkiIHx8IHRhZyA9PSAidGFibGUiIHx8IHRhZyA9PSAicHJlIiB8fAogICAgICAgICAgIHRhZyA9PSAiaDEiIHx8IHRhZyA9PSAiaDIiIHx8IHRhZyA9PSAiaDMiIHx8CiAgICAgICAgICAgdGFnID09ICJoNCIgfHwgdGFnID09ICJoNSIgfHwgdGFnID09ICJoNiIgfHwKICAgICAgICAgICB0YWcgPT0gImJsb2NrcXVvdGUiIHx8IHRhZyA9PSAiYWRkcmVzcyI7IAogIH0sCgogIGFkZF9saXN0ZW5lcjogZnVuY3Rpb24gKGVsZW1lbnQsIGV2ZW50LCBoYW5kbGVyKSB7CiAgICBpZiAod2luZG93LmFkZEV2ZW50TGlzdGVuZXIpCiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgZmFsc2UpOwogICAgZWxzZQogICAgICBlbGVtZW50LmF0dGFjaEV2ZW50KCJvbiIrZXZlbnQsIGhhbmRsZXIpOwogIH0sCgogIC8vIHVzZWQgdG8gcHJldmVudCBldmVudCBwcm9wYWdhdGlvbiBmcm9tIGZpZWxkIGNvbnRyb2xzCiAgc3RvcF9wcm9wYWdhdGlvbjogZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBldmVudCA9IGV2ZW50ID8gZXZlbnQgOiB3aW5kb3cuZXZlbnQ7CiAgICBldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlOyAgLy8gZm9yIElFCgogICAgaWYgKGV2ZW50LnN0b3BQcm9wYWdhdGlvbikKICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CgogICAgcmV0dXJuIHRydWU7CiAgfSwKCiAgY2FuY2VsOiBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIGlmIChldmVudCkKICAgIHsKICAgICAgIGV2ZW50LmNhbmNlbCA9IHRydWU7CiAgICAgICBldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlOwoKICAgICAgaWYgKGV2ZW50LnByZXZlbnREZWZhdWx0KQogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICB9CgogICAgdzNjX3NsaWR5LmtleV93YW50ZWQgPSBmYWxzZTsKICAgIHJldHVybiBmYWxzZTsKICB9LAoKLy8gZm9yIGVhY2ggbGFuZ3VhZ2UgZGVmaW5lIGFuIGFzc29jaWF0aXZlIGFycmF5Ci8vIGFuZCBhbHNvIHRoZSBoZWxwIHRleHQgd2hpY2ggaXMgbG9uZ2VyCgogIHN0cmluZ3NfZXM6IHsKICAgICJzbGlkZSI6InDDoWcuIiwKICAgICJoZWxwPyI6IkF5dWRhIiwKICAgICJjb250ZW50cz8iOiLDjW5kaWNlIiwKICAgICJ0YWJsZSBvZiBjb250ZW50cyI6InRhYmxhIGRlIGNvbnRlbmlkb3MiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoiVGFibGEgZGUgQ29udGVuaWRvcyIsCiAgICAicmVzdGFydCBwcmVzZW50YXRpb24iOiJSZWluaWNpYXIgcHJlc2VudGFjacOzbiIsCiAgICAicmVzdGFydD8iOiJJbmljaW8iCiAgfSwKICBoZWxwX2VzOgogICAgIlV0aWxpY2UgZWwgcmF0w7NuLCBiYXJyYSBlc3BhY2lhZG9yYSwgdGVjbGFzIEl6ZGEvRGNoYSwgIiArCiAgICAibyBSZSBww6FnIHkgQXYgcMOhZy4gVXNlIFMgeSBCIHBhcmEgY2FtYmlhciBlbCB0YW1hw7FvIGRlIGZ1ZW50ZS4iLAoKICBzdHJpbmdzX2NhOiB7CiAgICAic2xpZGUiOiJww6BnLi4iLAogICAgImhlbHA/IjoiQWp1ZGEiLAogICAgImNvbnRlbnRzPyI6IsONbmRleCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJ0YXVsYSBkZSBjb250aW5ndXRzIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IlRhdWxhIGRlIENvbnRpbmd1dHMiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiUmVpbmljaWFyIHByZXNlbnRhY2nDsyIsCiAgICAicmVzdGFydD8iOiJJbmljaSIKICB9LAogIGhlbHBfY2E6CiAgICAiVXRpbGl0emkgZWwgcmF0b2zDrSwgYmFycmEgZXNwYWlhZG9yYSwgdGVjbGVzIEVzcS4vRHRhLiAiICsKICAgICJvIFJlIHDDoGcgeSBBdiBww6BnLiBVc2kgUyBpIEIgcGVyIGNhbnZpYXIgZ3JhbmTDoHJpYSBkZSBmb250LiIsCgogIHN0cmluZ3NfY3M6IHsKICAgICJzbGlkZSI6InNuw61tZWsiLAogICAgImhlbHA/IjoibsOhcG92xJtkYSIsCiAgICAiY29udGVudHM/Ijoib2JzYWgiLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoib2JzYWggcHJlemVudGFjZSIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiJPYnNhaCBwcmV6ZW50YWNlIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6Inpub3Z1IHNwdXN0aXQgcHJlemVudGFjaSIsCiAgICAicmVzdGFydD8iOiJyZXN0YXJ0IgogIH0sCiAgaGVscF9jczoKICAgICJQcmV6ZW50YWNpIG3Fr8W+ZXRlIHByb2Now6F6ZXQgcG9tb2PDrSBrbGlrbnV0w60gbXnFoWksIG1lemVybsOta3UsICIgKwogICAgIsWhaXBlayB2bGV2byBhIHZwcmF2byBuZWJvIGtsw6F2ZXMgUGFnZVVwIGEgUGFnZURvd24uIFDDrXNtbyBzZSAiICsKICAgICJkw6EgenbEm3TFoWl0IGEgem1lbsWhaXQgcG9tb2PDrSBrbMOhdmVzIEIgYSBTLiIsCgogIHN0cmluZ3Nfbmw6IHsKICAgICJzbGlkZSI6InBhZ2luYSIsCiAgICAiaGVscD8iOiJIZWxwPyIsCiAgICAiY29udGVudHM/IjoiSW5ob3VkPyIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJpbmhvdWRzb3BnYXZlIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IkluaG91ZHNvcGdhdmUiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiaGVyc3RhcnQgcHJlc2VudGF0aWUiLAogICAgInJlc3RhcnQ/IjoiSGVyc3RhcnQ/IgogIH0sCiAgaGVscF9ubDoKICAgICAiTmF2aWdlZXIgZC5tLnYuIGhldCBtdWlzLCBzcGF0aWViYXIsIExpbmtzL1JlY2h0cyB0b2V0c2VuLCAiICsKICAgICAib2YgUGdVcCBlbiBQZ0RuLiBHZWJydWlrIFMgZW4gQiBvbSBkZSBrYXJha3Rlcmdyb290dGUgdGUgdmVyYW5kZXJlbi4iLAoKICBzdHJpbmdzX2RlOiB7CiAgICAic2xpZGUiOiJTZWl0ZSIsCiAgICAiaGVscD8iOiJIaWxmZSIsCiAgICAiY29udGVudHM/Ijoiw5xiZXJzaWNodCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJJbmhhbHRzdmVyemVpY2huaXMiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoiSW5oYWx0c3ZlcnplaWNobmlzIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6IlByw6RzZW50YXRpb24gbmV1IHN0YXJ0ZW4iLAogICAgInJlc3RhcnQ/IjoiTmV1c3RhcnQiCiAgfSwKICBoZWxwX2RlOgogICAgIkJlbnV0emVuIFNpZSBkaWUgTWF1cywgTGVlcnNjaGxhZywgZGllIEN1cnNvcnRhc3RlbiBsaW5rcy9yZWNodHMgb2RlciAiICsKICAgICJQYWdlIHVwL1BhZ2UgRG93biB6dW0gV2VjaHNlbG4gZGVyIFNlaXRlbiB1bmQgUyB1bmQgQiBmw7xyIGRpZSBTY2hyaWZ0Z3LDtnNzZS4iLAoKICBzdHJpbmdzX3BsOiB7CiAgICAic2xpZGUiOiJzbGFqZCIsCiAgICAiaGVscD8iOiJwb21vYz8iLAogICAgImNvbnRlbnRzPyI6InNwaXMgdHJlxZtjaT8iLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoic3BpcyB0cmXFm2NpIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IlNwaXMgVHJlxZtjaSIsCiAgICAicmVzdGFydCBwcmVzZW50YXRpb24iOiJSZXN0YXJ0dWogcHJlemVudGFjasSZIiwKICAgICJyZXN0YXJ0PyI6InJlc3RhcnQ/IgogIH0sCiAgaGVscF9wbDoKICAgICJabWllbmlhaiBzbGFqZHkga2xpa2FqxIVjIG15c3rEhSwgbmFjaXNrYWrEhWMgc3BhY2rEmSwgc3RyemHFgmtpIGxld28vcHJhd28iICsKICAgICJsdWIgUGdVcCAvIFBnRG4uIFXFvHlqIGtsYXdpc3p5IFMgaSBCLCBhYnkgem1pZW5pxIcgcm96bWlhciBjemN6aW9ua2kuIiwKCiAgc3RyaW5nc19mcjogewogICAgInNsaWRlIjoicGFnZSIsCiAgICAiaGVscD8iOiJBaWRlIiwKICAgICJjb250ZW50cz8iOiJJbmRleCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJ0YWJsZSBkZXMgbWF0acOocmVzIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IlRhYmxlIGRlcyBtYXRpw6hyZXMiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiUmVjb21tZW5jZXIgbCdleHBvc8OpIiwKICAgICJyZXN0YXJ0PyI6IkTDqWJ1dCIKICB9LAogIGhlbHBfZnI6CiAgICAiTmF2aWd1ZXogYXZlYyBsYSBzb3VyaXMsIGxhIGJhcnJlIGQnZXNwYWNlLCBsZXMgZmzDqGNoZXMgIiArCiAgICAiZ2F1Y2hlL2Ryb2l0ZSBvdSBsZXMgdG91Y2hlcyBQZyBVcCwgUGcgRG4uIFV0aWxpc2V6ICIgKwogICAgImxlcyB0b3VjaGVzIFMgZXQgQiBwb3VyIG1vZGlmaWVyIGxhIHRhaWxsZSBkZSBsYSBwb2xpY2UuIiwKCiAgc3RyaW5nc19odTogewogICAgInNsaWRlIjoib2xkYWwiLAogICAgImhlbHA/Ijoic2Vnw610c8OpZyIsCiAgICAiY29udGVudHM/IjoidGFydGFsb20iLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoidGFydGFsb21qZWd5esOpayIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiJUYXJ0YWxvbWplZ3l6w6lrIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6ImJlbXV0YXTDsyDDumpyYWluZMOtdMOhc2EiLAogICAgInJlc3RhcnQ/Ijoiw7pqcmFpbmTDrXTDoXMiCiAgfSwKICBoZWxwX2h1OgogICAgIkF6IG9sZGFsYWsga8O2enRpIGzDqXBrZWTDqXNoZXoga2F0dGludHNvbiBheiBlZ8OpcnJlbCwgdmFneSAiICsKICAgICJoYXN6bsOhbGphIGEgc3rDs2vDtnosIGEgYmFsLCB2YWd5IGEgam9iYiBuecOtbCwgaWxsZXR2ZSBhIFBhZ2UgRG93biwgIiArCiAgICAiUGFnZSBVcCBiaWxsZW50ecWxa2V0LiBBeiBTIMOpcyBhIEIgYmlsbGVudHnFsWtrZWwgdsOhbHRvenRhdGhhdGphICIgKwogICAgImEgc3rDtnZlZyBtw6lyZXTDqXQuIiwKCiAgc3RyaW5nc19pdDogewogICAgInNsaWRlIjoicGFnLiIsCiAgICAiaGVscD8iOiJBaXV0byIsCiAgICAiY29udGVudHM/IjoiSW5kaWNlIiwKICAgICJ0YWJsZSBvZiBjb250ZW50cyI6ImluZGljZSIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiJJbmRpY2UiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiUmljb21pbmNpYXJlIGxhIHByZXNlbnRhemlvbmUiLAogICAgInJlc3RhcnQ/IjoiSW5pemlvIgogIH0sCiAgaGVscF9pdDoKICAgICJOYXZpZ2FyZSBjb24gbW91c2UsIGJhcnJhIHNwYXppbywgZnJlY2NlIHNpbmlzdHJhL2Rlc3RyYSBvICIgKwogICAgIlBnVXAgZSBQZ0RuLiBVc2FyZSBTIGUgQiBwZXIgY2FtYmlhcmUgbGEgZGltZW5zaW9uZSBkZWkgY2FyYXR0ZXJpLiIsCgogIHN0cmluZ3NfZWw6IHsKICAgICJzbGlkZSI6Is+DzrXOu86vzrTOsSIsCiAgICAiaGVscD8iOiLOss6/zq7OuM61zrnOsTsiLAogICAgImNvbnRlbnRzPyI6Is+AzrXPgc65zrXPh8+MzrzOtc69zrE7IiwKICAgICJ0YWJsZSBvZiBjb250ZW50cyI6Is+Azq/Ovc6xzrrOsc+CIM+AzrXPgc65zrXPh86/zrzOrc69z4nOvSIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiLOoM6vzr3Osc66zrHPgiDOoM61z4HOuc61z4fOv868zq3Ovc+Jzr0iLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoizrXPgM6xzr3Otc66zrrOr869zrfPg863IM+AzrHPgc6/z4XPg86vzrHPg863z4IiLAogICAgInJlc3RhcnQ/IjoizrXPgM6xzr3Otc66zrrOr869zrfPg863OyIKICB9LAogIGhlbHBfZWw6CiAgICAizqDOu86/zrfOs863zrjOtc6vz4TOtSDOvM61IM+Ezr8gzrrOu86vzrogz4TOv8+FIM+Azr/Ovc+EzrnOus65zr/PjSwgz4TOvyBzcGFjZSwgz4TOsSDOss6tzrvOtyDOsc+BzrnPg8+EzrXPgc6sL860zrXOvs65zqwsICIgKwogICAgIs6uIFBhZ2UgVXAgzrrOsc65IFBhZ2UgRG93bi4gzqfPgc63z4POuc68zr/PgM6/zrnOrs+Dz4TOtSDPhM6xIM+AzrvOrs66z4TPgc6xIFMgzrrOsc65IEIgzrPOuc6xIM69zrEgzrHOu867zqzOvs61z4TOtSAiICsKICAgICLPhM6/IM68zq3Os861zrjOv8+CIM+EzrfPgiDOs8+BzrHOvM68zrHPhM6/z4POtc65z4HOrM+CLiIsCgogIHN0cmluZ3NfamE6IHsKICAgICJzbGlkZSI6IuOCueODqeOCpOODiSIsCiAgICAiaGVscD8iOiLjg5jjg6vjg5ciLAogICAgImNvbnRlbnRzPyI6IuebruasoSIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiLnm67mrKHjgpLooajnpLoiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoi55uu5qyhIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6IuacgOWIneOBi+OCieWGjeeUnyIsCiAgICAicmVzdGFydD8iOiLmnIDliJ3jgYvjgokiCiAgfSwKICBoZWxwX2phOgogICAgICLjg57jgqbjgrnlt6bjgq/jg6rjg4Pjgq8g44O7IOOCueODmuODvOOCuSDjg7sg5bem5Y+z44Kt44O8ICIgKwogICAgICLjgb7jgZ/jga8gUGFnZSBVcCDjg7sgUGFnZSBEb3du44Gn5pON5L2c77yMIFMg44O7IELjgafjg5Xjgqnjg7Pjg4jjgrXjgqTjgrrlpInmm7QiLAoKICBzdHJpbmdzX3poOiB7CiAgICAic2xpZGUiOiLlubvnga/niYciLAogICAgImhlbHA/Ijoi5biu5YqpPyIsCiAgICAiY29udGVudHM/Ijoi5YaF5a65PyIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiLnm67lvZUiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoi55uu5b2VIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6IumHjeaWsOWQr+WKqOWxleekuiIsCiAgICAicmVzdGFydD8iOiLph43mlrDlkK/liqg/IgogIH0sCiAgaGVscF96aDoKICAgICLnlKjpvKDmoIfngrnlh7ssIOepuuagvOadoSwg5bem5Y+z566t5aS0LCBQZyBVcCDlkowgUGcgRG4g5a+86IiqLiAiICsKICAgICLnlKggUywgQiDmlLnlj5jlrZfkvZPlpKflsI8uIiwKCiAgc3RyaW5nc19ydTogewogICAgInNsaWRlIjoi0YHQu9Cw0LnQtCIsCiAgICAiaGVscD8iOiLQv9C+0LzQvtGJ0Yw/IiwKICAgICJjb250ZW50cz8iOiLRgdC+0LTQtdGA0LbQsNC90LjQtT8iLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoi0L7Qs9C70LDQstC70LXQvdC40LUiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoi0J7Qs9C70LDQstC70LXQvdC40LUiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoi0L/QtdGA0LXQt9Cw0L/Rg9GB0YLQuNGC0Ywg0L/RgNC10LfQtdC90YLQsNGG0LjRjiIsCiAgICAicmVzdGFydD8iOiLQv9C10YDQtdC30LDQv9GD0YHQuj8iCiAgfSwKICBoZWxwX3J1OgogICAgItCf0LXRgNC10LzQtdGJ0LDQudGC0LXRgdGMINC60LvQuNC60LDRjyDQvNGL0YjQutC+0LksINC40YHQv9C+0LvRjNC30YPRjyDQutC70LDQstC40YjRgyDQv9GA0L7QsdC10LssINGB0YLRgNC10LvQutC4IiArCiAgICAi0LLQu9C10LLQvi/QstC/0YDQsNCy0L4g0LjQu9C4IFBnIFVwINC4IFBnIERuLiDQmtC70LDQstC40YjQuCBTINC4IEIg0LzQtdC90Y/RjtGCINGA0LDQt9C80LXRgCDRiNGA0LjRhNGC0LAuIiwKCiAgc3RyaW5nc19zdjogewogICAgInNsaWRlIjoic2lkYSIsCiAgICAiaGVscD8iOiJoasOkbHAiLAogICAgImNvbnRlbnRzPyI6ImlubmVow6VsbCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJpbm5laMOlbGxzZsO2cnRlY2tuaW5nIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IklubmVow6VsbHNmw7ZydGVja25pbmciLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoidmlzYSBwcmVzZW50YXRpb25lbiBmcsOlbiBiw7ZyamFuIiwKICAgICJyZXN0YXJ0PyI6ImLDtnJqYSBvbSIKICB9LAogIGhlbHBfc3Y6CiAgICAiQmzDpGRkcmEgbWVkIGV0dCBrbGljayBtZWQgdsOkbnN0cmEgbXVza25hcHBlbiwgbWVsbGFuc2xhZ3N0YW5nZW50ZW4sICIgKwogICAgInbDpG5zdGVyLSBvY2ggaMO2Z2VycGlsdGFuZ2VudGVybmEgZWxsZXIgdGFuZ2VudGVybmEgUGcgVXAsIFBnIERuLiAiICsKICAgICJBbnbDpG5kIHRhbmdlbnRlcm5hIFMgb2NoIEIgZsO2ciBhdHQgw6RuZHJhIHRleHRlbnMgc3Rvcmxlay4iLAoKICBzdHJpbmdzOiB7IH0sCgogIGxvY2FsaXplOiBmdW5jdGlvbiAoc3JjKSB7CiAgICBpZiAoc3JjID09ICIiKQogICAgICByZXR1cm4gc3JjOwoKICAgICAvLyB0cnkgZnVsbCBsYW5ndWFnZSBjb2RlLCBlLmcuIGVuLVVTCiAgICAgdmFyIHMsIGxvb2t1cCA9IHczY19zbGlkeS5zdHJpbmdzW3czY19zbGlkeS5sYW5nXTsKCiAgICAgaWYgKGxvb2t1cCkKICAgICB7CiAgICAgICBzID0gbG9va3VwW3NyY107CgogICAgICAgaWYgKHMpCiAgICAgICAgcmV0dXJuIHM7CiAgICAgfQoKICAgICAvLyBzdHJpcCBjb3VudHJ5IGNvZGUgc3VmZml4LCBlLmcuCiAgICAgLy8gdHJ5IGVuIGlmIHVuZGVmaW5lZCBmb3IgZW4tVVMKICAgICB2YXIgbGcgPSB3M2Nfc2xpZHkubGFuZy5zcGxpdCgiLSIpOwoKICAgICBpZiAobGcubGVuZ3RoID4gMSkKICAgICB7CiAgICAgICBsb29rdXAgPSB3M2Nfc2xpZHkuc3RyaW5nc1tsZ1swXV07CgogICAgICAgaWYgKGxvb2t1cCkKICAgICAgIHsKICAgICAgICAgcyA9IGxvb2t1cFtzcmNdOwoKICAgICAgICAgaWYgKHMpCiAgICAgICAgICByZXR1cm4gczsKICAgICAgIH0KICAgICB9CgogICAgIC8vIG90aGVyd2lzZSBzdHJpbmcgYXMgaXMKICAgICByZXR1cm4gc3JjOwogIH0sCgogIGluaXRfbG9jYWxpemF0aW9uOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgaTE4biA9IHczY19zbGlkeTsKICAgIHZhciBoZWxwX3RleHQgPSB3M2Nfc2xpZHkuaGVscF90ZXh0OwoKICAgIC8vIGVhY2ggc3VjaCBsYW5ndWFnZSBhcnJheSBpcyBkZWNsYXJlZCBpbiB0aGUgbG9jYWxpemUgYXJyYXkKICAgIC8vIHRoaXMgaXMgdXNlZCBhcyBpbiAgdzNjX3NsaWR5LmxvY2FsaXplKCJmb28iKTsKICAgIHRoaXMuc3RyaW5ncyA9IHsKICAgICAgImVzIjp0aGlzLnN0cmluZ3NfZXMsCiAgICAgICJjYSI6dGhpcy5zdHJpbmdzX2NhLAogICAgICAiY3MiOnRoaXMuc3RyaW5nc19jcywKICAgICAgIm5sIjp0aGlzLnN0cmluZ3NfbmwsCiAgICAgICJkZSI6dGhpcy5zdHJpbmdzX2RlLAogICAgICAicGwiOnRoaXMuc3RyaW5nc19wbCwKICAgICAgImZyIjp0aGlzLnN0cmluZ3NfZnIsCiAgICAgICJodSI6dGhpcy5zdHJpbmdzX2h1LAogICAgICAiaXQiOnRoaXMuc3RyaW5nc19pdCwKICAgICAgImVsIjp0aGlzLnN0cmluZ3NfZWwsCiAgICAgICJqcCI6dGhpcy5zdHJpbmdzX2phLAogICAgICAiemgiOnRoaXMuc3RyaW5nc196aCwKICAgICAgInJ1Ijp0aGlzLnN0cmluZ3NfcnUsCiAgICAgICJzdiI6dGhpcy5zdHJpbmdzX3N2CiAgICB9LAoKICAgIGkxOG4uc3RyaW5nc19lc1toZWxwX3RleHRdID0gaTE4bi5oZWxwX2VzOwogICAgaTE4bi5zdHJpbmdzX2NhW2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfY2E7CiAgICBpMThuLnN0cmluZ3NfY3NbaGVscF90ZXh0XSA9IGkxOG4uaGVscF9jczsKICAgIGkxOG4uc3RyaW5nc19ubFtoZWxwX3RleHRdID0gaTE4bi5oZWxwX25sOwogICAgaTE4bi5zdHJpbmdzX2RlW2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfZGU7CiAgICBpMThuLnN0cmluZ3NfcGxbaGVscF90ZXh0XSA9IGkxOG4uaGVscF9wbDsKICAgIGkxOG4uc3RyaW5nc19mcltoZWxwX3RleHRdID0gaTE4bi5oZWxwX2ZyOwogICAgaTE4bi5zdHJpbmdzX2h1W2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfaHU7CiAgICBpMThuLnN0cmluZ3NfaXRbaGVscF90ZXh0XSA9IGkxOG4uaGVscF9pdDsKICAgIGkxOG4uc3RyaW5nc19lbFtoZWxwX3RleHRdID0gaTE4bi5oZWxwX2VsOwogICAgaTE4bi5zdHJpbmdzX2phW2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfamE7CiAgICBpMThuLnN0cmluZ3NfemhbaGVscF90ZXh0XSA9IGkxOG4uaGVscF96aDsKICAgIGkxOG4uc3RyaW5nc19ydVtoZWxwX3RleHRdID0gaTE4bi5oZWxwX3J1OwogICAgaTE4bi5zdHJpbmdzX3N2W2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfc3Y7CgogICAgdzNjX3NsaWR5LmxhbmcgPSBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCJsYW5nIik7CgogICAgaWYgKCF3M2Nfc2xpZHkubGFuZykKICAgICAgdzNjX3NsaWR5LmxhbmcgPSBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpOwoKICAgIGlmICghdzNjX3NsaWR5LmxhbmcpCiAgICAgIHczY19zbGlkeS5sYW5nID0gImVuIjsKICB9Cn07CgovLyBoYWNrIGZvciBiYWNrIGJ1dHRvbiBiZWhhdmlvcgppZiAodzNjX3NsaWR5LmllNiB8fCB3M2Nfc2xpZHkuaWU3KQp7CiAgZG9jdW1lbnQud3JpdGUoIjxpZnJhbWUgaWQ9J2hpc3RvcnlGcmFtZScgIiArCiAgInNyYz0namF2YXNjcmlwdDpcIjxodG1sIisiPjwvIisiaHRtbD5cIicgIiArCiAgImhlaWdodD0nMScgd2lkdGg9JzEnICIgKwogICJzdHlsZT0ncG9zaXRpb246YWJzb2x1dGU7bGVmdDotODAwcHgnPjwvaWZyYW1lPiIpOwp9CgovLyBhdHRhY2ggZXZlbnQgbGlzdGVuZXJzIGZvciBpbml0aWFsaXphdGlvbgp3M2Nfc2xpZHkuc2V0X3VwKCk7CgovLyBoaWRlIHRoZSBzbGlkZXMgYXMgc29vbiBhcyBib2R5IGVsZW1lbnQgaXMgYXZhaWxhYmxlCi8vIHRvIHJlZHVjZSBhbm5veWluZyBzY3JlZW4gbWVzcyBiZWZvcmUgdGhlIG9ubG9hZCBldmVudApzZXRUaW1lb3V0KHczY19zbGlkeS5oaWRlX3NsaWRlcywgNTApOwoK"></script>
  <script src="data:application/javascript;base64,KGZ1bmN0aW9uKCkgewogIGlmICghd2luZG93LnczY19zbGlkeSkgcmV0dXJuOwogIGlmICghd2luZG93LlNoaW55KSByZXR1cm47CiAgaWYgKCF3aW5kb3cuJCkgcmV0dXJuOwogIC8vIHdoZW5ldmVyIGEgc2xpZGUgY2hhbmdlcywgdGVsbCBzaGlueSB0byByZWNhbGN1bGF0ZSB3aGF0IGlzIGRpc3BsYXllZAogIHdpbmRvdy53M2Nfc2xpZHkuYWRkX29ic2VydmVyKGZ1bmN0aW9uIChzbGlkZV9udW0pIHsKICAgIC8vIHNsaWRlX251bSBzdGFydHMgYXQgcG9zaXRpb24gMQogICAgJCh3M2Nfc2xpZHkuc2xpZGVzW3NsaWRlX251bSAtIDFdKS50cmlnZ2VyKCJzaG93biIpOwogIH0pOwp9KSgpCg=="></script>
</head>
<body>
<div class="slide titlepage">
  <h1 class="title">A few notes about decomposing the two way fixed effects estimator</h1>
  <p class="author">
By Hans H. Sievertsen (<a href="mailto:h.h.sievertsen@bristol.ac.uk" class="email">h.h.sievertsen@bristol.ac.uk</a>)
  </p>
  <p class="date">This version: 05/06/2020; <a href="https://github.com/hhsievertsen/twowayfedecomp/raw/master/slides/Notes_on_DiD_weights.pdf">link to most recent version</a></p>
</div>
<div id="what-is-this" class="slide section level1">
<h1>What is this?</h1>
<p><strong>Objective</strong></p>
<ul>
<li>Introduce the Chaisemartin &amp; D’Haultfoeuille (forthcoming, AER; CD) &amp; Goodman-Bacon (2019 WP; GB) decomposition of the two way fixed effects estimator and link them. </li>
</ul>
<p><strong>Disclaimer</strong></p>
<ul>
<li>The slides represent my understanding. It might be wrong and there will be mistakesg. Please let me know.</li>
<li>There is <strong>a lot</strong> more in CD’s and GB’s papers.</li>
<li>I don’t discuss assumptions (!) and extensions.</li>
<li>Please see the original papers.</li>
</ul>
</div>
<div id="the-traditional-difference-in-differences-dd" class="slide section level1">
<h1>The traditional difference-in-differences (DD)</h1>
<p>The running example</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAkAAAAGACAIAAADK+EpIAAAACXBIWXMAAB2HAAAdhwGP5fFlAAAgAElEQVR4nOy9e3Bcx33n++s+rxnMDDAEhgCIhwCRsECLD5OxllQoilRWdMKYKsaxbG1WSei6in23Sg9XJdqVbpybVG1S1q5ZJf8hWq71xsut4l5zbcVSbNRlzGzokoSF6JCXEWiKpAATJAHjQWAwGM5gZjDn1d33j9/geAyQIEQSoIb8fUqlAoiZc/r06e5v/x7dzVzXBYIgCIKoNPidLgBBEARB3AwkYARBEERFQgJGEARBVCQkYARBEERFQgJGEARBVCQkYARBEERFQgJGEARBVCQkYARBEERFQgJGEARBVCQkYARBEERFQgJGEARBVCQkYARBEERFQgJGEARBVCQkYARBEERFQgJGEARBVCQkYARBEERFQgJGEARBVCQkYARBEERFQgJGEARBVCQkYARBEERFQgJGEARBVCQkYARBEERFQgJGEARBVCQkYARBEERFQgJGEARBVCQkYARBEERFQgJGEARBVCQkYARBEERFQgJGEARBVCQkYARBEERFQgJGEARBVCQkYARBEERFQgJGEARBVCQkYARxM1y8ePHixYt3uhS3hHP5sHP58J0uBUHcPCRgBPGRuXjxYjwej8fjS6lhR581nz26ZFd3Lh/WatZqNWuXTMMGDuw0SyzhcxD3NCRgBPHRQPXCn5dMw44+a+797hJcF0H1wp+XSMMGDvzJi+u6XNd13fOvnttLEkYsBSRgxN1FMO9/9sCBnRU69R84sLNrr9v15Ttdjluh44V33W/vxh9/9wu/ee7CwB0uEHE3QgJG3E0cffbB0rz//Cd/+OLPluQea9asyWQy+HMmk1mzZs3tvkPHC++Wxv4lwrr/aZHtw59Fts+6/+mlvNvRb7647s9f6FjKWxD3KCRgxF3E0a7v/uarf7YbAKDjhT9fOgsGNWxp1GuZQA1bBvV61vxPnzy/tHpM3LPod7oABHHbGLhwDuCTs791fPI34cMlu1flSlfAEksXwMCBnQ/+8Avn3yXri1giSMCIu4eOT6wr+23gw6VxIRKLYuDAzgc//HP3XbK9iKWDXIjEXcTuvV/+2YvfPAoAMHDgPy1dFh9xQ45+88WfwXf3zibS7zxASRzE7Ye5rnuny0AQt4+BAzsffPFnAPDlL3/5u+c+Sf4rgrh7IQuMuLvoeOFd13Vd1/323jtdFIIglhYSMOIuYuDAzsBZdbTru7DuE2R+EcTdC7kQibuKwIMI8Juvkv+QIO5qSMAIgiCIioRciARBEERFQgJGEARBVCQkYARBEERFQgJGEARBVCQkYARBEERFQgJGEARBVCQkYARBEERFQgJGEARBVCQkYARBEERFQgJGEARBVCQkYARBEERFQgJGEARBVCQkYARBEERFQgJGEARBVCQkYARBEERFUgECZpqmaZp3uhQVT09PT09Pz50uBUEQxG2jAgSMIAiCIOZDAkYQBEFUJCRgBEEQREXCXNe902W4ARgA+/iXkyAIglhOyAIjCIIgKhISMIIgCKIiIQEjCIIgKhISMIIgCKIiuQMCNvbWiy++Nbb89yUIgiDuJpZdwMbeevV7g8t9U4IgCOKuY5kFbOytV99r29m+vDclCIIg7kKWVcDG3nr1vUde/ELLct6TKEF7IRIEcZexjAKG8vX5puW7I0EQBHH3oi/bncb++b3BwcEXnvweAAC88CIceJXEjCAIgrhZlk/Amj7/6pufBwAYe+vFV+FFUi+CIAjiVqB1YARBEERFsnwWWEDT5199dfnvShAEQdxdkAVGEARBVCQkYARBEERFQueBEQRBEBUJWWAEQRBERUICRhAEQVQkJGAEQRBERUICRhAEQVQkJGAEQRBERUICRhAEQVQkJGAEQRBERUICdq9A54ERBHGXQQJGEARBVCQkYARBEERFQgJGEARBVCQkYARBEERFQgJGEARBVCQkYARBEERFQgJGEARBVCR0HhhBEARRkZAFRhAEQVQkJGAEQRBERUICRhAEQVQkJGAEQRBERUICRhAEQVQkJGAEQRBERUICRhAEQVQkJGD3CnQeGEEQdxkkYARBEERFQgJGEARBVCQkYARBEERFQgJGEARBVCQkYARBEERFQgJGEARBVCQkYARBEERFQueBEQRBEBUJWWAEQRBERUICRhAEQVQkJGAEQRBERUICRhAEQVQkJGAEQRBERUICRhAEQVQkJGAEQRBERUICdq9A54ERBHGXQQJGEARBVCQkYARBEERFQgJGEARBVCQkYARBEERFQgJGEARBVCQkYARBEERFQgJGEARBVCTLeh7Yydee/Ma7AAA7X37zq1sW+y06D4wgCIKYzzJaYCdf+wa8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" width="288" style="display: block; margin: auto;" /></p>
<ul>
<li><span class="math inline">\(t\)</span>: period, <span class="math inline">\(g\)</span>: group, <span class="math inline">\(y\)</span>: outcome, <span class="math inline">\(d\)</span>: treatment indicator, <span class="math inline">\(g=1\)</span> is never treated, <span class="math inline">\(g=2\)</span> is treated from <span class="math inline">\(t=10\)</span>.</li>
</ul>
<h2 id="the-traditional-dd">The traditional DD</h2>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAkAAAAGACAMAAAByRC0tAAAAsVBMVEUAAAAAADkAAGQAOY0AZGQAZI0AZLI5AAA5ADk5AGQ5jdZNTU1NTYxNbW1NjMRkAABkADlkAGRksvptTU1tTW1tTYxtbahtqOCMTU2MTW2MTYyMjG2MxPqNOQCNOWSN1vqZmZmobU2obW2obYyo4PqyZACy+rKy+vq+vr7EjE3E+sTE+vrWjTnW+vrgqG3g+vrmnwD6smT6xIz61o364Kj64OD6+rL6+sT6+tb6+uD6+voX+ndxAAAACXBIWXMAAB2HAAAdhwGP5fFlAAAHZ0lEQVR4nO3dbXMSVxyHYeyDraWNrU+xVqu1thqjqEmaGL7/B+sG7BginTnrj4W/cF3vYGbPLnBn9+yZIYymEBht+gD4sgmIiICICIiIgIgIiIiAiAiIiICICIiIgIgIiIiAiAiIiICICIiIgIgIiIiAiAiIiICICIiIgIgIiIiAiAiIiICICIiIgIgIiIiAiAiIiICICIiIgJ60WNji9Jfnlx++bXF5g/ePRqPra3hlayGg3gGd3vwqC+jV9a6hW+t4bWuwcwEdfzf6duHT6xvQ+9//Ds9AF179MNQLXLNdC+j05q3pq1ESUH4J+3SIL9iuBfTu69eziD7aRECnPz8e6gWu264F9KoLKJ2AxKeP4++3pp+dC+jTM1B/aUDHN7bl+jXdvYA+nQN9xhhhQH+NOibRX6juLuyb7ZmBbN7OBTTdqins5u1aQBfz13dfbdEcZNN2LaBuAjS65gS0OjsXEKslICICIiIgIgIiIiAiAiIiICICIiIgIgIiIiAiAiIiICICIiIgIp8Z0Gh94b14sbZd0Z+AiAiIiICI1A+I0gREREBEBEREQEQaQ5jsX9lMQMy0hXByW0As1RTC+dPfBMRSTSFM9jd4CbOQWFpLCCf33giI5VpCmIw7iwUJiLn6d2ECKk1AROovJAqoNAERERCR+gFRmoCICIiIgIgIiIiAiAiIiICI1A/IQmJpAiIiICICIiIgIgIiIiAiAiJSPyBKExARAREREBEBEREQEQERERCR+gFZSCxNQEQERERARAREREBEBEREQETqB0RpAiIiICICIiIgIgIiIiAiAiJSPyALiaUJiIiAiAiIiICICIiIgIgIiEhTCAfj8cMrm1lIZKYlhKO96dmDw8XNBMRMYwgCYrm2ECYuYSzXGsLBYkECYq41hMn+4mYCYqZxEu0MxHKtt/GLJyAB8YGFRCICIiIgIgIiIiAiAiIiICICIlI/IEoTEBEBEREQEQERERARAREREJH6AVlILE1ARAREREBEBEREQEQERERAROoHRGkCIiIgIgIiIiAiAiIiICICIlI/IAuJpQmIiICICIiIgIgIiIiAiAiISP2AKE1ARAREREBEBEREQEQERERAROoHZCGxNAERERARARFZEsLpzeuLT5z/MR7vXdlsnQG9ZRPaPp6lIbwbja49/vhwstc1tKmf/X4roA1p+3z+L4T3j0ajW5ceTxZ/91tA26/t81kawvF3s3r++vr1f8+cPThc3ExAW6/t81k6B/oQzvGN5x+eOvv12ZXN1hcQG9L2+TSFcHLnSj/rDmhdO6O3lhBO7h5efUpAzLWEcDDubGwSLaDSyi8kCqg2AREREBEBEakf0MVC4rp2Rm8CIiIgIgIiIiAiAiIiICICIlI/IAuJpQmIiICICIiIgIgIiIiAiAiISP2ALCSWJiAiAiIiICICIiIgIgIiIiAi9QOykFiagIgIiIiAiAiIiICICIiIgIjUD8hCYmkCIiIgIgIiIiAiAiIiICICIlI/IAuJpQmIiICICIiIgIgIiIiAiLSFcPVn4wXEB00hnN3/sTGgph8k7+diIfEJ67e6gM7/fNl6BhLQ9lhdQD0uYQLaHgIiskUBbfqt3E0bCWgAL16sbVf0JyAi5RcSBVRb/YAoTUBEBEREQEQERERARAREREBE6gdkIbE0AREREBEBEREQEQERERARARGpHxClCYiIgIgIiIiAiAiIiICICIhI/YAsJJYmICICIiIgIgIiIiAiAiIiICL1A6I0AREREBEBEREQEQERERARARGpH5CFxNIERERARAREREBEBEREQEQERKR+QJQmICJNIRyNxw+vbCYgZlpCOPv12cndxV/dFRBzLSGc3Htz/vTZ4mYCYqYlhKO96fRg8RomIOYERMQljEj9SbSFxNLq38YLqLT6C4kCKk1ARAREREBEBETkswNiR60mIAXtrBUFBDMCIiIgIgIiIiAiAiIiICICIiIgIgIiIiAiAiIiICICIiIgIisI6NMv/azO2YPDwXZw/sd4vDfc4R/Mxh3uzZnsD3rsPx62jZ4HtORrhytzdr97HUPtYLLXNfRwqNGP9i7qH+7NObm9P9g7M/8ectvoeUBLvvi8Kud/vuzOQAPuoPszHnD0LqDBRj9/+tv+YO/MvJu20fOAlvzrhdW5uIQNuINu+OFGn3QXgMFGn+x3l7ChRj/66XZ3cW8bfacD6k7Sgx7+wcOhRu/ODgMGNP3nzXTSeOylL2HzgAbbwcmdZ8Me/nAXyMm4M+Tlt/nYa0+iZwENtYP5oANOoru/3wHfnMlwk+iLY580HvsO38YfzP6Kh7wVHvBGe/Db+NbRLSQSERARAREREBEBEREQEQERERARAREREBEBERFQb8c3nm/6EAoRUG8CukxAfZ3eHF17vOmDqENAvTkDXSag3gR0mYB6E9BlAupNQJcJqLfj782hPxJQb+8fjW5t+hjqEBARAREREBEBEREQEQERERARAREREBEBEREQEQERERARAREREBEBEREQkX8BQQXd9ls8oQsAAAAASUVORK5CYII=" width="288" style="display: block; margin: auto;" /></p>
<ul>
<li><p><span class="math inline">\(t\)</span>: period, <span class="math inline">\(g\)</span>: group, <span class="math inline">\(y\)</span>: outcome, <span class="math inline">\(d\)</span>: treatment indicator, <span class="math inline">\(g=1\)</span> is never treated, <span class="math inline">\(g=2\)</span> is treated from <span class="math inline">\(t=10\)</span>.</p></li>
<li><p>DD estimate: <span class="math display">\[\begin{equation}\hat{\beta}^{DD}=(\bar{Y}_{g=2,t\geq 10}-\bar{Y}_{g=2,t&lt;10})-(\bar{Y}_{g=1,t\geq 10}-\bar{Y}_{g=1,t&lt;10})
\end{equation}\]</span></p></li>
<li><p>As seen in for example <em>Card &amp; Krueger (1994) “Minimum Wages and Employment: A Case Study of the Fast Food Industry in New Jersey and Pennsylvania”, AER, 84, 772-784.</em></p></li>
</ul>
<h2 id="dd-with-more-groups">DD with more groups</h2>
<p><img src="data:image/png;base64,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" width="288" style="display: block; margin: auto;" /></p>
<ul>
<li><p>Add another group, <span class="math inline">\(g=3\)</span> that gets treated from period <span class="math inline">\(t=20\)</span>.</p></li>
<li><p>DD estimate is then often estimated as <span class="math inline">\(\hat{\beta}_{fe}\)</span> from an OLS regression of: <span class="math display">\[\begin{equation}y_{i,g,t}=\alpha+\gamma&#39; G_{g}+\psi&#39; T_{t}+ \beta_{fe} D_{g,t}+e_{i,g,t}\end{equation}\]</span></p></li>
<li><p><span class="math inline">\(\beta_{fe}\)</span> is also called the two-way FE estimator (we have both group and period fixed effects).</p></li>
</ul>
<h2 id="what-beta_fe-capturing-and-how-does-it-relate-to-hatbetadd">What <span class="math inline">\(\beta_{fe}\)</span> capturing and how does it relate to <span class="math inline">\(\hat{\beta}^{DD}\)</span> ?</h2>
<p><strong>Bit question: What is <span class="math inline">\({\beta}_{fe}\)</span> capturing?</strong> </p>
<ul>
<li><p><em>Chaisemartin &amp; D’Haultfoeuille (CD): “Two-way fixed effects estimators with heterogeneous treatment effects” (forthcoming, AER)</em></p>
<ul>
<li><strong>Decomposition of <span class="math inline">\(\hat{\beta}_{fe}\)</span> in weighted ATEs across <span class="math inline">\((t,g)\)</span> cells.</strong></li>
<li>Applicable to 2-way (e.g., group &amp; time) fixed effects approaches.</li>
</ul></li>
</ul>
<ul>
<li><p><em>Goodman-Bacon (GB): “Difference-in-Differences with Variation in Treatment Timing” (2019, WP)</em></p>
<ul>
<li><strong>Decomposition of <span class="math inline">\(\hat{\beta}_{fe}\)</span> in weighted <span class="math inline">\(\hat{\beta}^{DD}\)</span>s</strong></li>
<li>Applicable to staggered adoptation designs.</li>
</ul></li>
<li><p>(There are other papers.)</p></li>
</ul>
<p><strong>Let’s start with the GB approach</strong></p>
<h2 id="the-gb-decomposition">The GB decomposition</h2>
<ul>
<li><p>We consider the example with 3 groups and a staggered introduction of a policy: <img src="data:image/png;base64,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" width="240" style="display: block; margin: auto;" /></p></li>
<li><p>Goodman-Bacon: we can decompose this in 4 separate <span class="math inline">\(\hat{\beta}^{DD}\)</span>:</p></li>
</ul>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA8AAAAGACAMAAABVz/vsAAAA8FBMVEUAAAAAADkAAGQAOY0AZLI5AAA5AGQ5OTk5OY05ZGQ5ZI05ZLI5jY05jdZNTU1NTW1NTYxNbahNjMRWtOlkAABkADlkAGRkOWRkOY1kZDlkZGRkZLJksvptTU1tTYxtbahtqKhtqOCMTU2MTYyMbaiMjMSMqOCMxPqNOQCNOTmNOWSN1vqZmZmobU2obYyo4PqyZACyZDmyZGSysmSysvqy+vq+vr7EjE3EjG3ExPrE+vrWjTnW1vrW+rLW+vrgqG3gqIzg+sTg+vrmnwD6smT6srL6xIz61o361tb64Kj6+rL6+sT6+tb6+uD6+vr////uMvsNAAAACXBIWXMAAB2HAAAdhwGP5fFlAAAOZ0lEQVR4nO3dj1sbWdnG8bRltVqJ28LuVsXttlulit3SKm23KLgsFgkw/v//jfMjQCYhc3KezGSe++T7ubzelk4mnHue3AM5KO8gAyBr0PcCANhRYEAYBQaEUWBA2HIFPvtiMLi3d/1Hlh3ujA+cDnLXH2SnmxOn/Go7P3T/d3t3PNsvDrLs7R0HqqOPys+zM/8RHauHHW0P7h9UBybi/ffo9uGyQcfLqMW9fDXYGB8wzXbONfIRtVzK1Ev57OF4mdHTbbg+HcRdssCPsmz09cH4j2z/Zt2Ty65/9O4gGz09ykZ/uOPZvthoeF2/Oyg+xeirvbtOXYV62PxedTiOdRuvSHZNN2ilHjfPeL1g02znXSMXUQtTL+XLVw9mCrzgdJuuT/txly9w/mV3/MfoH/mrukpZLTu/3dzbO/3l/b9v7ucfn26MzygfUr4c8r9d/vXg+ovZ2aP94uaUf/jg6ObIg6P8CQ7KE6+vRU+363rYIuTORNgy6+Fgo1yydtDKdNxilfbZzrtGLqIWpuIe/ubpkXG6Tden/bgtFPh0c/zH1LfQ9w/ybzkOd/K1n27md57Lv+yNH1Umrx76di8/N//r5T/LZ8sf9nYv/7C831dHTjfL8MU/XT/7zWdZremwNzfkcipl1vyfqtVLB61MxR1tT34LHT3bedfIRdRCPe7Zw3+Zp9t0fdqP2+ZX4MkCl3ea/I3TYCf/a/6f/epB5SPK5NUjTjeLL9rb47cd+R1q4+3efn4BNqoj5V+rR15fuv8cTH2PsjJTYYvvhirlesqsebJq9dJBK7PfcNTeMUTOdt41chG1UI97mK9wMm7MdJuuT/txW30PPF3g/BuF/XGIs0fVdw1Tt67RN98c3Dy+eJr9e3sTRyZeOMUXga+KzZSdPr8C34YtN6Iq5QLLrNU9+uYfRYNWZt7y1wscOdt518hF1ML0S7n+/VXMdJuuT/txW9+FHr9xKHbiNvP/+/vNKkT29tflBam/echfx/n97HBw/dYwK9/hb5d3v+JI+dfxe4pH2XgLr7f3wLWwxb148zbsRpn18tXGePXKQSszu9APjpaY7dxr5CFqYfqlPHp6ZJxu4/VpPe6qfg5c3HZK76ovXPH7cO+uv+L1v2O5kLUJusRs5aLeiIk6fX1ajbuiAp/e/BSxejtguAWNT3Rws17M2gRdYrZqUW9FRJ25Pq3GNRR4sGb/7S3ypk07LwUOIm/atPNS4CDypk077yKLP392UjtFOvACyJu2pPIusPir149Ngd9b1uOANW+I1+vBfNt53n6uxwKLP/7u5VoN2Jo3xOv1YL7tPK/XAp8/+2mtBmzOG+L0ejBf6fmGF388HA6f105Je8DmvCFOrwfzlZ7vIou/6OaO5RZ505ZUXgo8i7xpSyovPwcOIm/atPNS4CDypk07b4cFFt3kmKG9yRGP+dr43cSaPoUBm6hcD+ZrQ4Gd0h5wPOZrQ4Gd0h5wPOZrk1yBU0HetGnnpcBB5E2bdl4KHETetGnnpcBB5E2bdl42sYK0NzniMV+b5DaxGHCdyvVgvjYU2CntAcdjvjYU2CntAcdjvjbJFTgV5E2bdl4KHETetGnnpcBB5E2bdl4KHETetGnnZRMrSHuTIx7ztfG6iXX1evikfkraAzbnDXF6PZiv9HzDi//8PPv4pnZK2gM25w15v9Up67KYr/R8F1n81Q+faqekPWBz3oAtpwVmvtLzXWDxFy+6+ZbDq47yLlOxTjHfVp62p/kutPjPnfwme786yeu2wMy3lSd1W+Dj3fUacFd5vRaY+UrPd6Fd6G7+3zE61VVerwVmvtLz5efAQa1tcrTyNN1jviY9zZcCB2kPOB7zNaHAXmkPOB7zNaHAXmkPOB7zNUmvwKnQ3uSIx3xN0tvESoX2gOMxXxMK7JX2gOMxXxMK7JX2gOMxX5P0CswmRw2bWE5pz5cCB2kPOB7zNaHAXmkPOB7zNaHAXmkPOB7zNUmvwKnQ3uSIx3xN0tvESoX2gOMxXxMK7JX2gOMxXxMK7JX2gOMxX5P0CswmRw2bWE5pz5cCB2kPOB7zNXFT4NH2Zu3jixfDL1P+taOt5Q3wUmDmm9R871r84WAwkfl4Nzs2/RKw9z/3avFr0FLeAC8FXs1821zvslqcb0PirY5f73NWNGfxeead248+7xoCdxvHHLizvCGuNrE6n2+rq11eW/NtSLy11erLd9EretfiT4s71ujrg+uPL15afoufuyHO1U7eED8FZr4Jzfeu98Ab9X+4+L72liG1AbeVN8RLgZlvUvMNL/7823re1AY8zZo3xEuBpzFf6fmGF/9hOBxa3vT/7GbTJo41b4ifTaw65is93+5+Dqw64BnaA47HfE0osFfaA47HfE0osFfaA47HfE3SK7DoJscM7U2OeMzXxO0m1uwpDNiCAjulPV8KHKQ94HjM14QCe6U94HjM1yS9ArPJUcMmllPa86XAQdoDjsd8TSiwV9oDjsd8TSiwV9oDjsd8TdIrMJscNWxiOaU9XwocpD3geMzXhAJ7pT3geMzXhAJ7pT3geMzXJL0Cs8lRwyaWU9rzpcBB2gOOx3xNKLBX2gOOx3xNHBf4uPZbONMfsC1viN8CM982+C3wh+H8wI2/yfZvvTJfkqa8W8tYp7zm1XSvKW+Iv8zhxV/82HDHSrDAjXnNL+jCOuW1rqZ7jXlD/GXu7ltoXeRNW1J5KfAs8qYtqbwdFphNjjq314P5tsLtJhYDbudp3V4P5tsKvwWePiX1AU/RHnA85mtDgZ3SHnA85muTXIFTQd60aeelwEHkTZt2XgocRN60aeelwEHkTZt2XjaxgrQ3OeIxX5vkNrEYcJ3K9WC+NhTYKe0Bx2O+NhTYKe0Bx2O+NskVOBXkTZt2XgocRN60aeelwEHkTZt2XgocRN60aedlEytIe5MjHvO1SW4TiwHXqVwP5mtDgZ3SHnA85mtDgZ3SHnA85muTXIFTQd60aecNL/7q9fBJ/RTpwEHkJa+Q8OI/P88+1H4LmHbgIPKSV0h48f9+U2SePEU6cBB5ySskvPiP1sCimxzmvCFOrwfzlZ5vh1+BRQfc2R3a6fVgvtLz7fA9sOiAO3uP5PR6MF/p+Zp2oaXEXhHyalnzvJa7T98R4hgCklfImueV3oED1h0FBoRRYEAYBQaEUWBAGAUGhFFgQBgFBoRRYEAYBQaEUWBAGAUGhFFgQBgFBoSZCzzzP6usO95tesTFi+GXnxqOl4eaPsP5s5Pm03/7JrDAWOStIe+kHvOaCzzziw1qPgx3mx6RX47j5w3H80Mf3zQcv3r9+KTh8MWfgguMRt5J5K3pMa+5wDO/Wqj2GX/MIzU+Ivu823j86odPDcePv3t50nD4/I/Dx03HLcg7gbwz+sprLvDML/ebWtJu8yMuXp40Hb948aTh/PNnPzWenv/7+Z8DC4xF3hry1vWWt5uvwGXgpkdcfP8pdEd7Pv/48XA4bDgcOt2EvPUlkXdSf3k7eg9cBG54xPm3nxqfoTy76TPkN7zA6bsrfY9E3hry3nF2N3n72YX+UNxymrfdHjdtyxWBl9n0MyBvDXkn9ZiXnwMDwigwIIwCA8IoMCCMAgPCKDAgjAIDwigwIIwCA8IoMCDMTYFHT4/6XsJKkTdtq8rrpsBnD9drwORN26ryeinw5avBg3WaMHnTtrK8XgrMHTpx5O0GBe4JedNGgRNH3rRR4MSRN21rV+DR9lptcpA3cavK66bAAOJRYEAYBQaEUWBAGAUGhFFgQBgFBoRRYEAYBQaEUWBAGAUGhFFgQBgFBoRRYEAYBQaEUWBAGAUGhA3+B0AWBQaEUWBAGAUGhFFgQBgFBoRRYEAYBQaEUWBAGAUGhFFgQBgFBoRRYEAYBQaEUWBAGAUGhFFgQBgFBoRRYEAYBQaEUWBAGAUGhFFgQBgFBoRRYEAYBQaEUWBAGAUGhFFgQBgFBoRRYEAYBQaEUWBAGAUGhFFgQBgFBoRRYEAYBQaEUWBAGAUGhFFgQBgFBoRRYEAYBQaEUWBAGAUGhFFgQBgFBoRRYEAYBQaEUWBAGAUGhFFgQBgFBoRRYEAYBQaEUWBAGAUGhFFgQBgFBoRRYEAYBQaEUWBAGAUGhFFgQBgFBoRRYEAYBQaEUWBAGAUGhFFgQBgFBoRRYEAYBQaEUWBAGAUGhFFgQBgFBoRRYEAYBQaEUWBAGAUGhFFgQBgFBoRRYEAYBQaEUWBAGAUGhFFgQBgFBoRRYEAYBQaEUWBAGAUGhFFgQBgFBoRRYEAYBQaEUWBAGAUGhFFgQBgFBoRRYEAYBQaEUWBAGAUGhFFgQBgFBoRRYEAYBQaEUWBAGAUGhFFgQBgFBoRRYEAYBQaEUWBAGAUGhFFgQBgFBoRRYEAYBQaEUWBAGAUGhFFgQBgFBoRRYEAYBQaEUWBAGAUGhFFgQBgFBoRRYEAYBQaEUWBAGAUGhFFgQBgFBoRRYEAYBQaEUWBAGAUGhFFgQBgFBoRRYEAYBQaEUWBAGAUGhFFgQBgFBoRRYEAYBQaEUWBAGAUGhFFgQBgFBoRRYEAYBQaEUWBAGAUGhFFgQBgFBoRRYEAYBQaEUWBAGAUGhFFgQBgFBoRRYEAYBQaEUWBAGAUGhFFgQBgFBoRRYEAYBQaEUWBAGAUGhFFgQBgFBoRRYOeyvvV9AdCIArvWd3szCuwcBXat7/ZmFNg5Cuxa3+3NKLBzFNi1vtubUWDnKLBrfbc3o8DOUWDX+m5vRoGdo8Cu9d3ejAI7R4Fd67u9GQV2jgK71nd7MwrsHAV2re/2ZhTYOQrsWt/tzSiwcxTYtb7bm1Fg5yiwa323N6PAzlFg1/pub0aBnaPArvXd3owCO0eBXeu7vRkFdo4Cu9Z3ezMK7BwFdq3v9mYU2DkK7Frf7c0osHMU2LW+25tRYOf+D9zg4s3qa4DIAAAAAElFTkSuQmCC" width="480" /></p>
<h2 id="gb-betadd-is-a-weighted-average-of-the-separate-dds">GB: <span class="math inline">\({\beta}^{DD}\)</span> is a weighted average of the separate DDs</h2>
<ul>
<li>In our running example, <span class="math inline">\({\beta}^{DD}\)</span> is the weighted average across these 4 DDs:</li>
</ul>
<p><span class="math display">\[\begin{equation}
\hat{\beta}_{fe}=w_1\hat{\beta}^{DD}_1+w_2\hat{\beta}^{DD}_2+w_3\hat{\beta}^{DD}_3+w_4\hat{\beta}^{DD}_4
\end{equation}\]</span></p>
<ul>
<li><p>Key insight: <span class="math inline">\(w\neq\)</span> population shares, but also depends on when a group gets treated.</p></li>
<li><p>See Theorem 1 in GB for the general expression of (3) (equation 10a in his paper) and the definition of the weights.</p></li>
<li><p>GB then shows that:</p></li>
</ul>
<p><span class="math display">\[\begin{align}
\beta^{DD}=VWATT+VWCT-\Lambda ATT
\end{align}\]</span></p>
<p>where:</p>
<ul>
<li><span class="math inline">\(VWATT\)</span>: variance weighted ATE.</li>
<li><span class="math inline">\(VWCT\)</span>: variance weighted common trends.</li>
<li><span class="math inline">\(\Delta ATT\)</span> time varying treatment effect.</li>
</ul>
<p>(see page 12 in Goodman-Bacon, 2019)</p>
<h2 id="is-it-a-problem-lets-consider-an-example.">Is it a problem? Let’s consider an example.</h2>
<p><strong>DGP</strong></p>
<ul>
<li>treatment effects: group2=1 (yellow), group3=2 (blue)</li>
<li>equal group sizes</li>
<li><strong>population weighted average treatment effects=1.5</strong></li>
</ul>
<p><strong>Estimated effects</strong>  <img src="data:image/png;base64,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" width="480" style="display: block; margin: auto;" /></p>
<ul>
<li><p><span class="math inline">\(\hat{\beta}_{fe}=\)</span> 0.27 <span class="math inline">\(\times\)</span> 1.02+ 0.43 <span class="math inline">\(\times\)</span> 1.99+ 0.07 <span class="math inline">\(\times\)</span> 1.01+ 0.23 <span class="math inline">\(\times\)</span> 2=1.66</p></li>
<li><p>Group 3 (blue) gets a higher weight because it is treated more in the middle.</p></li>
<li><p>Not a problem if you know that it is not population weighted.</p></li>
</ul>
<h2 id="what-about-the-last-term-lambda-att-treatments-effects-varying-over-time.">What about the last term (<span class="math inline">\(\Lambda ATT\)</span>)? Treatments effects varying over time.</h2>
<p><strong>DGP</strong></p>
<ul>
<li>We now let the treatmetn effect grow with a rate of 3 percent per period in group 2</li>
<li><strong>population weighted average treatment effect=2.42</strong></li>
</ul>
<p><img src="data:image/png;base64,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" width="302.4" style="display: block; margin: auto;" /></p>
<ul>
<li><p><strong>BUT</strong> <span class="math inline">\(\hat{\beta}_{fe}=1.73\)</span></p></li>
<li><p>That issmaller than the average treatment effect in any of the groups!</p></li>
<li><p>Why?</p></li>
</ul>
<h2 id="what-about-the-last-term-lambda-att-treatments-effects-varying-over-time.-1">What about the last term (<span class="math inline">\(\Lambda ATT\)</span>)? Treatments effects varying over time.</h2>
<p><strong>DGP</strong></p>
<ul>
<li>We now let the treatmetn effect grow with a rate of 3 percent per period in group 2</li>
<li><strong>population weighted average treatment effect=2.42</strong></li>
</ul>
<p><strong>Decomposing the estimated effect using GBs approach</strong> </p>
<pre><code>## `summarise()` has grouped output by &#39;t&#39;. You can override using the `.groups` argument.</code></pre>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA8AAAAEgCAIAAAD0b41nAAAACXBIWXMAAB2HAAAdhwGP5fFlAAAgAElEQVR4nO3db3Ab550n+G//QaMBNgjw/x/RpqJQtkU5dhxPOFKkGW08k1p51qWaNbWzO+XZ3buzpzKnK/lFOFcuv5mrfeXy1Sh1Z9a5ZmuUrc3semdTFnW3SnatTGInSuSSRh7HoySiFImWRQkmxL8ACRBoNLob96IpiCJBiiABNND8fl64SDTw9EPo249/6H76gZDP50FE5C25XM7tLhAA+Hw+t7tARFR+otsdICIiIiKqJyygiYiIiIhKwAKaiIiIiKgELKCJiIiIiErAApqIiIiIqAQsoImIiIiISsACmoiIiIioBCygiYiIiIhKwAKaiIiIiKgELKCJiIiIiErAApqIiIiIqAQsoImIiIiISsACmoiIiIioBCygiYiIiIhKwAKaiIiIiKgELKCJiIiIiErAApqIiIiIqAQsoImIiIiISiAYhuF2H4iIiIiI6gbPQBMRERERlYAFNBERERFRCVhAExERERGVgAU0EREREVEJWEATEREREZWABTQRERERUQlYQBMRERERlYAFNBERERFRCVhAExERERGVgAU0EREREVEJWEATEREREZWABTQRERERUQlYQBMRERERlYAFNBERERFRCVhAExERERGVgAU0EREREVEJWEBXyNjwIeXY2Yo2/4BDw2MP31Rq75Y3VaSVB55wv7mHvorqT63muWgCH76vNZ5baG35Poo+SPWtVvN89ljJQ+dG8ry8vU0cMlS7ajXJm+7dQ/NZdEDexIFTDiyg3bb5/L9yxig4s3eof1lw1tkE4Oyx/qELG+rb1QuFls4d71u5+eyx/qG9zvYzr5w8cm8nD3kVeVpV87xGAtezTvjPHusfwolRwzBGj57qX/ojij5I20Y18zw2fOjIlROjhYc3st91B/MiQ/EmDhnyBBcqDZz99sYqjWWveFg+iw3ImzlwyoMFtDccfvvMKxeGvl0sNw9sGhs+pChHrrzyyv4NNHr2zMn9e9YugM+eObn/xLcOOzv51on9F66ObeBVRA+3sTyvkcC1PCT8Yzeu4JXXj/cB6Dv++isn3xgeW+NBotJsLM99x88VTjkcPvIKrtzYSp6LDsUlHjJED9popQEAZ48dubJ/I5XGfQ/NZ9EBucQD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v9v0EMzzWpjnesQ8r4V5rkfM81pqMM8soB8uGh3fWgMDAwNlbO3SW9/rOTqwxXYuvTV4/J3efQNb6c/E6RMfHhh6scf5bfPtRKN4aXhkZGRkCKdOT2z5/aGHYJ6LY57rE/NcHPNcn5jn4moyz/JWXrxN9PT0RmultUtvDV7cN/JqN4AttTPw6sjIq5feGjrdM7TZdiYufnjr1q3jgwAwfnrfptvBwKsnnAM+Gh0Hjpb13abVmOeimOc6xTwXxTzXKea5qNrMM89AP1x3Dz68OAHg0sVzvT3drrU2cXpo8OK+Eee6yubbWXZ7wZba6X7xxMjIyMjIa4d2vjT0YndZ+tPbs/l2aIOY56KY5zrFPBfFPNcp5rmo2swzz0BvwMDRA987PvgOcOi1kYGHP71CrV069c4t4M3BcwB2vjR84sVNttP94lDP0ODgm04r3UCZ/rrN/l33+3PotZFXUbb+0FqY541gnusF87wRzHO9YJ43ojbyLBiGUfKLiIiIiIi2K07hICIiIiIqAQtoIiIiIqISsIAmIiIiIioBC2giIiIiohKwgCYiIiIiKgELaCIiIiKiErCAJiIiIiIqAQtoIiIiIqISsIAmIiIiIioBC2giIiIiohKwgPaqs8cODY+53QmiMmGeyUuYZ/KSbZpnFtAeNXbjittdICob5pm8hHkmL9mueZbd7gBVwtjwy0MXLqD/EEbPHe9zuzdEW8M8k5cwz+Ql2zfPgmEYbveBKmBs+NDL+M42SzN5FvNMXsI8k5ds1zxzCgcRERERUQlYQBMRERERlYAFNBERERFRCVhAe1Tf7r0Xhvq35coy5EHMM3kJ80xesl3zzJsIiYiIiIhKwDPQREREREQlYAFNRERERFQCFtBERERERCVgAU1EREREVAIW0EREREREJWABTURERERUAhbQREREREQlYAFNRERERFQCFtBERERERCVgAU1EREREVAIW0EREREREJWABTURERERUAhbQREREREQlYAFNRERERFQCFtBERERERCX4/wHryRr+raXljAAAAABJRU5ErkJggg==" width="480" style="display: block; margin: auto;" /></p>
<ul>
<li><span class="math inline">\(\hat{\beta}_{fe}=\)</span> 0.27 <span class="math inline">\(\times\)</span> 5.25+ 0.43 <span class="math inline">\(\times\)</span> 1.99+ 0.07 <span class="math inline">\(\times\)</span> 1.52+ 0.23 <span class="math inline">\(\times\)</span> -2.93=1.73</li>
</ul>
<p>What if we left out the last DD?</p>
<ul>
<li><span class="math inline">\(\hat{\beta}_{fe}=\)</span> 0.27 <span class="math inline">\(\times\)</span> 5.25+ 0.43 <span class="math inline">\(\times\)</span> 1.99+ 0.07 <span class="math inline">\(\times\)</span> 1.52= 2.39</li>
</ul>
<h2 id="gb-summary">GB Summary</h2>
<p><em>Goodman-Bacon (GB): “Difference-in-Differences with Variation in Treatment Timing” (2019, WP)</em></p>
<p><strong>Take aways</strong></p>
<ul>
<li><p><span class="math inline">\(\hat{\beta}_{fe}=\)</span> is a weighted average of all the DDs possible combinations</p></li>
<li><p>Weights <span class="math inline">\(\neq\)</span> popualion shares, but depend on treatment timing. Groups that are treated towards the middle of the period receive more weight.</p></li>
<li><p>If treatment effects vary over time, some DDs can be negative.</p></li>
<li><p>Also relevant for the common trend assumption: Violations can offset each other.</p></li>
<li><p>GB derives test for violation of weighted common trend assumption.</p></li>
</ul>
<p><strong>What we should do</strong></p>
<ul>
<li><p>Compute weights and DDs and check whether any of them are negative. (“bacondecomp” function in R and Stata).</p></li>
<li><p>Test for violation of common trend assumption.</p></li>
<li><p>Read the paper (there is much more than ocvered here)</p></li>
</ul>
<h2 id="now-to-the-cd-decomposition">Now to the CD decomposition</h2>
<p><em>Chaisemartin &amp; D’Haultfoeuille (CD): “Two-way fixed effects estimators with heterogeneous treatment effects” (forthcoming, AER)</em></p>
<p><strong>Decompose <span class="math inline">\(\beta_{fe}\)</span> in weighted TEs across <span class="math inline">\((g,t):D_{g,t}=1\)</span> cells</strong></p>
<ul>
<li>(back to the original example with constant treatment effects over time)</li>
</ul>
<pre><code>## `summarise()` has grouped output by &#39;G&#39;. You can override using the `.groups` argument.</code></pre>
<p><img src="data:image/png;base64,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" width="384" style="display: block; margin: auto;" /></p>
<h2 id="the-cd-decomposition">The CD decomposition</h2>
<p><em>Chaisemartin &amp; D’Haultfoeuille (CD): “Two-way fixed effects estimators with heterogeneous treatment effects” (forthcoming, AER)</em></p>
<p><strong>Decompose <span class="math inline">\(\beta_{fe}\)</span> in weighted TEs across <span class="math inline">\((g,t):D_{g,t}=1\)</span> cells</strong></p>
<ul>
<li>i.e. for the cell <span class="math inline">\(g=2,t=10\)</span>, weight number: 1</li>
</ul>
<p><img src="data:image/png;base64,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" width="384" style="display: block; margin: auto;" /></p>
<h2 id="the-cd-decomposition-1">The CD decomposition</h2>
<p><em>Chaisemartin &amp; D’Haultfoeuille (CD): “Two-way fixed effects estimators with heterogeneous treatment effects” (forthcoming, AER)</em></p>
<p><strong>Decompose <span class="math inline">\(\beta_{fe}\)</span> in weighted TEs across <span class="math inline">\((g,t):D_{g,t}=1\)</span> cells</strong></p>
<ul>
<li>i.e. for the cell <span class="math inline">\(g=2,t=11\)</span>, weight number: 2</li>
</ul>
<p><img src="data:image/png;base64,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" width="384" style="display: block; margin: auto;" /></p>
<h2 id="the-cd-decomposition-2">The CD decomposition</h2>
<p><em>Chaisemartin &amp; D’Haultfoeuille (CD): “Two-way fixed effects estimators with heterogeneous treatment effects” (forthcoming, AER)</em></p>
<p><strong>Decompose <span class="math inline">\(\beta_{fe}\)</span> in weighted TEs across <span class="math inline">\((g,t):D_{g,t}=1\)</span> cells</strong></p>
<ul>
<li>i.e. for the cell <span class="math inline">\(g=2,t=12\)</span>, weight number: 3</li>
</ul>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAwAAAAGACAMAAAAtcPVNAAAA81BMVEUAAAAAAAMAADkAAGQAAwQAA/oAOY0AZGQAZI0AZLIDAAADAwADAwMDBPoDvr4D+voEAwAEvr4E+vo5AAA5ADk5AGQ5jdZNTU1NTYxNbW1NjMRWtOlkAABkADlkAGRksvptTU1tTW1tTYxtbahtqOCMTU2MTW2MTYyMjG2MxPqNOQCNOWSN1vqZmZmobU2obW2obYyo4PqyZACy+rKy+vq+vr7EjE3E+sTE+vrIto7QsGrWjTnW+vrgqG3g+vri8PfmnwDx0oz147v6AwD6BAP6smT6xIz61o364Kj64OD6+gP6+gT6+rL6+sT6+tb6+uD6+vqrGHWgAAAACXBIWXMAAB2HAAAdhwGP5fFlAAAL7UlEQVR4nO3ccV8TdxKA8dVq7+TOkztr0wN72pZqtVKrZyiWRoOocBYk7//V3G4CJJukZodMMzszz/cvE7IwJr8nu5vlQzEAEiusBwAsEQBSIwCkRgBIjQCQGgEgNQJAagSA1AgAqREAUiMApEYASI0AkBoBIDUCQGoEgNQIAKkRAFIjAKRGAEiNAJAaASA1AkBqBIDUCACpEQBSIwCkRgBIjQCQGgEgNQJAagSgbbu01Dfol5YbYbO03HfIgwCUbW8vWUC/v2wBm5sU0BgB6NreXrKAfn/ZAjY3KaA5AljSdhP1TY7/82LyZr+Jicd/fFwUNya/wWYTkxs8L4p7yk+DWwSwJHkAx3c/WyqAvRtlA5MLWBrAuxvTDSZGADKHt4u/1lafOICPP/53uT1AZe/LiRviPcDMTigxAhA5vntvsFcsFcDSh0Az30EewB6HQOcIQOTd578NIxizCOD46yeTNy+xBxg8p4ARAhDZKwOoH4BPm7fip3z6+GPuIU/N4RdPPvXlRh+D1o6hMiMAkdk9wIyF63/RAfjC9X9n0fH7gvVfngSzBzhHACKz5wCX+SbLnYE+L0pLvYE/X3L7SAhA5vB28ZevP30EAk8IQOyYAAIhAJHq/PPdZ3yGHgcByOwVxVV2AIEQAFIjAKRGAEiNAJAaASA1AkBqBIDUCACpEQBSIwCkRgBIjQCQGgEgNQJAagSA1AgAqV0ygKKF4XS72QeAHAEEGgByBBBoAMgRQKABIBcoAECOAJAaASA1AkBqBIDUGi7k3tbUZgSAEJot5KP7BICQGi3k06c/EABCarSQe1seDoHMr0OZDwC5Jgv56LtXBOBhAMg1Wci9TqleAAG0cQDIBfoUyHz9mQ8AOQIINADkAl0IM19/5gNAjgACDQA5Agg0AOQCBQDIEQBSIwCkRgBIjQCQGgEgNQJAagSA1AIFYH4dynwAyBFAoAEgRwCBBoAcAQQaAHIEEGgAyBFAoAEgRwCBBoAcAQQaAHKBAgDkCACpEQBSIwCkRgBIjQCQGgEgNQJAaoECML8OZT4A5Agg0ACQI4BAA0COAAINADkCCDQA5Agg0ACQI4BAA0COAAINALlAAQByBIDUCACpEQBSIwCkRgBIjQCQGgEgtUABmF+HMh8AcgQQaADIEUCgASBHAIEGgBwBBBoAcgQQaADIEUCgASBHAIEGgFyjhbzT6Tya2qyFAQByTRby+43BycPd+mYEMOs1WkD4ojVcyASwmPUrjyHhq9ZsIfc4BFrM+pXHkPBVa7qQd+oFEMAs61ceQ8JXrelC7m3VNyOAGdavPIaEr1rDk2D2AItd5umHtaYfg9Z3AAQwBwF4xIUwNa+7XQJwhwDUEIBHBKCGADwiADUE4BEBqCEAjwhADQF4RABqCMAjAlBDAB4FCsAaF8I8IgA1BOARAaghAI8IQA0BeEQAagjAIwJQQwAeEYAaAvCIANQQgEeBAuBCGOQIQA0BeEQAagjAIwJQQwAeEYAaAvCIANQQgEcEoIYAPCIANQTgUaAArHEhzCMCUEMAHhGAGgLwiADUEIBHBKCGADwiADUE4BEBqCEAjwhADQF4FCOA39euz14I+1CUbo3+/fbm1Jdujh8wurE8LoR5FCOA9SuDmQA+FOWda1f+Vf377dQaX6tuXzzgYPSgZRGARyECGL2HTwVwUN15tvLrAVTv/DcnHjDcfyyPADwKEcB69RZeLeu/F7feFiOjFT9a+dV918ZfOLgyDmL4L51dAAF4FCGA39euVev/WvfDxTH/uT84BBrfHj5g+suXQwAeRQjgQ3G9OqD5R3ewPhXAem1HMHZxe/3sbFjjGIgAPAoTwPqVf3bLhV0LYP18Yf9RAGcPGO5ClkYAHoULYOIcYK12pD95cnAWwPkDCCCvMAEcVG/+B5N7gInjofl7gIsHKB0CcSHMoQgBDM5Ogge1k+DJRT+9wt9OfEQ6UDsJJgCHQgRwcP4x6N8mAlgfHfFcHx7frFUXvcaGK/78AWcfoy6NADwKEcDFLzPM/UD/7aIDfK0LYQTgUIgAql+FOBhe0r0y54sHiwLQ+lUIAnAoRgDVe3h1RDNv/Q/Wbs27d0ztl+EIwKEYAbQCAXhEAGoIwKNAAfCHsSAXJ4A3v/76Znxjf398o19awQAE4FGYAPb3X77c37+48ebNxY1+fzUFEIBHUQIoV/zLl+WqP79RGd3o91dUAAF4NGchH9+9Ub/j9KdOZ2Nqs5YF8GYYQN9Wt2s8APriN7q5C/ldUVx9Mr7Z2ygbeFTfrGUBlOu/TwDo6wRQ+vi4KO5N3O5t1TcjgFkE0AbClTN3IR/eHq7+55//dn7PycPd+mYtC6A8BCIAVIQrZ+45wNnCP7zz4uyukwfPpjZrWQDlLsD6iUc7CBdOo4V89M3U+m9fAIP9yf+9zcegXAl2qMlCPvp2d/qu9gUwqC1zkwthBOBQk4W80ym1+yR4MBWABQLwKMqFMALApRCAGgLwiADUEIBHBKCGADwKFEB1HcpyAH4ZziMCUEMAHhGAGgLwiADUEIBHBKCGADwiADUE4BEBqCEAjwhADQF4FCgALoRBjgDUEIBHBKCGADwiADUE4BEBqCEAjwhADQF4RABqCMAjAlBDAB4FCoALYZAjADUE4BEBqCEAjwhADQF4RABqCMAjAlBDAB4RgBoC8IgA1BCAR4EC4EIY5AhADQF4RABqCMAjAlBDAB4RgBoC8IgA1BCARwSghgA8IgA1BOBRoAC4EAY5AlBDAB4RgBoC8IgA1BCARwSghgA8IgA1BOARAaghAI8IQA0BeBQoAC6EQY4A1BCARwSghgA8IgA1BOARAaghAI8IQA0BeEQAagjAo2YL+eTh7tRmC7Z7vXrDAAx+bt0lXwZYaRTAyfdfCQPoG6guhG1b6nZNfzyG/oQATn/+RboHIAAY+RMCuMQhEAHACAGYIYA2SB2A7VNPAG3QjgAsdLvZB4AcAQQaAHJxLoTZrz/zASAXKABAjgCQGgEgNQJAagSA1AgAqREAUiMApBYoAPPrUOYDQI4AAg0AOQIINADkCCDQAJAjgEADQI4AAg0AOQIINADkCCDQAJALFAAgRwBIjQCQGgEgNQJAagSA1AgAqREAUgsUgPl1KPMBIEcAgQaAHAEEGgByBBBoAMgRQKABIEcAgQaAHAEEGgByBBBoAMgFCgCQIwCkRgBIjQCQGgEgNQJAagSA1AgAqQUKwPw6lPkAkCOAQANAjgACDQA5Agg0AOQIINAAkCOAQANAjgACDQA5Agg0AOQCBQDIEQBSa7SQ33c6j6Y2IwCE0GQhnzx4dvTtbn0zAkAITRby0XevTp8+q29GAAihyUJ+vzEY7NSPgQgAMRAAUuMQCKkFOgk2vw5lPgDkAn0Mar7+zAeAXKALYebrz3wAyBFAoAEgRwCBBoAcAQQaAHIEEGgAyF06AMAlnQAoAE4pBQCEQABIjQCQGgEgNQJAagSA1AgAqREAUiMApEYASI0AkBoBIDUCQGoEgNQIAKlpBTD7l1NW6+ThruUQpz91Ohu2z8LO8Gfbvg69LdMJyqfgq13hAEoBzPnbWSt18n35PzccordRNvDI8ll4v1G9Cdi+Dkf3tyxfhNGfLxQOoBTAnL+euEqnP/9S7gGMh+htGQ9QBmA6wenTH7YsX4TRuhcOoBTAnL+fu1rVIZDtEOUEtgP0yj2/6QS9rfIQyHCC9/++Xx6HCgcgAK0BHjwzfxZ2HllOUL712gYw+N+rQU/6FMQ4BBoFYDnE0TfP7J8F24OwXqdkfRgofgqCnAQPAzAcYvRzjU+Cyzc+49ehZ3oSXD0FPelTwMegKnaG737WH4Pafgg5aMPHoOIBuBCG1AgAqREAUiMApEYASI0AkBoBIDUCQGoEgNQIAKkRAFIjgNY5vPPCeoRECKB1CGCVCKBtju8WV59YD5EHAbQOe4BVIoDWIYBVIoDWIYBVIoDWIYBVIoDWOfyCc+DVIYDW+fi4uGc9Qx4EgNQIAKkRAFIjAKRGAEiNAJAaASA1AkBqBIDUCACpEQBSIwCkRgBIjQCQGgEgNQJAagSA1P4PbBmWyBZcWzoAAAAASUVORK5CYII=" width="384" style="display: block; margin: auto;" /></p>
<h2 id="the-cd-decomposition-3">The CD decomposition</h2>
<p><em>Chaisemartin &amp; D’Haultfoeuille (CD): “Two-way fixed effects estimators with heterogeneous treatment effects” (forthcoming, AER)</em></p>
<p><strong>Decompose <span class="math inline">\(\beta_{fe}\)</span> in weighted TEs across <span class="math inline">\((g,t):D_{g,t}=1\)</span> cells</strong></p>
<ul>
<li>i.e. for the cell <span class="math inline">\(g=2,t=13\)</span>, weight number: 4</li>
</ul>
<p><img src="data:image/png;base64,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" width="384" style="display: block; margin: auto;" /></p>
<h2 id="the-cd-decomposition-4">The CD decomposition</h2>
<p><em>Chaisemartin &amp; D’Haultfoeuille (CD): “Two-way fixed effects estimators with heterogeneous treatment effects” (forthcoming, AER)</em></p>
<p><strong>Decompose <span class="math inline">\(\beta_{fe}\)</span> in weighted TEs across <span class="math inline">\((g,t):D_{g,t}=1\)</span> cells</strong></p>
<ul>
<li>i.e. for the cell <span class="math inline">\(g=3,t=50\)</span>, weight number: 72</li>
</ul>
<p><img src="data:image/png;base64,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" width="384" style="display: block; margin: auto;" /></p>
<h2 id="the-cd-decomposition-5">The CD decomposition</h2>
<p><strong>Decompose <span class="math inline">\(\beta_{fe}\)</span> in weighted TEs across <span class="math inline">\((g,t):D_{g,t}=1\)</span> cells</strong></p>
<ul>
<li><span class="math inline">\(\beta_{fe}\)</span> is then given by</li>
</ul>
<p><span class="math display">\[\begin{align}
\beta_{fe}=E\left[\sum_{(g,t):D_{g,t}=1} \frac{N_{g,t}}{N_{D=1}} w_{g,t}\Lambda_{g,t}\right]
\end{align}\]</span></p>
<p>where</p>
<ul>
<li><span class="math inline">\(w_{g,t}\)</span> is the weight on group <span class="math inline">\(g\)</span> in period <span class="math inline">\(t\)</span></li>
<li><span class="math inline">\(\Lambda_{g,t}\)</span> is the TE in group <span class="math inline">\(g\)</span> in period <span class="math inline">\(t\)</span></li>
<li><span class="math inline">\(N_{D=1}\)</span> is the number of treated units.</li>
<li><span class="math inline">\(N_{g,t}\)</span> is the number of observations in cell <span class="math inline">\(g\)</span> and <span class="math inline">\(t\)</span>. </li>
</ul>
<p><strong>See Theorem 1 in CD</strong></p>
<ul>
<li>How are the weights defined?</li>
</ul>
<h2 id="cd-calculating-the-weights">CD: Calculating the weights</h2>
<p><strong>Calculating the CD weights</strong></p>
<ol style="list-style-type: decimal">
<li>Run a regression of <span class="math inline">\(D_{g,t}\)</span> on a constant, <span class="math inline">\(g\)</span> and <span class="math inline">\(t\)</span> fixed effects.</li>
<li>Save the residual, <span class="math inline">\(e_{fe,g,t}\)</span></li>
<li>Create the weight of that cell as</li>
</ol>
<p><span class="math display">\[\begin{align}
w_{fe,g_t}=\frac{e_{fe,g,t}}{\sum_{(g,t):D_{g,t}=1} \frac{N_{g,t}}{N_{D=1}}e_{fe,g,t}}
\end{align}\]</span></p>
<p><strong>Intuition</strong></p>
<ul>
<li>Consider cell <span class="math inline">\((g,t)\)</span> from a group that is treated for almost the entire period and at a time where almost all cells are treated.</li>
<li>We would predict that this cell is treated (because it is from a group that is mostly treated at a time that is mostly treated).</li>
<li><span class="math inline">\(\Rightarrow\)</span> small or even negative residual</li>
<li><span class="math inline">\(\Rightarrow\)</span> small or even negative weight.</li>
</ul>
<h2 id="an-example-from-cd">An example from CD</h2>
<ul>
<li>2 equally sized groups, 3 periods
<ul>
<li>group 1 is only treated in period 3</li>
<li>group 2 is treated in period 2 and 3 </li>
</ul></li>
<li>The weights are then:
<ul>
<li><span class="math inline">\(e_{fe,1,3}=1/6\)</span></li>
<li><span class="math inline">\(e_{fe,2,2}=2/6\)</span></li>
<li><span class="math inline">\(e_{fe,2,3}=-1/6\)</span></li>
</ul></li>
<li>So that <span class="math inline">\(\beta_{fe}=1/2 \times E(\Lambda_{1,3}) + 1\times E(\Lambda_{2,2}) - 1/2 \times E(\Lambda_{2,3})\)</span></li>
<li>If for example <span class="math inline">\(E(\Lambda_{2,3})=4\)</span> &amp; <span class="math inline">\(E(\Lambda_{1,3})=E(\Lambda_{2,2})=1\)</span>, then <span class="math inline">\(\beta_{fe}=-1/2\)</span></li>
<li>Estimate is negative, although all cell’s treatment effects are positive!</li>
<li>This is only an issue with heterogenous treatment effects.</li>
</ul>
<h2 id="lets-calculate-the-weights-in-our-example">Let’s calculate the weights in our example</h2>
<pre><code>## `summarise()` has grouped output by &#39;t&#39;. You can override using the `.groups` argument.</code></pre>
<p><img src="data:image/png;base64,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AhdDoC2LGmgI/Fn8UBCo4DgYAhUcB0OgguNgenqjnkCHoqeBYigIFNIIFNIIFNIIFNIIFNIIFNIIFNJ6Gig36oeCQAXHwRCo4DgYAhUcB0OgguNgCFRwHAyBCo6DIVDBcTA9DRRDQaCQRqCQRqCQRqCQRqCQRqCQRqCQ1tNAuVE/FAQqOA6GQAXHwRCo4DgYAhUcB0OgguNgCFRwHAyBCo6D6WmgGAoChTQChTQChTQChTQChTQChTQChbSeBsqN+qEgUMFxMAQqOA6GQAXHwRCo4DgYAhUcB0OgguNgCFRwHExPA8VQECikuUL7NBodLb2MQBGEJ7SbV++uvjtbfBmBIghPaFfff7h7+27xZQSKIDyhfdpN09PFazyBIgwChTQu8ZDW0y9J3Kgfip7eZiLQoejpjXoCHQoCFRwHQ6CC42AIVHAcDIEKjoN5cqBAJ9oJlELRkZYCBYIgUEgjUEgjUEgjUEgjUEgjUEgjUEgjUEgjUEgjUEgjUEgjUEgjUEgjUEhrJ9DH/7/kLt28Pgs38u7n0Wg35B6eziaFPKKTw8D799WZf14rga74mx06dPNDtoPBRk52s0aPwu3hp938FzDkEb16eRjwHSz+jhr/vFYCXfF343Tn7pdfszNo0JGTw6DjskADzrt7++NhwMNZdOmf10qgK/52sS7ll/iQI7N5IcdNsotfwHmTw+wSH27ep7+8zD4y+ecRaPW4V+8C7+HpUbh52bksaKDp/z6kkxr7179LfBFowGvSt+9C72HIjxSTUSbsR5ha+9fDL0mzQIONLKYE/ZKUnVuCHtFJyC9J+f5Nauwft5kqnM7OMGFvwwS97RPhNlOdedyohzQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQC7dz0xUnsTegxAu0cgTZBoF273k+evYm9Ef1FoJ3jDNoEgXaOQJsg0M4RaBME2jkCbYJAOzf9ku9IT0egnbs9Tg5ib0N/ESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESik/R8xLuLpAm95OgAAAABJRU5ErkJggg==" width="336" style="display: block; margin: auto;" />  - Largest weight at the beginning: few groups are treated. - Group 2 cells even get negative weight after <span class="math inline">\(t=20\)</span> because they are from a group that is mostly treated and at a time that that is mostly treated.</p>
<p><strong>And using equation (5) we get</strong>:</p>
<ul>
<li><p><span class="math inline">\(\hat{\beta}_{fe}\)</span>=10 <span class="math inline">\(\times\)</span> 0.03608 <span class="math inline">\(\times\)</span> 1+ 31 <span class="math inline">\(\times\)</span> 0.02135 <span class="math inline">\(\times\)</span> 2- 31 <span class="math inline">\(\times\)</span> 0.0007361 <span class="math inline">\(\times\)</span> 1=1.66</p></li>
<li><p>Note: the cells’ TEs are normally unobserved (we know the DGP).</p></li>
</ul>
<h2 id="can-we-link-the-cd-and-gb-weights">Can we link the CD and GB weights?</h2>
<p><strong>The GB weights</strong> </p>
<p><img src="data:image/png;base64,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" width="480" style="display: block; margin: auto;" /> </p>
<ul>
<li>Sum of weights where G=2 is treated: 0.27+0.07=0.34</li>
<li>Sum of weights where G=3 is treated: 0.43+0.23= 0.66</li>
</ul>
<p><strong>The CD weights</strong> </p>
<pre><code>## `summarise()` has grouped output by &#39;t&#39;. You can override using the `.groups` argument.</code></pre>
<p><img src="data:image/png;base64,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" width="240" style="display: block; margin: auto;" /> </p>
<ul>
<li>Sum of weights where G=2 is treated: 10 <span class="math inline">\(\times\)</span> 0.03608 -31 <span class="math inline">\(\times\)</span> 0.0007361=0.34</li>
<li>Sum of weights where G=3 is treated: 31 <span class="math inline">\(\times\)</span> 0.02135=0.66.</li>
</ul>
<h2 id="back-to-cd">Back to CD</h2>
<p><strong>So what should we do?</strong></p>
<ol style="list-style-type: decimal">
<li>Calculate weights of the cells!</li>
<li>If you have negative weights: calculate <span class="math inline">\(\underline{\sigma}_{fe}\)</span> (See Corollary 1 in the paper)</li>
</ol>
<ul>
<li>tells us the amount of treatment heterogeneity that is required to for the pop weighted average treatment effect to have the opposite sign of <span class="math inline">\(\hat{\beta}_{fe}\)</span>.</li>
<li>So if <span class="math inline">\(\underline{\sigma}_{fe}\)</span> is very small you should be worried!</li>
<li>Are treatment effects likely to be correlated with weights? Check if weights are correlated with covariates.</li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>If things still look bad: use their new estimator: <span class="math inline">\(DID_M\)</span></li>
</ol>
<ul>
<li>Identies average effect across switching cells: <span class="math display">\[\begin{align}
  DID_M=\sigma^T_{t=2}\left(\overbrace{\frac{N_{1,0,t}}{N_S}DID_{+,t}}^{\text{&quot;joiners&quot;}}+\overbrace{\frac{N_{0,1,t}}{N_S}DID_{-,t}}^{\text{&quot;leavers&quot;}} \right)
  \end{align}\]</span></li>
</ul>
<ol start="4" style="list-style-type: decimal">
<li>In Stata</li>
</ol>
<ul>
<li><p> calculates weights and <span class="math inline">\(\underline{\sigma}_{fe}\)</span></p></li>
<li><p> estimates <span class="math inline">\(DID_M\)</span></p></li>
<li><p>R is on the way</p></li>
</ul>
<h2 id="read">Read!</h2>
<p>Read both papers. There are many more insights in the papers.</p>
<ul>
<li><p>Check assumptions!</p></li>
<li><p>Adding controls</p></li>
<li><p>First differences</p></li>
<li><p>Placebo tests</p></li>
<li><p>Correlation between weights and covariates</p></li>
</ul>
<p>… and much more</p>
<h2 id="summary">Summary</h2>
<p>Question: What is <span class="math inline">\(\hat{\beta}_{fe}\)</span> from OLS regression of: <span class="math display">\[ y_{i,g,t}=\alpha+\gamma&#39; G_{g}+\psi&#39; T_{t}+ \beta_{fe} D_{g,t}+e_{i,g,t}\]</span> capturing?</p>
<ul>
<li>Goodman-Bacon (2019, WP) shows that in a staggered adoptation design we can think of this as a weighted average of all possible difference-in-differences.
<ul>
<li>Weights are not equal to population weights, but depend on when units become treated!</li>
<li>Has implications for common trend assumption.</li>
<li>DDs might enter with opposite sign if treatment effect varies over time. </li>
</ul></li>
<li>Chaisemartin &amp; D’Haultfoeuille (forthcoming, AER) show that <span class="math inline">\(\hat{\beta}_{fe}\)</span> is a weighted average across all treated <span class="math inline">\((g,t)\)</span> cells.
<ul>
<li>The weights can be negative and bias estimates when TEs are heterogeneous!</li>
<li>Provides a quantification of the degree of TE heterogeneity required in order to flip the sign.</li>
<li>Provides a new estimator.</li>
<li>And much more.</li>
</ul></li>
</ul>
<h2 id="what-i-will-do-now">What I will do now</h2>
<ol style="list-style-type: decimal">
<li>Calculate Chaisemartin &amp; D’Haultfoeuille weights (with  in Stata or manually in R).</li>
<li>If I have negative weights, I’ll check how much treatment heterogeneity is required to flip the sign (with  in Stata).</li>
<li>If 2. is small and it is meaningful, I’ll apply their new estimator.</li>
</ol>
<ul>
<li>Note it only identifies from switching cells!</li>
</ul>
<ol start="4" style="list-style-type: decimal">
<li>If I have a staggered adoption design: check for negative DDs using GB approach (using  in Stata).</li>
<li>Create event study charts if possible.</li>
<li>Use new toolbox to check placebo effects/ weighted common trend assumptions.</li>
</ol>
<h2 id="thanks">Thanks</h2>
<p>Thanks to Clément, Xavier &amp; Andrew for excellent papers!</p>
</div>

  <!-- dynamically load mathjax for compatibility with self-contained -->
  <script>
    (function () {
      var script = document.createElement("script");
      script.type = "text/javascript";
      script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
      document.getElementsByTagName("head")[0].appendChild(script);
    })();
  </script>

</body>
</html>
